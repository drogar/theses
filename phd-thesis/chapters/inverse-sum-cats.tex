%!TEX root = /Users/gilesb/UofC/thesis/phd-thesis/phd-thesis.tex
\chapter{Inverse sum categories} % (fold)
\label{cha:inverse_sum_categories}

In this chapter we define inverse sum categories, an inverse category with a construction that
behaves as a coproduct, but without the requirement for a coproduct map. We will show these are
given by inverse categories with a disjointness tensor.

We then show inverse sum categories are equivalent to their matrix categories and are, in fact
Unique Decomposition Categories\cite{haghverdi:2000phd}.

In the final part of the chapter, we consider inverse categories with both an inverse sum and
inverse product, where the inverse product distributes overs the inverse sum in a specific way. We
show that completing such a category, in the sense of
Chapter~\ref{chap:completing_a_discrete_inverse_category}, produces a distributive restriction
category where the product distributes over the coproduct.

\section{Inverse sum categories} % (fold)
\label{sec:inverse_sum_categories}

\subsection{Inverse sums} % (fold)
\label{sub:inverse_sums}

\begin{definition}\label{def:inverse_sum}
  In an inverse category with disjoint joins, an object $X$ is the \emph{inverse sum} of $A$ and
  $B$ when there exist maps $i_1,\ i_2,\ \xa,\ \xb$ such that:
  \begin{enumerate}[{(}i{)}]
    \item $i_1$ and $i_2$ are monic;
    \item $i_1 : A \to X$, $i_2: B \to X$, $\xa: X \to A$ and $\xb: X \to B$.
    \item $\inv{i_1} = \xa$ and $\inv{i_2} = \xb$.
    \item $\inv{i_1}i_1 \perp \inv{i_2}i_2$ and $\inv{i_1}i_1 \djoin \inv{i_2}i_2 = 1_X$.
  \end{enumerate}
  $i_1$ and $i_2$ will be referred to as the \emph{injection} maps of the inverse sum.
\end{definition}

\begin{lemma}\label{lem:inverse_sum_is_unique}
  The inverse sum $X$ of $A$ and $B$ is unique up to isomorphism.
\end{lemma}
\begin{proof}
  Assume we have two inverse sums over $A$ and $B$:
  \[
    \xymatrix{
      A\ar[r]^{i_1} &X\ar@/^9pt/[l]^{x_0} \ar@/_9pt/[r]_{x_1} & B \ar[l]_{i_2}
    }
    \qquad  \text{ and  }\qquad
    \xymatrix{
      A\ar[r]^{\jay_1} &Y\ar@/^9pt/[l]^{y_1} \ar@/_9pt/[r]_{y_2} & B \ar[l]_{\jay_2}
    }.
  \]
  We will show that the map $x_1 \jay_1 \djoin x_2 \jay_2 : X \to Y$ is an isomorphism.

  Note by the fact that $i_2$ is monic, we may conclude from the definition that
  $0 = \rst{x_1 i_1 x_2}$ and therefore $0 = x_1 i_1 x_2$. Then, given that $x_1$ is the inverse
  of the monic $i_1$, we may calculate
  $0 = \rg{0} = \wrg{x_2 i_1 x_2} = \rst{\inv{x_2}\, \inv{i_1}\, i_1} =
  \rst{\inv{x_2}\, \inv{i_1}} = \wrg{i_1 x_2}$. From this we see $i_1 x_2 = 0$. Similarly, we have
  $i_2 x_2 = 0$, $j_1 y_2 =0$ and $j_2 y_1 = 0$.

  Next, by Lemma~\ref{lem:disjointness_various}, we know that $\rst{\xa}\cdperp\rst{\xb}$ as both
  $i_1$ and $i_2$ are monic. By the same lemma, $\rg{\jay_1} \cdperp \rg{\jay_2}$ as $y_1, y_2$
  are the inverses of monic maps.  Then, from \axiom{Dis}{7}, we have
  $x_2 \jay_1 \cdperp x_2 \jay_2$, hence we may form $x_2 \jay_1 \djoin x_2 \jay_2 : X \to Y$.

  Similarly, we may form the map $y_1 i_1 \djoin y_2 i_2 : Y \to X$. Computing their composition:
  \begin{align*}
    (x_2 \jay_1 \djoin x_2 \jay_2)(y_1 i_1 \djoin y_2 i_2)
      &= (x_2 \jay_1 (y_1 i_1 \djoin y_2 i_2))\djoin (x_2 \jay_2(y_1 i_1 \djoin y_2 i_2))\\
      &= x_2 \jay_1 y_1 i_1 \djoin x_2 \jay_1 y_2 i_2 \djoin x_2 \jay_2 y_1 i_1 \djoin x_2
        \jay_2 y_2 i_2 \\
      &= x_2\, 1\, i_1 \djoin x_2\, 0\, i_2 \djoin x_2\, 0\, i_1 \djoin x_2\, 1\, i_2\\
      &= x_2 i_1 \djoin x_2 i_2 = 1.
  \end{align*}
  Computing the other direction,
  \begin{align*}
    (y_1 i_1 \djoin y_2 i_2)(x_2 \jay_1 \djoin x_2 \jay_2)
      &= (y_1 i_1 (x_2 \jay_1 \djoin x_2 \jay_2) )\djoin (y_2 i_2(x_2 \jay_1 \djoin x_2 \jay_2))\\
      &= y_1 i_1 x_2 \jay_1 \djoin y_1 i_1 x_2 \jay_2 \djoin y_2 i_2 x_2 \jay_1
        \djoin y_2 i_2 x_2 \jay_2\\
      &= y_1\, 1\, \jay_1 \djoin y_1\, 0\, \jay_2 \djoin y_2\, 0\, \jay_1 \djoin y_2\, 1\, \jay_2\\
      &= y_1 \jay_1 \djoin y_2 \jay_2 = 1.\\
  \end{align*}
  This shows that the map between any two inverse sums over the same two objects is an isomorphism.
\end{proof}

% TODO: Is this needed??? Where? Why?
%\begin{lemma}\label{lem:all_maps_to_inverse_sum_are_disjoint}
%  Suppose $X$ is the inverse sum of $A$ and $B$ in the inverse category \X. Then for all maps
%  $f:C \to A$ and $g: C \to B$, the composition with the injections is disjoint, that is,
%  $f i_1 \perp g i_2$. (This is not right - need further thought...)
%\end{lemma}
%\begin{proof}
%  First note $f i_1 = f i_1 \wrg{i_1} = f i_1 \inv{i_1} i_1$ and similarly, $g i_2 = g i_2
%  \inv{i_2} i_2$.
%\end{proof}

\begin{definition}\label{def:inverse_sum_category}
  Suppose \X is an inverse category with disjoint joins. If every pair of objects has an inverse
  sum, we call the category an \emph{inverse sum} category. For any two objects $A,B$ in \X, we
  write their inverse sum as $\invsum{A}{B}$.
\end{definition}

\begin{lemma}\label{lem:tensor_disjoint_sum_cats_are_inverse_sum_categories}
  Let \X be an inverse category with a restriction 0 and a disjoint sum tensor $\+$. Then $\X$ is
  an inverse sum category.
\end{lemma}
\begin{proof}
  We claim that setting $i_i = \cp{i}$ and $x_i = \icp{i}$ and setting $X = A\+B$ produces inverse
  sums in \X and show this satisfies the four conditions of Definition~\ref{def:inverse_sum}.
  \begin{enumerate}[{(}i{)}]
    \item From Lemma~\ref{lem:tensor_identities}, we know that $\cpa$ and $\cpb$ are monic maps.
    \item $\cpa : A \to A\+B$, $\cpb: B \to A\+B$, $\icpa: A\+B \to A$ and $\icpb: A\+B \to B$.
    \item $\inv{\cpa} = \icpa$ and $\inv{\cpb} = \icpb$.
    \item $\inv{i_1}i_1 = 1\+ 0 \tperp 0\+1 = \inv{i_2}i_2$ as
      $1\+0 \tjdown 0\+1 = (\inv{\upr}\+\inv{\upl})$ and
      $1\+0 \tjup 0\+1 = (\icpa\+\icpb)$. For their join,
      $(1\+0)\tjoin (0\+1) = (\inv{\upr}\+\inv{\upl})(\icpa\+\icpb) =
      \inv{\upr}\icpa \+ \inv{\upl}\icpb = 1\+1 = 1$.
  \end{enumerate}
\end{proof}

\begin{lemma}\label{lem:inverse_sums_have_identity_zero}
  If $A$ is an object in \X, an inverse sum category, then $A+0$ is isomorphic to $A$.
\end{lemma}
\begin{proof}
  We write the inverse sum diagram:
  \[
    \xymatrix{
      A\ar[r]^{1} &A\ar@/^9pt/[l]^{1} \ar@/_9pt/[r]_{0} & 0 \ar[l]_{0}.
    }
  \]
\end{proof}
\begin{lemma}\label{lem:functor_preserving_joins_preserves_inverse_sums}
  Suppose $\X$ is an inverse sum category and $\Y$ is an inverse category with a restriction zero.
  Further, suppose $F:\X \to \Y$ is a restriction functor which preserves disjoint joins. Then,
  $F$ preserves inverse sums.
\end{lemma}
\begin{proof}
  In \X, consider the inverse sum over $A$ and $B$,
  \[
    \xymatrix{
      A\ar[r]^{i_1} &X\ar@/^9pt/[l]^{x_0} \ar@/_9pt/[r]_{x_1} & B \ar[l]_{i_2}
    }.
  \]
  The functor $F$ maps this as follows:
  \[
    \xymatrix@R+10pt@C+10pt{
      F(A)\ar[r]^{F(i_1)} &F(X)\ar@/^13pt/[l]^{F(x_0)} \ar@/_13pt/[r]_{F(x_1)} & F(B)\ar[l]_{F(i_2)}
    }.
  \]
  As $F$ is a restriction functor, we immediately have $F(x_0) = F(\inv{i_1}) = \inv{F(i_1)}$ and
  $F(x_1) = \inv{F(i_2)}$. Since $F$ preserves the disjoint join, we also have
  $\inv{F(i_1)}F(i_1) \cdperp\inv{F(i_2)}F(i_2)$ and
  $\inv{F(i_1)}F(i_1) \djoin \inv{F(i_2)}F(i_2) = 1$.

  Finally, as $F$ is a restriction functor, it preserves monics, hence $F(i_1)$ and $F(i_2)$ are
  both monic and therefore $F(X)$ is the inverse sum of $F(A)$ and $F(B)$.

\end{proof}
\begin{lemma}\label{lem:inverse_sum_maps_are_perp}
  Given \X an inverse sum category and maps $f:A \to C$ and $g:B\to D$ in \X. Then
  $\inv{i_1} f i_1 \cdperp \inv{i_2} g i_2 : \invsum{A}{B}\to \invsum{A}{B}$.
\end{lemma}
\begin{proof}
  Note that $\rst{\inv{i_1} f i_1} = \rst{\inv{i_1} f} \le \rst{\inv{i_1}}$ and similarly
  $\rst{\inv{i_2} g i_2} \le \rst{\inv{i_2}}$. Then, by \axiom{Dis}{3}, we have
  $\rst{\inv{i_1} f i_1} \cdperp \rst{\inv{i_2} g i_2}$.
  As $\wrg{\inv{i_1} f i_1} \le \wrg{i_1}$ and  $\wrg{\inv{i_2} g i_2} \le \wrg{i_2}$, we
  have $\wrg{\inv{i_1} f i_1} \cdperp \wrg{\inv{i_2} g i_2}$ and by
  Lemma~\ref{lem:disjointness_various}, this means  $\inv{i_1} f i_1\cdperp \inv{i_2} g i_2$.
\end{proof}


\begin{lemma}\label{lem:inverse_sums_have_unique_maps_out}
  Given $\X$ is an inverse sum category. Denote the inverse sum of objects $A,B$ of $\X$ by
  $\invsum{A}{B}$. Then for objects $A,B$ and $X$ with maps $f:A\to X$ and $g:B\to X$ such that
  $\rg{f} \cdperp \rg{g}$, there exists a unique map $h$ making the following diagram commute.
  \[
    \xymatrix@R+10pt@C+28pt {
      A \ar[dr]^{f} \ar[d]_{i_1}
        \\
      \invsum{A}{B} \ar@{.>}[r]^{h}
        & X\text{.}\\
      B \ar[ur]_{g} \ar[u]_{i_2}
    }
  \]
  We use the notation $f\rgp g$ for the unique map $h$.
\end{lemma}
\begin{proof}
  As $\rg{f} \cdperp \rg{g}$ and $\rst{\inv{i_1}} \cdperp \rst{\inv{i_2}}$ we may form the map $h'
  = \inv{i_1}f \djoin \inv{i_2}g$. By its construction, $h'$ is a map from $\invsum{A}{B}$ to $X$
  which makes the diagram commute. Suppose now that both maps $v$ and $w$ are such maps. Then we
  have
  \[
    (\inv{i_1}i_1) v = (\inv{i_1}i_1) w \quad\text{ and }\quad(\inv{i_2}i_2) v = (\inv{i_2}i_2) w.
  \]
  As $\inv{i_1}i_1 \cdperp \inv{i_2}i_2$, by Lemmas~\ref{lem:disjointness_various} and
  \ref{lem:join_is_associative_and_commutative_monoid}, we know that $(\inv{i_1}i_1) v \cdperp
  (\inv{i_2}i_2) v$ and $(\inv{i_1}i_1) w \cdperp (\inv{i_2}i_2) w$ allowing us to form their
  respective disjoint joins. As the disjoint joins of equal maps remains equal, we have
  \begin{align*}
    (\inv{i_1}i_1) v \djoin (\inv{i_2}i_2) v &=     (\inv{i_1}i_1) w \djoin (\inv{i_2}i_2) w \\
    (\inv{i_1}i_1 \djoin \inv{i_2}i_2 )v &=     (\inv{i_1}i_1 \djoin \inv{i_2}i_2) w \\
    (1 )v &=     (1) w \\
        v &=  w.
  \end{align*}
\end{proof}

\begin{corollary}\label{cor:inverse_sums_have_unique_maps_in}
  Given $\X$ is an inverse sum category. Then for objects $A,B$ and $X$ with maps $f:X\to A$
  and $g:X\to B$ such that
  $\rst{f} \cdperp \rst{g}$, there exists a unique map $h$ making the following diagram commute.
  \[
    \xymatrix@R+10pt@C+28pt {
      &A \ar[d]_{i_1}
        \\
      X   \ar[dr]_{g} \ar[ur]^{f}  \ar@{.>}[r]^{h} & \invsum{A}{B}\\
      & B \ar[u]_{i_2}\text{.}
    }
  \]
  We use the notation $f\rstp g$ for the unique map $h$.
\end{corollary}
\begin{proof}
  This is simply the dual of Lemma~\ref{lem:inverse_sums_have_unique_maps_out}. The unique map $h$
  in this case is $f i_1 \djoin g i_2$.
\end{proof}

\begin{corollary}\label{cor:inverse_sums_have_unique_maps}
  Suppose $\X$ is an inverse sum category. Then for objects $A,B,C$ and $D$ with maps $f:A\to C$
  and $g:B\to D$, there exists a unique map $h$ making the following diagram commute.
  \[
    \xymatrix@R+10pt@C+28pt {
      A \ar[r]^{f} \ar[d]_{i_1}
        & C \ar[d]_{i_1} \\
      \invsum{A}{B} \ar@{.>}[r]^{h}
        & \invsum{C}{D}\\
      B \ar[r]_{g} \ar[u]_{i_2}
        & D \ar[u]_{i_2}\text{.}
    }
  \]
  We use the notation $\invsum{f}{g}$ for the map $h$.
\end{corollary}
\begin{proof}
  This follows directly from Lemma~\ref{lem:inverse_sums_have_unique_maps_out} by setting
  $X = \invsum{C}{D}$. The unique map in this case is $\inv{i_1} f i_1 \djoin \inv{i_2} g i_2$.
\end{proof}
\begin{lemma}\label{lem:functor_preserving_inverse_sums_preserves_joins}
  Suppose $\X$ and $\Y$ are inverse sum categories and $F:\X \to \Y$ is a restriction functor which
  preserves inverse sums. Then, $F$ preserves disjoint joins.
\end{lemma}
\begin{proof}
  By stating that $F$ preserves the inverse sum, we mean it preserves diagrams derived via the
  properties of the inverse sum, and specifically, it will preserve the diagrams of
  Lemma~\ref{lem:inverse_sums_have_unique_maps_out} and
  Corollaries~\ref{cor:inverse_sums_have_unique_maps_in} and
  \ref{cor:inverse_sums_have_unique_maps}.

  Suppose we are given $f, g: A \to B$ with $f \cdperp g$. In the inverse sum category, we know that
  $f \djoin g = (\rst{f}i_1 \djoin \rst{g} i_2) (\inv{i_1} f i_1 \djoin \inv{i_2} g i_2)
  (\inv{i_1} \rg{f} \djoin \inv{i_2} \rg{g})$, as this follows by:
  \begin{enumerate}
    \item Apply Corollary~\ref{cor:inverse_sums_have_unique_maps_in} to $\rst{f}$ and $\rst{g}$;
    \item then apply Corollary~\ref{cor:inverse_sums_have_unique_maps} to $f, g$;
    \item finally apply Lemma~\ref{lem:inverse_sums_have_unique_maps_out} to $\rg{f}, \rg{g}$.
  \end{enumerate}

  Thus, we have that $f\djoin g =
  (\rst{f} \rstp \rst{g})(\invsum{f}{g})(\rg{f} \rgp \rg{g})$. As $F$ preserves
  the inverse sum, this gives us:
  \begin{align*}
    F(f\djoin g) &= F(\rst{f}\rstp \rst{g})F(\invsum{f}{g})F(\rg{f} \rgp \rg{g})\\
    &=(F(\rst{f})\rstp F(\rst{g}))(\invsum{F(f)}{F(g)})(F(\rg{f}) \rgp F(\rg{g}))\\
    &=(\rst{F(f)}\rstp \rst{F(g)})(\invsum{F(f)}{F(g)})(\wrg{F(f)} \rgp \wrg{F(g)})\\
    &=F(f) \djoin F(g).
  \end{align*}

  The last line is due to \Y being an inverse sum category as well.

\end{proof}


% subsection inverse_sums (end)

\subsection{Inverse sum tensor} % (fold)
\label{sub:inverse_sum_tensor}
\begin{definition}\label{def:inverse_sum_tensor}
  An \emph{inverse sum tensor} in an inverse category \X with disjoint joins $\djoin$ based
  on a disjointness relation $\cdperp$ and a restriction zero
  is given by a tensor combined with two restriction monics, $\cpa$ and $\cpb$. The data for the
  tensor is:
 \begin{align*}
    \_ \+ \_ &: \X \times \X \to \X\ \ \text{(a restriction functor preserving disjoint joins)}\\
    0 &: \boldsymbol{1}\to \X \\
    \upl &: 0 \+ A \to A\\
    \upr &: A \+ 0 \to A\\
    a_\+ &: (A \+ B) \+ C \to A \+ (B \+ C) \\
    c_\+ &: A \+ B \to B \+ A\\
    \cpa &: A \to A \+ B\\
    \cpb &: B \to A \+ B
  \end{align*}
  where $\upl, \upr, a_\+, c_\+$ are all isomorphisms and the standard symmetric monoidal
  equations and coherence diagrams hold. The unit of the tensor, $0: \boldsymbol{1}\to \X$, is the
  restriction zero of the category. We specifically note that preserving disjoint joins means the
  tensor obeys the following two equations:
  \begin{align}
    f \cdperp g, \ h \cdperp k&\text{ implies } f\+ h \cdperp g \+ k
    \label{eq:invsum_preserve_perp}\\
    f \cdperp g, \ h \cdperp k &\text{ implies } (f\djoin g)\+(h\djoin k) = (f \+h )\djoin (g\+k).
    \label{eq:invsum_preserve_join}
  \end{align}

\end{definition}


\begin{lemma}\label{lem:a_disjoint_sum_tensor_is_an_inverse_sum_tensor}
  Given an inverse category \X with a disjoint sum tensor $\+$ as in
  Definition~\ref{def:disjoint_sum_tensor}, then $\+$ is an inverse sum tensor.
\end{lemma}
\begin{proof}
  From the data of the disjoint sum tensor, the only thing remaining to show is that the tensor
  preserves the disjoint join.

  Suppose we have $f \tperp g$ and $\ h \tperp k$.
  From Lemma~\ref{lem:properties_of_tjdown_and_tjup}, item~\ref{lemitem:l_r_preserve_tensor}, we
  know both $(f\+h)\tjdown(g\+k)$ and $(f\+h)\tjup(g\+k)$ exist, hence $(f\+h)\tperp(g\+k)$.
  This shows Condition~\ref{eq:invsum_preserve_perp}.

  For Condition~\ref{eq:invsum_preserve_join}, we compute from the right hand side:
  \begin{align*}
    (f\+h)\tjoin(g\+k) &= (f\+h)\tjdown (g\+k) \wrg{(f\+h)}\tjup \wrg{(g\+k)}\\
    &= \left( (f\tjdown g)\+ (h \tjdown k) \right)
       \left( (\rg{f}\+\rg{h}) \tjup (\rg{g}\+\rg{k}) \right) \\
    &= \left( (f\tjdown g)\+ (h \tjdown k) \right)
       \left( (\rg{f}\tjup \rg{g}) \+ (\rg{h}\tjup\rg{k}) \right) \\
    &= \left( (f\tjdown g)(\rg{f}\tjup \rg{g})\right) \+
       \left((h \tjdown k) (\rg{h}\tjup\rg{k}) \right) \\
    &=  (f\tjoin g)\+(h \tjoin k).
  \end{align*}
  The second and third lines above again use
  Lemma~\ref{lem:properties_of_tjdown_and_tjup}~\ref{lemitem:l_r_preserve_tensor}.

\end{proof}

\begin{lemma}\label{lem:an_inverse_sum_tensor_gives_inverse_sums}
  If $\+$ is an inverse sum tensor in the inverse category \X, then $A\+B \cong A+B$, an inverse
  sum of $A$ and $B$.
\end{lemma}
\begin{proof}
  As $\+$ is a restriction functor from $\X\times\X$ to $\X$, this actually follows immediately
  from Lemma~\ref{lem:functor_preserving_joins_preserves_inverse_sums}. It may also be proven
  directly:

  Consider the inverse sum diagram:
  \[
    \xymatrix @C+60pt{
      A\ar[r]^{i_1=\inv{\upr} (1\+0)}
        & A\+B \ar@/^15pt/[l]^{x_0=(1\+0)\upr} \ar@/_15pt/[r]_{x_1=(0\+1)\upl}
          & B \ar[l]_{i_2=\inv{\upl} (0\+1)}
    }.
  \]
  Therefore, we have $\inv{i_1}i_1 =
  (1\+0)\upr \inv{\upr} (1\+0) = (1\+0)(1\+0) = (1\+0)$. Similarly, $\inv{i_2} i_2 = (0\+1)$.
  Since $0\cdperp 1$, we have $\inv{i_1}i_1 \cdperp \inv{i_2} i_2$.

  By the functorality of $\+$ and that it preserves disjoint joins, we have $(1\+0) \djoin (0 \+1)
  = (1\djoin 0 ) \+ (0\djoin 1) = 1 \+ 1 = 1_{A\+B}$. Hence $A\+ B$ is an inverse sum of $A$ and
  $B$ and by Lemma~\ref{lem:inverse_sum_is_unique} it is isomorphic to $A+B$.
\end{proof}

Conversely, we can show that given a tensor which produces inverse sums, that tensor will
be an inverse sum tensor.

\begin{lemma}\label{lem:inverse_sums_give_inverse_sum_tensors}
  Suppose we have an inverse category $\X$ with restriction zero, a disjointness relation $\cdperp$, a
  disjoint join $\djoin$ and a symmetric monoidal tensor $\+$, with natural restriction monics
  $\cpa: A\to A\+B$ and $\cpb: B \to A\+B$. Further suppose that $A\+B$ is an inverse sum under $\cpa$ and
  $\cpb$. When $f,g :A \to B$ and $h,k:C\to D$ with $f \cdperp g$ and $h \cdperp k$, then $f
  \+h \cdperp g\+k$ and $(f\+h)\djoin (g\+k) = (f\djoin g)\+ (h\djoin k)$.
\end{lemma}
\begin{proof}
  Similarly, this follows immediately from
  Lemma~\ref{lem:functor_preserving_inverse_sums_preserves_joins}. We show it directly below:
  \begin{equation}
    \xymatrix@R+10pt@C+28pt {
      A \ar[r]^{\rst{f}} \ar[d]_{\cpa} \ar@/^20pt/[rr]^f
        & A \ar[d]_{\cpa} \ar[r]^{f\djoin g} & B \ar[d]_{\cpa}\\
      A\+C \ar[r]^{\rst{f}\+\rst{h}}_{(1)}
        & A\+C  \ar[r]^{f\djoin g \+ h\djoin k}_{(2)} & B \+D \\
      C \ar[r]_{\rst{h}} \ar[u]_{\cpb} \ar@/_20pt/[rr]_h
        & C \ar[u]_{\cpb} \ar[r]_{h\djoin k} & D \ar[u]_{\cpb}
    }\label{dia:sum_preserve_joins1}
  \end{equation}
  Consider $\inv{\cpa} \rst{f}\cpa$. As this is idempotent and we are in an inverse category, we
  know that $\inv{\cpa} \rst{f}\cpa = \rst{\inv{\cpa} \rst{f}\cpa} = \rst{\inv{\cpa}\rst{f}} =
  \wrg{\rst{f}\cpa}$. Similarly, $\inv{\cpb}\rst{h}\cpb = \wrg{\rst{h}\cpb}$. By \axiom{Dis}{5} and
  \axiom{Dis}{6}, we know that $\wrg{\rst{f}\cpa} \cdperp \wrg{\rst{g}\cpa}$ and $\wrg{\rst{h}\cpb}
  \cdperp \wrg{\rst{k}\cpb}$. As shown in the proof of
  Lemma~\ref{lem:inverse_sum_is_unique}, we know $\wrg{\cpa}\cdperp \wrg{\cpb}$. Hence, by
  \axiom{Dis}{3}, we have $\wrg{\rst{x}\cpa} \cdperp \wrg{\rst{y}\cpb}$ for any maps $x,y$.

  Hence, we can form the map $\wrg{\rst{f}\cpa} \djoin \wrg{\rst{h}\cpb}$. Referring to the
  Diagram~\ref{dia:sum_preserve_joins1}, by Corollary~\ref{cor:inverse_sums_have_unique_maps} there is
  a unique map at location $(1)$ which makes the diagram commute --- currently given as
  $\rst{f}\+\rst{h}$. The map $\wrg{\rst{f}\cpa} \djoin \wrg{\rst{h}\cpb}$ also makes the diagram commute.
  Hence, we have $\wrg{\rst{f}\cpa} \djoin \wrg{\rst{h}\cpb} = \rst{f}\+\rst{h}$. Similarly,
  $\wrg{\rst{g}\cpa} \djoin \wrg{\rst{k}\cpb} = \rst{g}\+\rst{k}$. By
  Lemma~\ref{lem:disjoint_joins_only_when_all_disjoint}, this means $\rst{f\+h} \cdperp \rst{g\+k}$.

  Using a similar argument based on the diagram

  \begin{equation}
    \xymatrix@R+10pt@C+28pt {
      A \ar[r]^{f\djoin g} \ar[d]_{\cpa} \ar@/^20pt/[rr]^f
        & B \ar[r]^{f} \ar[d]_{\cpa}  & B \ar[d]_{\cpa}\\
      A\+C  \ar[r]^{f\djoin g \+ h\djoin k}_{(3)}
        & B\+D \ar[r]^{\rg{f}\+\rg{h}}_{(4)}   & B \+D \\
      C  \ar[r]_{h\djoin k} \ar[u]_{\cpb} \ar@/_20pt/[rr]_h
        & D\ar[r]_{\rg{h}} \ar[u]_{\cpb}  & D \ar[u]_{\cpb}
    }\label{dia:sum_preserve_joins2}
  \end{equation}
  we can show $\wrg{f\+h} \cdperp \wrg{g\+k}$ and therefore $f\+h \cdperp g\+k$.

  This allows us to form the map $(f\+h) \djoin (g\+k)$. Once again, as the objects are inverse
  sums, the map at $(3)$ in Diagram~\ref{dia:sum_preserve_joins2} is unique.
  However, we see that both $f\djoin g \+ h\djoin k$ and $(f\+h) \djoin (g\+k)$ fulfill this
  requirement and hence they are equal.
\end{proof}


\begin{definition}\label{def:inverse_sum_tensor_category}
  An inverse category $\X$ with restriction zero, a disjointness relation $\cdperp$, a disjoint
  join $\djoin$ and an inverse sum tensor $\+$ is called an \emph{inverse sum tensor category}.
\end{definition}

\begin{corollary}\label{cor:inverse_sum_of_maps_is_disjoint_join}
  In an inverse sum tensor category, $f \+g$ is given by $\inv{i_1} f i_1 \djoin \inv{i_2} g i_2$.
\end{corollary}
\begin{proof}
  Recall that in the proof of Lemma~\ref{lem:inverse_sum_is_unique} that we showed $\rst{\inv{i_1}}
  \cdperp \rst{\inv{i_2}}$ and $\wrg{i_1}\perp \wrg{i_2}$. Since $\rst{x f} \le \rst{x}$, by
  \axiom{Dis}{3} and \axiom{Dis}{7}, we know that $\inv{i_1} f i_1 \perp \inv{i_2} g i_2$ and we
  can therefore form the disjoint join.
\end{proof}


\subsection{Matrices} % (fold)
\label{sub:matrix_representation}
In this Sub-Section, we will show that when given an inverse  category \X with a disjoint sums, one
can define a matrix category based on $\X$. We will call this category \imatx. Furthermore, we will
show that \imatx is an inverse category and that $\X$ embeds within this category.

The types of matrices allowed in the matrix category are subject to certain constraints:
\begin{definition}\label{def:inverse_sum_matrix}
  Suppose we have \X is an inverse category with a disjoint sum. Then an \emph{inverse sum matrix}
  in \X is a matrix of maps $[f_{i j}]$ where $i \in \{1,\ldots, n\}$ and $j \in \{1,\ldots, m\}$ with
  $f_{i\jay}:A_i \to B_\jay$ which satisfy the two conditions:
  \begin{align}
    &\text{For each }i,\ \cdperp[f_{i \jay} \cp{\jay}]_{\jay=1,\ldots,m}
    \text{ where } \cp{\jay}: B_\jay \to B_1\+B_2\+\cdots\+B_m.
      \label{eq:inverse_sum_matrix_row_perp}\\
    &\text{For each }j,\ \cdperp[\inv{\cp{i}} f_{i \jay}]_{i=1,\ldots,n}
    \text{ where } \inv{\cp{i}} = \icp{i} : A_1\+A_2\+\cdots\+A_n \to A_i.
    \label{eq:inverse_sum_matrix_column_perp}
  \end{align}
\end{definition}

  In the above and following we will use the notation $\cp{i}$ for the $i^{\text{th}}$ injection
  map of the disjoint sum, with $i$ starting at 1. This simply extends the notation introduced in
  Definition~\ref{def:disjointness_tensor}.

  We will show that this type of matrix corresponds to maps in the category \imatx, where
  composition is given by ``matrix multiplication'', where the operations of multiplication and
  addition are replaced with composition in \X and the disjoint join respectively.

\begin{definition}\label{def:inverse_matrix_category}
  Given an inverse category \X with a disjoint sum tensor, we define the \emph{inverse
  matrix category} of \X, \imatx, as follows:
  \rcategory{Non-empty lists of the objects of $\X$}{
    Inverse sum matrices $[f_{i\jay}]: [A_i] \to [B_\jay]$. In such a matrix each individual map
    $f_{i\jay}:A_i \to B_{\jay}$ is a map in $\X$. For each $j$, $B_\jay$ is given by
    applying the map $\djoin_i \icp{i} f_{i\jay}$ to the object $\+_i A_i$}{
    The inverse sum matrix $I$}{
    Given $[f_{i\jay}]: [A_i] \to [B_\jay]$ and $[g_{j k}] : [B_\jay] \to [C_k]$, then
    $[h_{i k}] = [f_{i\jay}][g_{\jay k}]: [A_i] \to [C_k]$ is defined as
    $h_{i k} = \djoinbig_\jay f_{i \jay}g_{\jay k}$}{
    We set $\rst{[f_{i\jay}]}$ to be $[f'_{i\jay}]$ where $f'_{i\jay} = 0$ when $i\neq \jay$
    and $f'_{i i} = \djoin_\jay \rst{f_{i\jay}}$}
  In the following, we will use the notation $\diag[d_j]$ for diagonal matrices where the
  $j,j$ entry is $d_j$.
  %TODO: Get the notation better
\end{definition}

\begin{lemma}\label{lem:inverse_matrix_category_is_a_restriction_category}
  When $\X$ is an inverse sum category, \imatx is a restriction category.
\end{lemma}
\begin{proof}
  We need to show the following:
  \begin{itemize}
    \item Composition is well defined and associative.
    \item The restriction is well defined.
  \end{itemize}

  \emph{Composition is well defined:} Consider $[h_{i k}] = [f_{i j}] [g_{j k}]$ where $[f_{i j}]:
  [A_1,\ldots, A_n] \to [B_1,\ldots, B_m]$ and $[g_{j k}]: [B_1,\ldots, B_m] \to [C_1,\ldots,
  C_\ell]$. By supposition, we know $h_{i k} = \djoinbig_\jay f_{i \jay} g_{\jay k}$. As each of
  the maps are inverse sum matrices, we know that $\cdperp [f_{i \jay} \cp{j}]$ and
  $\cdperp[\inv{\cp{j}}g_{\jay k}]$. Hence, for each $\jay$ we know the composition $f_{i \jay}
  \cp{j} \inv{\cp{j}}g_{\jay k} = f_{i \jay} g_{\jay k}$ is defined and from $A_i$ to $C_{k}$. By
  the stability and universality of $\djoin$, we know $h_{i k}$ exists and by the definition of
  $\djoin$, we have each $h_{i k}: A_i \to C_k$ and hence composition is well-defined.

  \emph{Associativity of composition.} We have
  \begin{align*}
    ([f_{i j}] [g_{j k}]) [h_{k \ell}]
        &= \left[(\djoinbig_j f_{i j}  g_{j k})\right] [h_{k \ell}]\\
        &=\left[ \djoinbig_k (\djoinbig_j f_{i j} g_{j k}) h_{k \ell}\right]\\
        &=\left[ \djoinbig_j f_{i j}  (\djoinbig_k g_{j k} h_{k \ell})\right]\\
        &=[ f_{i j} ]  ([g_{j k}] [h_{k \ell}]).
  \end{align*}

  \emph{The restriction axioms.}
  \begin{align*}
    \rone \quad& \rst{[f_{i\jay}]}[f_{i\jay}] =
      \begin{bmatrix}
        (\djoin_j \rst{f_{1\jay}}) f_{11} & \cdots & (\djoin_\jay \rst{f_{1 \jay}}) f_{1n}\\
        & \vdots & \\
        (\djoin_\jay \rst{f_{m\jay}}) f_{m1} & \cdots & (\djoin_\jay \rst{f_{m\jay}}) f_{m n}
      \end{bmatrix} = [f_{i\jay}].\\
  \end{align*}
  \begin{align*}
    \rtwo \quad & \rst{[f_{i\jay}]} \rst{g_{i\jay}} =  \rst{g_{i\jay}} \rst{[f_{i\jay}]}
      \text{ as diagonal matrices commute and }\djoin\text{ is also commutative.}\\
  \end{align*}
  \begin{align*}
    \rthree \quad & \rst{\rst{[f_i\jay]}[g_{\jay k}]} =
      \rst{\diag[\djoin_\jay \rst{f_{1\jay}},\ldots,\djoin_\jay \rst{f_{n \jay}}] [g_{\jay k}]}
      \\[10pt]
      & = \rst{\begin{bmatrix}
        \djoin_\jay \rst{f_{1\jay}} g_{11} & \ldots & \djoin_\jay \rst{f_{1 \jay}} g_{1 k}\\
        & \vdots & \\
        \djoin_\jay \rst{f_{n\jay}} g_{n 1} & \ldots & \djoin_\jay \rst{f_{n \jay}} g_{n k}\\
      \end{bmatrix}} \\[10pt]
      & = \diag[\djoin_k (\rst{\djoin_\jay (\rst{f_{1\jay}} g_{1k})}), \ldots,
                 \djoin_k (\rst{\djoin_\jay(\rst{f_{n\jay})} g_{n k}})]\\
      & = \diag[\djoin_k (\djoin_\jay(\rst{f_{1\jay}}) \rst{g_{1k}}), \ldots,
                 \djoin_k (\djoin_\jay(\rst{f_{n\jay}}) \rst{g_{n k}})]\\
      & = \diag[(\djoin_\jay(\rst{f_{1\jay}}) \djoin_k  \rst{g_{1k}}), \ldots,
                 (\djoin_\jay(\rst{f_{n\jay}}) \djoin_k  \rst{g_{n k}})]\\
      & = \rst{[f_i\jay]}\,\rst{[g_{\jay k}]}.\\
  \end{align*}
  \begin{align*}
      \rfour \quad & [f_{i\jay}]\rst{[g_{\jay k}]} =
        [f_{i\jay}]\diag_\jay[\djoin_k \rst{g_{\jay k}}]
        \\[10pt]
      & = \begin{bmatrix}
        f_{11}\djoin_k \rst{g_{1 k}} &\ldots & f_{1n}\djoin_k \rst{g_{n k}} \\
        & \vdots & \\
        f_{m1}\djoin_k \rst{g_{1 k}} &\ldots & f_{m n}\djoin_k \rst{g_{n k}}
      \end{bmatrix}\\[10pt]
      & = \begin{bmatrix}
        \djoin_k f_{11}\rst{g_{1 k}} &\ldots & \djoin_k f_{1n}\rst{g_{n k}} \\
        & \vdots & \\
        \djoin_k f_{m1}\rst{g_{1 k}} &\ldots & \djoin_k f_{m n}\rst{g_{n k}}
      \end{bmatrix}\\[10pt]
      & = \begin{bmatrix}
        \djoin_k \rst{f_{11} g_{1 k}} f_{11} &\ldots & \djoin_k \rst{f_{1n} g_{n k}} f_{1n}\\
        & \vdots & \\
        \djoin_k \rst{f_{m1} g_{1 k}}f_{m1} &\ldots & \djoin_k \rst{f_{m n} g_{n k}}f_{m n}
      \end{bmatrix}\\[10pt]
      & = \begin{bmatrix} % because the f_ij \perp fi1 etc.
        \djoin_\jay\djoin_k \rst{f_{1\jay} g_{\jay k}} f_{11} &\ldots &
          \djoin_\jay\djoin_k \rst{f_{1\jay} g_{\jay k}} f_{1n}\\
        & \vdots & \\
        \djoin_\jay\djoin_k \rst{f_{m\jay} g_{\jay k}}f_{m1} &\ldots &
          \djoin_\jay\djoin_k \rst{f_{m \jay} g_{\jay k}}f_{m n}
      \end{bmatrix}\\[10pt]
      &= \rst{[f_{i\jay}][g_{\jay k}]} [f_{i\jay}].
  \end{align*}
\end{proof}

Note that when $\X$ is an inverse category with a disjoint join, \imatx is also an inverse
category. The inverse of the map $f = [f_{i\jay}]$ is the map $\inv{f}:=[\inv{f_{\jay i}}]$.
Recalling that the rows and columns of $f$ are each disjoint, we see that the composition
$f \inv{f} = \diag_i [\djoin_j \rst{f_{i\jay}}] = \rst{f}$.

Furthermore, $\imatx$ is actually an inverse sum category:
\begin{theorem}\label{thm:imatx_is_an_inverse_sum_category}
  Given \X an inverse category with a disjoint sum tensor and restriction zero, \imatx is
  an inverse sum category.
\end{theorem}

We will prove this in a series of lemmas.

\begin{lemma}\label{lem:imat_has_restriction_zero}
  Given \X is an inverse restriction category with a restriction zero and a disjoint join,
  then \imatx has a restriction zero.
\end{lemma}
\begin{proof}
  The restriction zero in \imatx is the list $[0]$ where $0$ is the restriction zero in \X.

  For the object $A=[A_1,\ldots,A_n]$, the $0$ map is given by the $n\times 1$ matrix
  $[0,\ldots,0]$. The map from $0$ is given by the $1\times n$ matrix
  $\begin{bmatrix}0\\ \vdots\\ 0\end{bmatrix}$.

\end{proof}

\begin{lemma}\label{lem:imat_is_disjoint_tensor_category}
  Given \X is an inverse restriction category with a restriction zero, $0$, and a disjoint join,
  then the monoid $\+$ defined by list catenation of objects is a disjointness tensor.
\end{lemma}
\begin{proof}
  We first note the monoidal isomorphisms:
  \begin{align*}
    \upl : [0,A_1,A_2,\ldots,A_n] \to [A_1,A_2,\ldots,A_n] \qquad& \upl :=
    \begin{bmatrix}
      0&\cdots&0 \\
      & I_{n\times n}
    \end{bmatrix}\\
    \upr : [A_1,A_2,\ldots,A_n,0] \to [A_1,A_2,\ldots,A_n] \qquad & \upr :=
    \begin{bmatrix}
      & I_{n\times n} \\
      0&\cdots&0
    \end{bmatrix} \\
    a_{\+} : (A\+B)\+C \to A\+ (B\+C) \qquad &a_{\+} := id \\
    c_{\+} : [A_1,\ldots,A_n,B_1,\ldots,B_m] \to [B_1,\ldots,B_m,A_1,\ldots,A_n]  \qquad &
      c_{\+} := \begin{bmatrix}
                      0_{m\times n} & I_{n\times n} \\
                      I_{m\times m} & 0_{n\times m}
                \end{bmatrix}.
  \end{align*}

  The action of $\+$ on maps is given by:
  \[
    [f_{i\jay}]\+ [g_{\ell \kay}] = \begin{bmatrix}
      [f_{i\jay}] & 0 \\
      0 & [g_{\ell \kay}]
      \end{bmatrix}.
  \]

  With this definition, we see that $\+$ is a restriction functor:
  \begin{align*}
    id_X \+ id_Y &= id_{X\+Y}, \\
    f_1 g_1 \+ f_2 g_2 &= h_1 \+ h_2 =
    \begin{bmatrix}
      h_1 & 0 \\ 0 & h_2
    \end{bmatrix} =
    \begin{bmatrix}
      f_1 & 0 \\ 0 & g_1
    \end{bmatrix}
    \begin{bmatrix}
      f_2 & 0 \\ 0 & g_2
    \end{bmatrix} = (f_1 \+ g_1) (f_2 \+ g_2).
  \end{align*}

  Following Definition~\ref{def:disjointness_tensor}, we note $\icpa = (1\+0)\upr =
  \begin{bmatrix}
    1&0\\0&0
  \end{bmatrix}
  \begin{bmatrix}
    1\\0
  \end{bmatrix}  =
  \begin{bmatrix}
    1\\0
  \end{bmatrix}
  $ and similarly $\icpb =
  \begin{bmatrix}
    0\\1
  \end{bmatrix}$. Suppose we have $f = [f_{i\jay}]$ and $g = [g_{i\jay}]$ where
  $i \in \{1,\ldots,n\}$ and $j\in\{1,2\}$. Further suppose $f\icpa = g\icpa$ and $f\icpa = g\icpa$.
  Therefore, $f \icpa = [f_{i 1}] = [g_{i 1}] = g\icpa$ and
  $f \icpb = [f_{i 2}] = [g_{i 2}] = g\icpb$, but this means that $f = g$ and we may conclude
  $\icpa$ and $\icpb$ are jointly monic. Similarly, $\cp{1} = [1\ 0]$ and $\cp{2} = [0\ 1]$ are
  jointly epic.
\end{proof}

\begin{lemma}\label{lem:imat_tensor_is_a_disjoint_sum_tensor}
  Given \X is an inverse category with a disjoint join and restriction zero, then \imatx
  has a disjoint sum tensor.
\end{lemma}
\begin{proof}
  By Lemma~\ref{lem:imat_is_disjoint_tensor_category}, we know that the tensor defined by
  list catenation is a disjoint tensor. To show that it is a disjoint sum tensor, we must
  fulfill Definition~\ref{def:disjoint_sum_tensor}.

  First, for the diagram below, we show that $\alpha$ exists if and only if
  $f\icpb \tjdown g\icpb$. Note that diagram assumes all the solid arrows exist and make the
  diagram a commutative diagram.
  \begin{align*}
    \xymatrix@C+5pt{
      [A] \ar@/_/[ddr]_f \ar@/^/[drr]^g \ar@{.>}[dr]|-{\alpha} \\
        & [X,Y,Z] \ar[d]^{\icp{1,2}} \ar[r]_{\icp{1,3}} & [X,Z] \ar[d]^{\icpa} \\
        & [X,Y] \ar[r]_{\icpa} & [X].
    }
  \end{align*}
  The existence of $f\icpb \tjdown g\icpb$ means there is an $h = [h_1,h_2]: [A]\to[Y,Z]$ such that
  $h\icpa = f\icpb$ and $h\icpb = g\icpb$. From the diagram, given that $f = [f_1,f_2]$ and
  $g = [g_1,g_2]$, we know that $f_1 = f\icpa = g\icpa = g_1$. We also have $h_1 = f_2$ and
  $h_2 = g_2$. If we set $\alpha$ to the matrix $[f_1,f_2,g_2]$, the diagram above commutes.
  We need only show that $\alpha$ is a map in \imatx. As $f, g$ and $h$ are maps in
  \imatx, we know that:
  \begin{align*}
    f_1\cp{1} & \cdperp f_2 \cp{2}\\
    f_1\cp{1} = g_1\cp{1} & \cdperp g_2 \cp{2}\\
    f_2 \cp{2} = h_1\cp{1} & \cdperp h_2 \cp{2} = g_2 \cp{2}.\\
  \end{align*}
  From this, we can conclude $\cdperp [f_1 \cp{1}, f_2 \cp{2}, g_2 \cp{3}]$.

  Conversely, suppose we have an $\alpha = [\alpha_1, \alpha_2, \alpha_3]$ that makes the
  above diagram commute. Then  $h := [\alpha_2, \alpha_3]$ is a map in $\X$.
  Since $[\alpha_1,\alpha_3] = g$ and $[\alpha_1,\alpha_2] = f$, we have
  $h\icpa = f\icpb$ and $h\icpb = g\icpb$, hence $h = f\icpb \tjdown g\icpb$.

  The proof that $\beta$ in the diagram below exists if and only if $\cp{2}h\tjup \cp{2}k$
  is similar.
  \[
    \xymatrix@C+5pt{
        &&[A] \\
         [X,Y] \ar[r]_{\cp{1,2}} \ar@/^/[urr]^h &[X,Y,Z] \ar@{.>}[ur]|-{\beta} \\
         [X] \ar[u]^{\cpa} \ar[r]_{\cpa} & [X,Z]. \ar[u]^{\cp{1,3}} \ar@/_/[uur]_k
    }
  \]
\end{proof}

We are now ready to prove Theorem~\ref{thm:imatx_is_an_inverse_sum_category}, that \imatx is an
inverse sum category.

\begin{proof}
  By Lemma~\ref{lem:imat_tensor_is_a_disjoint_sum_tensor}, we know $\imatx$ has a disjoint sum
  tensor and therefore by Proposition~\ref{prop:disjointness_tensor_gives_disjoint_join},
  it has a disjoint join. By Lemmas~\ref{lem:an_inverse_sum_tensor_gives_inverse_sums} and
  \ref{lem:a_disjoint_sum_tensor_is_an_inverse_sum_tensor}, we know that $[A,B] = A\+B$ is
  an inverse sum of $A$ and $B$ for any two objects in \imatx, and hence, \imatx is an inverse
  sum category.
\end{proof}

\subsection{Equivalence between an inverse sum category and its matrix category} % (fold)
\label{sub:equivalence_between_an_inverse_sum_category_and_its_matrix_category}
In this Sub-Section we will provide restriction functors between an inverse sum category
\X and its matrix category \imatx. Furthermore, we will show these functors form an
equivalence between these two categories. That is,
\[
   \xymatrix@R+10pt@C+20pt{
     \text{Inverse Sum Cats} \ar@{^{(}->}[r]
     & \text{Disjoint Join Cats.} \ar@/^1.5pc/[l]_{\raisebox{2pt}{$\top$}}^{\text{Matrix}}
   }
\]
\begin{definition}\label{def:functor_from_x_to_imatx}
  Given $\X$ is an inverse sum category with disjoint join $\cdperp$ and restriction zero,
  define $M:\X \to \imatx$ by:
  \begin{align*}
    \text{Objects:}\ &M(A) := [A]\\
    \text{Maps:}\ &M(f) := [f] \text{ -- The }1\times1\text{ matrix with entry }f.
  \end{align*}
\end{definition}
\begin{lemma}\label{lem:m_is_a_functor}
  The map $M$ from Definition~\ref{def:functor_from_x_to_imatx} is a restriction functor.
\end{lemma}
\begin{proof}
  From the definition of \imatx, we have
  \begin{align*}
    &f: A\to B \text{ if and only if } M(f):M(A)\to M(B)\quad ([f]: [A]\to [B])\\
    &M(id_A)  = [id_{A}] = id_M(A)\\
    &M(f g) = [f g] = [f][g] = M(f) M(g)\\
    &M(\rst{f}) = [\rst{f}] = \rst{[f]} = \rst{M(f)}.
  \end{align*}
\end{proof}

\begin{definition}\label{def:functor_from_imatx_to_x}
  Given $\X$ is an inverse sum category with disjoint join $\cdperp$ and restriction zero $0$,
  and inverse sum tensor $\+$ define $S:\imatx \to \X$ by:
  \begin{align*}
    \text{Objects:}\ &S([A_1,A_2, \ldots, A_n]) := A_1\+A_2\+\cdots\+A_n\\
    \text{Maps:}\ &S([f_{i\jay}]) := \djoinbig_i \icp{i} (\djoin_j f_{i\jay} \cp{j}).
  \end{align*}
\end{definition}

\begin{lemma}\label{lem:s_is_a_functor}
  The map $S$ from Definition~\ref{def:functor_from_imatx_to_x} is a restriction functor.
\end{lemma}
\begin{proof}
  From the definition of \imatx, where $A = [A_1,A_2,\ldots,A_n]$, $B=[B_1,B_2,\ldots,B_M]$,
  and $f = [f_{i\jay}]$ we have
  \begin{align*}
    &S(id_A)  = S([id_{A_i}]) = \djoinbig_i \icp{i} (\djoin_j \cp{j}) = id_{S(A)}\\
    &f: A\to B  \iff S(f):S(A)\to S(B) \iff \\
    &\qquad \qquad  \djoinbig_i \icp{i} (\djoin_\jay f_{i\jay} \cp{j}) : A_1\+\cdots\+A_n \to B_1\+\cdots\+B_m\\
    &M(\rst{f}) = [\rst{f}] = \rst{[f]} = \rst{M(f)}.
  \end{align*}
  For composition, we have
  \begin{align*}
    S(f)S(g) & = (\djoinbig_i \icp{i} (\djoin_j f_{i\jay} \cp{j}))
                  (\djoinbig_{j'} \icp{j'} (\djoin_k g_{\jay\kay} \cp{k})) \\
    &= \djoinbig_i \icp{i} \djoinbig_j \djoinbig_{j'} f_{i\jay} \cp{j} \icp{j'}
            (\djoin_k g_{\jay'\kay} \cp{k}) \\
    &= \djoinbig_i \icp{i} \djoinbig_j  f_{i\jay} (\djoin_k g_{\jay\kay} \cp{k}) \\
    &= \djoinbig_i \icp{i} \djoinbig_k (\djoin_j  f_{i\jay}  g_{\jay\kay} \cp{k}) \\
    &= S([\djoin_j f_{i\jay} g_{\jay\kay}]) \\
    &= S(f g).
  \end{align*}

\end{proof}

\begin{proposition}\label{pro:x_and_imatx_are_equivalent}
  Given an inverse category \X with a disjoint sum tensor $\+$ and restriction zero, then the
  categories $\X$ and \imatx are equivalent.
\end{proposition}
\begin{proof}
  The functors of the equivalence are $S$ from Definition~\ref{def:functor_from_imatx_to_x} and
  $M$ from Definition~\ref{def:functor_from_x_to_imatx}.

  First, we see that $M S:\X \to \X$ is the identity functor as
  \begin{align*}
    \text{Objects:}\ &S(M(A)) = S([A]) = A,\\
    \text{Maps:}\ &S(M(f)) = S([f]) = f.
  \end{align*}

  Next, we need to show that there is a natural transformation and isomorphism $\rho$ such that
  $\rho(S M) = I_{\imatx}$. For each object $[A_1,A_2,\ldots,A_n]$, set
  $\rho A = \begin{bmatrix}\icpa& \cdots &\icp{n}\end{bmatrix}$.

  Note that the functor $S M$ has the following effect:

  \begin{align*}
    \text{Objects:}\quad &M(S([A_1,\ldots, A_n])) = M(A_1\+\cdots\+ A_n) =
      [A_1\+\cdots\+ A_n]\\
    \text{Maps:}\quad &M(S([f_{i\jay}]) = M(\djoinbig_i \icp{i} (\djoin_j f_{i\jay} \cp{j}))
      = [\djoinbig_i \icp{i} (\djoin_j f_{i\jay} \cp{j})].
  \end{align*}
  We can now draw the commuting naturality square for $f=[f_{i\jay}]:[A_i]\to [B_j]$:
  \[
    \xymatrix{
      SM([A_i]) \ar@{=}[r] & [\+_i A_i]
          \ar[rrrr]^{\begin{bmatrix}\icpa& \cdots &\icp{n}\end{bmatrix}}
          \ar[dd]_{SM(f)}
          & &&& [A_i] \ar[dd]^{f}\\
        &&&&&  \\
      SM([B_j]) \ar@{=}[r] & [\+_j B_j]
          \ar[rrrr]_{\begin{bmatrix}\icpa& \cdots &\icp{m}\end{bmatrix}}
          & &&& [B_j]. \\
    }.
  \]

  Following the square by the top--right path from $[\+_i A_i]$ to $[B_j]$, by the definition of
  the maps in the category \imatx, we see each $B_j = \djoin_i\icp{i} f_{i\jay}(\+_i A_i)$.
  Following the left--bottom path, composing $SM(f)$ with $\begin{bmatrix}\icpa& \cdots
  &\icp{m}\end{bmatrix}$ gives us the map
  \begin{multline*}
    \begin{bmatrix}\djoin_i \icp{i} (\djoin_j f_{i\jay}\cp{j})\icpa& \cdots
      &\djoin_i \icp{i} (\djoin_j f_{i\jay}\cp{j})\icp{m}\end{bmatrix} = \\
      \begin{bmatrix}\djoin_i \icp{i}  f_{i 1}& \cdots &\djoin_i \icp{i} f_{i m}\end{bmatrix}.
  \end{multline*}
  Applying this to $[\+_i A_i]$, we see each $B_j = \djoin_i\icp{i} f_{i\jay}(\+_i A_i)$ and the
  two directions are equal.

  Finally, we know that $\inv{\rho_{A_i}} = \begin{bmatrix}\cp{1}\\ \vdots \\\cp{n}\end{bmatrix}$
  and defines an isomorphism between any object of the form $[\+_i A_i]$ and the
  object $[A_1,\ldots,A_n]$.
\end{proof}
% subsection equivalence_between_an_inverse_sum_category_and_its_matrix_category (end)
\begin{example}\label{ex:inverse_sum_category_maps_are_matrices}
  We may obtain a matrix representative of any map $f:A\+B\to C\+D$ by applying the construction of
  Definition~\ref{def:functor_from_imatx_to_x} in reverse.

  Then given a function   $f:A\+B \to C\+D$ define
  \[ f_M =
     \begin{bmatrix}
       \cpa f \icpa & \cpa f \icpb \\
       \cpb f \icpa & \cpb f \icpb
      \end{bmatrix}.
  \]

  Thus, applying the functor $S$ from Definition~\ref{lem:s_is_a_functor}, we have
  \begin{align*}
     S(f_M) &= \icpa (\cpa f \icpa \cpa \djoin \cpa f \icpb \cpb) \djoin \icpb( \cpb f \icpa\cpa
     \djoin \cpb f \icpb \cpb) \\
     & = \icpa \cpa f (\icpa \cpa \djoin \icpb \cpb) \djoin \icpb \cpb f ( \icpa \cpa \djoin
     \icpb\cpb) \\
     & = \icpa \cpa f \djoin \icpb \cpb f \\
     & = (\icpa \cpa \djoin \icpb \cpb) f \\
     & = f.
  \end{align*}

In particular, we note that we may represent $f:A\to B$ by the matrix
\[
  \begin{bmatrix}
    1f1& 1f 0 \\ 0 f 1 & 0 f 0
  \end{bmatrix}
  =
  \begin{bmatrix}
    f& 0 \\ 0 & 0
  \end{bmatrix}
\]
as $A \cong A\+0$ and $B \cong B\+0$.
\end{example}


\begin{definition}\label{def:unique_decomposition_category}
A unique decomposition category\cite{haghverdi:2000phd} is a category where any
\[
  h:A\+B \to C\+D
\]
is uniquely determined by:
\begin{alignat*}{2}
  \cpa  h  \icpa &: A \to C & \quad \cpa  h  \icpb &: A \to D\\
  \cpb  h  \icpa &: B \to C & \quad \cpb  h  \icpb &: B \to D
\end{alignat*}
i.e., is writable as the matrix:
\[
  \begin{bmatrix}
    \cpa  h  \cpa^{(-1)} & \cpa  h  \cpb^{(-1)}\\
    \cpb  h  \cpa^{(-1)} &\quad \cpb  h  \cpb^{(-1)}
  \end{bmatrix}:
  A\+B \to C\+D.
\]

The $0$ map in the category corresponds to the $0$-dimensional matrix,
\[
  0\xrightarrow{[]}B.
\]
%Note also that as $\cpa$ and $\cpb$ are restriction maps, the following diagram commutes:
%\[
%  \xymatrix @C+10pt{
%    A \ar@{=}[d] \ar[r]^{\cpa} & A\+B \\
%    A \ar[r]_{\cpa} & A\+0 \ar[u]_{1+0}
%  }
%\]
\end{definition}

\begin{corollary}\label{cor:inverse_sum_category_is_udc}
  If $\X$ is an inverse sum category, then it is a unique decomposition category.
\end{corollary}

% section inverse_sums_categories (end)
\section{Completing a distributive inverse category} % (fold)
\label{sec:completing_a_distributive_inverse_category}
\subsection{Distributive restriction categories} % (fold)
\label{sub:distributive_restriction_categories}

\begin{definition}\label{def:distributive_category}
  A Cartesian category $\B$ with coproducts is called a
  \emph{distributive}\cite{cockett1993-introduction-distributive} category when
  \[
    (A\times B) + (A\times C) \cong A \times (B+ C).
  \]
\end{definition}

\begin{definition}\label{def:distributive_restriction_category}
  A Cartesian restriction category $\D$ with a restriction zero and coproducts is called a
  \emph{distributive restriction category}\cite{cockettlack2004:restcategories3}
  when there is an isomorphism $\rho$ such that
  \[
    A\times (B+C) \xrightarrow{\rho} (A\times B) +(A\times C).
  \]
\end{definition}

If $\D$ is a distributive restriction category, then Total($\D$) is a distributive
category as in Definition~\ref{def:distributive_category}.

In the following, we will present distributivity in inverse categories.

% subsection distributive_restriction_categories (end)

\subsection{Distributive inverse categories} % (fold)
\label{sub:distributive_inverse_categories}
% \note{
% The following two \emph{should} be equivalent. Either
% \begin{itemize}
%   \item $\*$ preserves sums
%   \item $\*$ preserves disjoint
% \end{itemize}
%
% Break down the map into disjoint items, if equivalent on pieces, then they are
% equivalent.
% }
\begin{definition}\label{def:distributive_inverse_category}
  A \emph{distributive inverse category} \D consists of the following:
  \begin{itemize}
    \item \D is an inverse category;
    \item \D has an inverse product with tensor $\*$, per Definition~\ref{def:inverse_product};
    \item \D has an inverse sum tensor, $\+$, per Definition~\ref{def:inverse_sum_tensor} and
    \item There is a family of isomorphisms, $d$, such that
    \begin{equation}
      \xymatrix{
      && A\*B\\
      A \* (B \+ C) \ar[rr]^{d} \ar[urr]^{1\*\icpa} \ar[drr]_{1\*\icpb}
        && (A\*B) \+ (A \* C) \ar[u]_{\icpa} \ar[d]^{\icpb}\\
      && A\*C,
      }\label{eq:inverse_distributive_laws}
    \end{equation}
    commutes in \D for any choices of objects $A, B, C$.
  \end{itemize}
\end{definition}

\begin{example}[\pinj is a distributive inverse category]
  The isomorphism $d$ of Diagram~\ref{eq:inverse_distributive_laws} is given by the following:
  \begin{equation}
    d((a,(x,n)) = \begin{cases}
      ((a,x),1) & n = 1\\
      ((a,x),2) & n = 2.
      \end{cases}\label{eq:pinj_distributive_isomporphism}
    \end{equation}
\end{example}
Note that as we are operating in an inverse category, we also have the inverse of
diagram~\ref{eq:inverse_distributive_laws} available to us. That is,
\begin{equation}
  \xymatrix{
  A\*B \ar[d]_{\cpa} \ar[drr]^{1\*\cpa}\\
  (A\*B) \+ (A \* C)  \ar[rr]^{\inv{d}}  &&A \* (B \+ C) \\
  A\*C\ar[u]^{\cpb} \ar[urr]_{1\*\cpb}
  }\label{eq:inverse_distributive_laws_reversed}
\end{equation}
is also a commuting diagram in \D.

\begin{definition}\label{def:join_of_perp_rst_maps}
  Suppose \X is an inverse category with a disjoint join tensor $\+$ and a restriction zero. Then
  for maps $f:A \to B$ and $g:A \to C$ with $\rst{f} \perp \rst{g}$, define the map $[f,g]:A \to
  B\+C$ as $(f \cpa) \djoin (g \cpb)$. This is well defined as $\wrg{\cpa} \perp \wrg{\cpb}$ and
  therefore by \axiom{Dis}{7}, $f\cpa \perp g\cpb$.
\end{definition}

\begin{lemma}
  Suppose \X is an inverse category \X\ with:
  \begin{itemize}
    \item a disjoint join tensor $\+$,
    \item a restriction zero, and
    \item an inverse  product tensor $\*$ which distributes over disjoint joins, (that is,
      $f\*(g\djoin h) = (f\*g) \djoin (f\* h)$).
  \end{itemize}
  Then, \X is an inverse distributive  category.
\end{lemma}
\begin{proof}
  By assumption, we have the first three items of
  Definition~\ref{def:distributive_inverse_category}. Therefore, we need to construct an
  isomorphism $d$ such that diagram~\ref{eq:inverse_distributive_laws} commutes. We claim that the
  map $d = [1\* \icpa, 1\* \icpb]$ does this.

  First, note that the typing of $d$ is correct. By Definition~\ref{def:join_of_perp_rst_maps},
  \[
    d = ((1 \* \icpa) \cpa )\djoin ((1\*\icpb) \cpb) : A \* (B \+ C) \to (A\*B)\+(A\*C)
  \]
  as
  \begin{align*}
      A \* (B \+ C) & \xrightarrow{(1\*\icpa)} A\* B \xrightarrow{\icpa} (A\*B)\+(A\*C),\\
      A \* (B \+ C) & \xrightarrow{(1\*\icpb)} A\* C \xrightarrow{\icpb} (A\*B)\+(A\*C).
  \end{align*}

  Next, we need to show $d$ is an isomorphism. We will do this by showing both $\rst{d} = 1$ and
  $\rst{\inv{d}} = 1$.
  As a consequence of Lemma~\ref{lem:join_is_associative_and_commutative_monoid}, we know
  the inverse of $d$ is
  \[
    \inv{((1 \* \icpa) \cpa )}\djoin \inv{((1\*\icpb) \cpb)} =
      ( \icpa(1 \* \cpa) ) \djoin ( \icpb(1\*\cpb)).
  \]

  Having $\*$ distribute over the disjoint sum means that for any maps $f,h,k$ with $h\perp k$, we
  have $f \* (h\djoin k) = (f\*h) \djoin (f\*k)$. We use this in the calculation of the restriction
  of $f$:
  \begin{align*}
    \rst{((1 \* \icpa) \cpa )\djoin ((1\*\icpb) \cpb)}
      &= \rst{((1 \* \icpa) \cpa )}\djoin \rst{((1\*\icpb) \cpb)} \\
      &= (1\* \rst{\icpa}) \djoin (1\* \rst{\icpb}) \\
      &= (1\* (\rst{\icpa} \djoin \rst{\icpb}) \\
      &= 1\* ((1\+0) \djoin (0\+1) )\\
      &=1 \* 1 = 1
  \end{align*}
  and for the inverse,
  \begin{align*}
    \rst{( \icpa(1 \* \cpa) ) \djoin ( \icpb(1\*\cpb))}
      &= \rst{(\icpa(1 \* \cpa) )}\djoin \rst{(\icpb(1\*\cpb))} \\
      &= \rst{(\icpa\rst{(1 \* \cpa)} )}\djoin \rst{(\icpb\rst{(1\*\cpb)})} \\
      &= \rst{(\icpa)}\djoin \rst{(\icpb)}\\
      &= (1\+0) \djoin (0\+1) \\
      &= 1.
  \end{align*}

  Hence, $[1\* \icpa, 1\* \icpb]$ is an isomorphism.
  Finally, we must show that diagram~\ref{eq:inverse_distributive_laws} commutes:
  \begin{align*}
    d \icpa & = \left( ((1 \* \icpa) \cpa )\djoin ((1\*\icpb) \cpb) \right)\icpa \\
     & = \left(((1 \* \icpa) \cpa )\icpa \right) \djoin \left( ((1\*\icpb) \cpb) \icpa\right) \\
     & = \left((1 \* \icpa) 1 \right) \djoin \left( (1\*\icpb) 0\right) \\
     & = (1 \* \icpa) \djoin 0\\
     & = 1 \* \icpa
  \end{align*}
  and
  \begin{align*}
    d \icpb & = \left( ((1 \* \icpa) \cpa )\djoin ((1\*\icpb) \cpb) \right)\icpb \\
     & = \left(((1 \* \icpa) \cpa )\icpb \right) \djoin \left( ((1\*\icpb) \cpb) \icpb\right) \\
     & = 0 \djoin (1 \* \icpb)\\
     & = 1 \* \icpb.
  \end{align*}
  This shows the fourth condition is satisfied and $\X$ is a distributive inverse category.
\end{proof}

We have seen that a second tensor distributing over the disjoint joins implies that we have an
inverse distributive category. We now show the converse is true.
\begin{lemma}\label{lem:distributive_means_distribute_over_triangles}
  Given an inverse distributive category \X, then $h\*(f\tjdown g) = (h\* f) \tjdown (h\* g)$
  whenever $f\tjdown g$ exists and $h\*(f\tjup g) = (h\* f) \tjup (h\* g)$ whenever
  $f\tjup g$ exists.
\end{lemma}
\begin{proof}
  Let $h:A \to C$, $f:B \to D$ and $g: B \to E$. Consider the following diagram:
  \[
    \xymatrix@R+20pt@C+10pt{
      & && B\*E\\
      A\*C \ar[rr]^{h\*(f\tjdown g)} \ar[drrr]_{h\*g} \ar[urrr]^{h\*f}
        && B \* (D \+ E) \ar[r]^{\cong} \ar[ur]_{1\*\icpa} \ar[dr]^{1\*\icpb}
        & (B\*D) \+ (B \* E) \ar[d]^{\icpb} \ar[u]_{\icpa}\\
      & && B\*D.
    }
  \]
  The two leftmost  triangles commute by the diagram for $f\tjdown g$. The right hand triangles
  commute as per Definition~\ref{def:distributive_inverse_category}. By the uniqueness of the
  $\tjdown$ operation we see  $h\*(f\tjdown g) = (h\* f)\tjdown(h\* g)$,

  The argument for showing $h\*(f\tjup g) = (h\* f)\tjup(h\* g)$ follows the same pattern.
  %TODO: Is the isomorphism important? Do we need to do something with it?
\end{proof}
\begin{lemma}\label{lem:distributive_means_distribute_over_join}
  Given an inverse distributive category \X, then $\*$ distributes over the disjoint join.
\end{lemma}
\begin{proof}
  First recall the definition of $f\djoin g = (\rst{f}\tjdown\rst{g})(f\tjup g)$. In order
  to show $h\*(f\djoin g) = (h\*f)\djoin (h\*g)$, we need to show that
  \begin{equation}
    h\*(\rst{f}\tjdown\rst{g})(f\tjup g) = (\rst{h\*f}\tjdown\rst{h\*g})(h\*f\tjup h\*g).
    \label{eq:distribute_over_left_right}
  \end{equation}

  Since $h\*(\rst{f}\tjdown\rst{g})(f\tjup g) =
  (\rst{h}\*(\rst{f}\tjdown\rst{g}))(h\*(f\tjup g))$, Equation~\ref{eq:distribute_over_left_right}
  follows directly from  Lemma~\ref{lem:distributive_means_distribute_over_triangles} and the fact
  that $\*$ is a  restriction functor.
\end{proof}

\begin{corollary}\label{cor:inverse_product_and_disjointness}
  Suppose we have an inverse distributive category \X. Then,
  \begin{enumerate}[{(}i{)}]
    \item if $f \perp g$, then $h\*f \perp h\*  g$ for any $h$,
    \item  if  $f\perp g : A\to B$ and $h \perp k: C\to D$, then $(f\*h)\perp (g\*k)$.
   \end{enumerate}
\end{corollary}
\begin{proof}
  \prepprooflist
  \begin{enumerate}[{(}i{)}]
    \item As $f\perp g$, we have $f\tjup g$ and $f\tjdown g$. By
      Lemma~\ref{lem:distributive_means_distribute_over_triangles}, both $h\*f \tjup h\*g$ and
      $h\*f \tjdown h\* g$ exist and therefore $h\*f \perp h\*g$.
    \item By the previous item, we have that $((f\djoin g)\*h) \perp ((f\djoin g)\* k)$. Then, by
      \axiom{DJ}{1} and \axiom{Dis}{3} we have $(f\*h)\perp (g\*k)$.
  \end{enumerate}
\end{proof}
% subsection distributive_inverse_categories (end)

\subsection{Discrete inverse categories with inverse sums} % (fold)
\label{sub:discrete_inverse_categories_with_inverse_sums}

We now consider the case where we have a discrete inverse category with inverse product
tensor $\*$ and a disjoint join tensor $\+$, with the $\*$ tensor preserves the
disjoint join.

A map in \Xt is related to a map in \X in the following way:
\[
  \infer{A\xrightarrow{f} B\*C \text{ in }\X.}{A \xrightarrow{\ (f,C)\ } B \text{ in } \Xt}
\]

Our goal is to show that an inverse sum in a distributive inverse category becomes a co-product
in \Xt.

\begin{lemma}\label{lem:x_tilde_has_a_restriction_zero}
  Given $\X$ is a distributive inverse category, then $\Xt$, the discrete inverse category created
  from $\X$, has a restriction zero.
\end{lemma}
\begin{proof}
  Recall from Theorem~\ref{thm:discrete_inverse_categories_are_equivalent_to_discrete_restriction_categories}
  that $\X$ is equivalent as a category to $\Xt$ under the identity on objects
  functor
  \[
    {\raisebox{-18pt}{$\wtf:\X \to \Xt;$}} \quad
    \xymatrix{A\ar[d]^{f}\\B}\ \raisebox{-18pt}{$\mapsto$}\, \xymatrix{A\ar[d]^{(f\inv{\usr},1)}\\B}
    \,\raisebox{-18pt}{.}
  \]

  In $\X$, we know $0$ is a terminal and initial object, with maps
  $A \xrightarrow{t_A} 0 $ and $0 \xrightarrow{z_A} A$, where  $\rst{0_{A,A}} = 0_{A,A} = t_A z_A$.

  First we note that $0$ is both initial and terminal in $\Xt$, with the terminal maps being
  $\wtf(t_A)$ and initial maps being $\wtf(z_A)$.

  As was also shown in
  Theorem~\ref{thm:discrete_inverse_categories_are_equivalent_to_discrete_restriction_categories},
$\wtf$ is a restriction functor, so in $\Xt$ we have
  \[
    0_{A,A} = \wtf(t_A)\wtf(z_A) = \wtf(t_A z_A) = \wtf(0_{A,A}) = \wtf(\rst{0_{A,A}}) =
    \rst{\wtf(0_{A,A})} = \rst{0_{A,A}}.
  \]
  Hence, $0_{A,A}$ is a restriction zero in $\Xt$.
\end{proof}

\begin{lemma}\label{lem:maps_from_inverse_sums_have_disjoint_equivalences}
  In a distributive inverse category \X, the following hold:
  \begin{enumerate}[{(}i{)}]
    \item Given $f : A \to Y\*C$, we can construct $f' : A \to Y \* (C\+D)$ for some object $D$ such
      that $f \xequiv{} f'$.\label{lemitem:construct_f_prime}
    \item Given $g : B \to Y\*D$, we can construct $g'' : B \to Y \* (C\+D)$ for some object $C$ such
      that $g \xequiv{} g''$.\label{lemitem:construct_g_doubleprime}
    \item Given $f : A \to Y \* C$, $g : A\to Y \* D$, then the $f', g''$ as constructed in
      \ref{lemitem:construct_f_prime} and \ref{lemitem:construct_g_doubleprime} satisfies $\icpa f'
      \perp \icpb g''$, where $\icpa f',\,\icpb g'': A\+B \to Y\*(C\+D)$.
  \end{enumerate}
\end{lemma}
\begin{proof}
  \prepprooflist
  \begin{enumerate}[{(}i{)}]
  \item Set $f' = f(1\*\cpa)$.
    To show $f\equiv f'$, we must first show their restriction is the same.
    \begin{align*}
      \rst{f(1\*\cpa)} &= \rst{f\rst{(1\*\cpa)}}\\
      & = \rst{f 1}\\
      &=  \rst{f}
    \end{align*}
    Now we detail the mediating map between $f$ and $f'$:
    \[
    \xymatrix @C=25pt @R=25pt{
      & & Y \* C \ar@{.>}[dr]^{\Delta\* 1}\\
      & & & Y \* (Y\* C) \ar@{.>}[dd]^{1\*1\*\cpa}\\
      A \ar[uurr]^f \ar[ddrr]_{f'} \\
      & & & Y \* Y\*(C\+ D) \ar@{.>}[dl]^(.4){\inv{\Delta}\* 1}\\
      && Y\*(C\+ D)\*X.
    }
    \]
  To show this commutes, we primarily use that $\Delta\inv{\Delta} = 1$
  \begin{align*}
    f(\Delta\*1)&(1\*1\*\cpa)(\inv{\Delta}\*1) \\
    &= f(\Delta\*1)(\inv{\Delta} \* \cpa)\\
    &= f(1 \* \cpa)\\
    &= f'
  \end{align*}
  and hence $f\xequiv{h}f'$ where $h = (1\*\cpa)$.
  \item For this item, we set $g'' = g(1\*\cpb)$. The proof that $g\xequiv{k}g''$, where
    $k = (1\*\cpb)$ is done in the same way as the previous point.
  \item In order to show  $\icpa f' \perp \icpb g''$, we will proceed by showing their restrictions
    and ranges are disjoint.
    As $\rst{\inv{\cpa}} \perp \rst{\inv{\cpb}}$ and $\rst{\inv{\cpa}f'} \le \rst{\inv{\cpa}}$ and
    $\rst{\inv{\cpb}g''} \le \rst{\inv{\cpb}}$, we immediately have
    $\rst{\inv{\cpa}f'} \perp \rst{\inv{\cpb}g'}$.

    For the ranges, we have
    \begin{align*}
      \wrg{\inv{\cpa} (f (1\*\cpa))} &=
      \rst{((1\*\icpa)\inv{f})\cpa}\\
      &= \rst{((1\*\icpa)\inv{f}}\\
      &\le \rst{(1\*\icpa)}
    \end{align*}
    and similarly
    \[
      \wrg{\inv{\cpb} g''} \le \rst{(1\*\icpb)}.
    \]

    Using Lemma~\ref{lem:disjointness_various}
    we know that $\rst{(\icpa)}\perp \rst{(\icpb)}$. From
    Corollary~\ref{cor:inverse_product_and_disjointness}
    we conclude that $\rst{(1\*\icpa)}\perp \rst{(1\*\icpb)}$ and giving us
    $\wrg{\inv{\cpa}f'} \perp \wrg{\inv{\cpb}g''}$ and therefore $\inv{\cpa}f' \perp \inv{\cpb}g''$.
  \end{enumerate}
\end{proof}
\begin{proposition}\label{thm:x_tilde_has_coproducts_if_x_is_inverse_distributive_category}
  Given \X is an distributive inverse category, then the category \Xt has co-products.
\end{proposition}
\begin{proof}
  The tensor object, $A\+B$ in \X will become the co-product of $A, B$ in \Xt.

  The injection maps of the co-product are $i_1 =(\cpa \usr, 1)$ and $i_2 = (\cpb \usr, 1)$.

  Consider the following diagram in \Xt:
  \[
    \xymatrix{
      A \ar[drrr]^{(f,C)} \ar[dr]_{i_1} \\
      & A\+B \ar@{.>}[rr]^h & & Y. \\
      B \ar[urrr]_{(g,D)} \ar[ur]^{i_2}
    }
  \]

  In \X, this comes from the diagram:
  \begin{equation}
    \xymatrix{
      A \ar[dr]_{\cpa} \ar[rr]^f && Y\*C\\
      & A\+B\\
      B \ar[ur]^{\cpb} \ar[rr]^g && Y\*D\\
    }\label{diag:pre-coproduct}
  \end{equation}
  where the extraneous unit isomorphisms are removed.

  This corresponds to the conditions of
  Lemma~\ref{lem:maps_from_inverse_sums_have_disjoint_equivalences}. Hence by that lemma we may
  revise Diagram~\ref{diag:pre-coproduct} as
  \begin{equation}
    \xymatrix@R+10pt {
      A \ar[d]^{\cpa} \ar[drrr]^{f'}\\
      A\+B \ar[rrr]^(.4){\icpa f' \djoin \icpb g''} &&& Y\*(C\+D)\\
      B \ar[u]^{\cpb} \ar[urrr]_{g''}\\
    }\label{diag:pre-coproduct-with-common-map}
  \end{equation}
  where $f'$ and $g''$ are respectively equivalent to $f,g$.

  Lifting Diagram~\ref{diag:pre-coproduct-with-common-map} to \X, we see this corresponds to the
  desired co-product diagram, where  $h$ in \Xt is the map $(\icpa f' \djoin \icpb g'', (C\+D))$.

  By construction, in \X, we have
  \[
    \cpa (\icpa f' \djoin \cpa\icpb g'') = (\cpa\icpa f') \djoin (\cpa\icpb g'') = f' \djoin 0 = f'
  \]
  and
  \[
    \cpb (\icpa f' \djoin \cpa\icpb g'') = g''.
  \]
  Hence, in \Xt, we have  $(i_1 \usr, 1) h = f$ and $(i_2 \usr, 1) h = g$.

  All that remains to be shown is that $h$ is unique.

  Suppose there is another $(k,E)$ in \Xt such that it satisfies the coproduct properties, i.e.,
  that $i_1 (k,E) = (f',C\+D)$ and $i_2 (k,E) = (g'',C\+D)$. In \X, $k:A\+B \to Y \* E$ and we have
  \begin{align*}
    \cpa k &\xequiv{x} f'\quad\text{and}\\
    \cpb k &\xequiv{y} g''
  \end{align*}
  where the maps $x, y: Y\*E \to Y\*(C\+D)$ fulfill the respective equivalence diagrams.

  The above gives us $\icpa\cpa k \xequiv{} \icpa f'$ and $\icpb\cpb k \xequiv{} \icpb g''$.
  As we know that $\*$ preserves the disjoint join, and the equivalence diagrams consist of maps
  under $\*$, we now have:
  \begin{align*}
    h&=\icpa f' \djoin \icpb g''\\
    &\xequiv{} \icpa\cpa k \djoin \icpb\cpb k\\
    &= (\icpa\cpa  \djoin \icpb\cpb) k\\
    &= 1 k = k.
  \end{align*}

  Hence, $h \xequiv{} k$ in $\X$ and $(h, C\+D) = (k,E)$ in \Xt, meaning
 %TODO: Show that the joint epicness of cpa, cpb give us a unique item.
 $A\+B$ in \X is the co-product of $A$ and $B$ in \Xt.
\end{proof}

\begin{corollary}\label{cor:xt_is_a_distributive_restriction_category}
  When \X is a distributive inverse category, $\Xt$ is a distributive restriction category.
\end{corollary}
\begin{proof}
  As $\Xt$ has restriction products by Lemma~\ref{lem:tensor_on_x_is_the_restriction_product_on_xt},
  restriction co-products by
  Theorem~\ref{thm:x_tilde_has_coproducts_if_x_is_inverse_distributive_category} and the equations
  for distributivity follow directly from the distributivity of the base tensors, we see $\Xt$ is a
  distributive restriction category.
\end{proof}
% chapter inverse_sum_categories (end)

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../phd-thesis"
%%% End:
