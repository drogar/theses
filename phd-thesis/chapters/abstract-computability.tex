%!TEX root = /Users/gilesb/UofC/thesis/phd-thesis/phd-thesis.tex

\chapter{Abstract Computability}\label{chap:abstract_computability}

%\input{chapters/section/linear-algebra}

\section{Categories}
\label{sec:categories}

This section introduces categories and fixs notation for them. More
details can be found in various books or online
resources for category theory, e.g., \cite{maclan97:categorieswrkmath}, \cite{cockett2009:ctcs},
\cite{barr:ctcs} and \cite{various:nlab}.

A category may be defined in a variety of equivalent ways. As much of our
work will involve the exploration of partial and reversible maps, their domains and codomains, we
choose a definition that highlights the algebraic nature of these.

\begin{definition}\label{def:category}
  A \emph{category} $\A$ is a directed graph consisting of objects $A_o$ and maps $A_m$. Each $f\in
  A_m$ has two associated objects in $A_o$, called the domain and codomain. When $f$ has domain $X$
  and codomain $Y$ we will write $f:X \to Y$. For $f, g \in A_m$, if $f:X\to Y$ and $g:Y \to Z$,
  there is a map called the \emph{composite} of $f$ and $g$, written $f g$,\footnote{Note that
    composition is written in diagrammatic order throughout this paper.} such that $f g:X \to Z$.
  For any $W \in A_o$ there is an \emph{identity} map $1_W:W \to W$. Additionally, these two axioms
  must hold:
  \begin{itemize}
    \item[\catone] for $f:X \to Y$, $1_X f = f = f 1_Y$,
    \item[\cattwo] given $f:X \to Y,\ g:Y \to Z$ and $h: Z\to W$, then $f (g h) = (f g) h$.
  \end{itemize}

\end{definition}

\subsection{Properties of maps} % (fold)
\label{sub:properties_of_maps}
Many interesting properties of maps are generalizations of notions that have been found useful in
considering sets and functions. We present a few of these in a tabular format, together with their
categorical definition. Throughout Table~\ref{tab:properties_of_maps_in_categories}, $e,f,g$ are
maps in a category $C$ with $e:A \to A$ and $f,g:A \to B$.
\begin{table}[!htbp]
  \begin{center}
    \begin{tabular}{|p{1in}p{1in}p{3.73in}|}
      \hline
      {\bf Sets} & {\bf Categorical Property} & {\bf Definition}\\
      \hline
      \hline
      Injective & Monic & $f$ is monic whenever $h f = k f$ means that $h = k$.\\
      \hline
      Surjective & Epic & The dual notion to monic, $g$ is epic whenever $g h = g k$ means that $h = k$.
      A map that is both monic and epic is called \emph{bijic}.\\
      \hline
      Left~Inverse & Section & $f$ is a section when there is a map $f^*$ such that $f f^* = 1_A$. $f$
      is also referred to as the \emph{left inverse} of $f^*$.\\
      \hline
      Right Inverse & Retraction & $f$ is a retraction when there is a map $f_*$ such that $f_* f = 1_B$.
      $f$ is also referred to as the \emph{right inverse} of $f_*$. A map that is both a section and a
      retraction is called an \emph{isomorphism}.\\
      \hline
      Idempotent & Idempotent & An endomorphism $e$ is idempotent whenever $e e = e$.\\
      \hline
    \end{tabular}
  \end{center}
  \caption{Properties of Maps In Categories}
  \label{tab:properties_of_maps_in_categories}
\end{table}

We state without proof a number of properties of maps.

\begin{lemma}\label{lem:categorical_properties_of_maps}
  In a category \B,
  \begin{enumerate}[{(}i{)}]
    \item If $f,g$ are monic, then $f g$ is monic.
    \item If $f g$ is monic, then $f$ is monic.
    \item $f$ being a section means it is monic.
    \item $f, g$ sections implies that $f g$ is a section.
    \item $f g$ a section means $f$ is a section.
  \end{enumerate}
\end{lemma}


\begin{lemma}\label{lem:categorical_inverses_are_unique}
  If $f:A \to B$ is both a section and a retraction, then $f^* = f_*$, where $f^*$ and $f_*$ are as
  defined in Table~\ref{tab:properties_of_maps_in_categories}.
\end{lemma}

\begin{lemma}\label{lem:categorical_iso_is_epic_section}
  $f$ is an isomorphism if and only if it is an epic section.
\end{lemma}

Note there are corresponding properties for epics and retractions, obtained by dualizing the
statements of Lemma~\ref{lem:categorical_properties_of_maps} and
Lemma~\ref{lem:categorical_iso_is_epic_section}.

Suppose $f:A \to B$ is a retraction with left inverse $f_*:B \to A$. Note that $f f_*$ is idempotent
as $f f_* f f_* = f 1_B f_* = f f_*$. If we are given an idempotent $e$, we say $e$ is \emph{split}
if there is a retraction $f$ with $e = f f_*$.

In general, not all idempotents in a category will split. The following construction allows us to
create a category based on the original one in which all idempotents do split.

\begin{definition}\label{def:split_category}
  Given a category $\B$ and a set of idempotents $E$ of $\B$, we may create \emph{Split${}_E$($\B$)}.
  As this is called the Karoubi envelope, this is normally written as $\spl{E}{\B}$, and defined as:
  \category{$(A,e)$, where $A$ is an object of \B, $e:A\to A$ and $e\in E$.}
    {$f_{d,e}:(A,d)\to(B,e)$ is given by $f:A\to B$ in \B, where $f = d\uts f e$.}
    {The map $e_{e,e}$ for $(A,e)$.}
    {Inherited from \B.}
  When $E$ is the set of all idempotents in $\B$, we write $\spl{}{\B}$.
\end{definition}
This is the standard idempotent splitting construction, variously known as the Karoubi
envelope or Cauchy completion.

\begin{lemma}\label{lem:split_category_splits_and_has_category}
  Given a category $\B$, then it is a full sub-category of $\spl{}{\B}$ and all idempotents split
  in  $\spl{}{\B}$.
\end{lemma}
\begin{proof}
  We identify each object $A$ in $\B$ with the object $(A,1)$ in $\spl{}{\B}$. The only maps between
  $(A,1)$ and $(B,1)$ in $\spl{}{\B}$ are the maps between $A$ and $B$ in $\B$, hence we have a
  full sub-category.

  Suppose we have the map $d_{e,e}: (A,e) \to (A,e)$ with $d d = d$, i.e., it is idempotent in $C$
  and $\spl{}{\B}$. In $\spl{}{\B}$, we have the maps $d_{e,d}:(A,e) \to (A,d)$ and $d_{d,e}:(A,d) \to
  (A,e)$ where $d_{d,e} d_{e,d} = d_{d,d} = 1_{(A,d)}$ and $d_{e,d} d_{d,e} = d_{e,e}$. Hence,
  it is a splitting of the map  $d_{e,e}$.
\end{proof}
% subsection properties_of_maps (end)

\subsection{Functors and natural transformations} % (fold)
\label{ssub:functors_and_natural_transformations}

\begin{definition}\label{def:functor}
  A map $F:\X \to \Y$ between categories, as in Definition~\ref{def:category}, is called a
  \emph{functor}, provided it satisfies the following:
  \begin{itemize}
    \item[\axiom{F}{1}] $F(D(f)) = D(F(f))$ and $F(C(f)) = C(F(f))$;
    \item[\axiom{F}{2}] $F(f g) = F(f)F(g)$;
  \end{itemize}
\end{definition}

\begin{lemma}\label{lem:cat_is_a_category}
  The collection of categories and functors form the category \cat.
\end{lemma}
\begin{proof}
  \categoryns{Categories.}{Functors.}{The identity functor which takes an object to the same object
    and a map to the same map.}{
  $F G(x) = F(G(x))$ which is clearly associative.}
\end{proof}

\begin{definition}\label{def:faithful_functor}
  A functor $F:\X\to\Y$ is \emph{faithful} when for each pair of objects $A,B$ in $\X$, and map
  $g:FA \to FB$ in $\Y$, there is a map $f:A\to B$ in $\X$ such that $F f = g$.
\end{definition}

\begin{definition}\label{def:full_functor}
  A functor $F:\X\to\Y$ is \emph{full} when for parallel maps $f, f'$, if $Ff = Ff'$ then $f = f'$.
\end{definition}
We may also consider the notion of containment between categories/

\begin{definition}\label{def:subcategories}
  Given the categories $\B$ and $\D$, we say that \B is a \emph{sub-category} of \D when each object
  of \B is an object of \D and when each map of \B is a map of \D.
\end{definition}

When $\B$ is a subcategory of $\D$, the functor $J:\B \to \D$ which takes each object to itself in
$\D$ and each map to itself in $\D$ is called the inclusion functor. When $J$ is a full functor, we
say $\B$ is a full subcategory of $\D$.

Functors with two arguments, e.g., $F:\sets \times \sets \to \sets$ which satisfy \axiom{F}{1} and
\axiom{F}{2} for each argument independently are called \emph{bi-functors}.


We will often restrict ourselves to specific classes of functors which either \emph{preserve} or
\emph{reflect} certain characteristics of the domain category or codomain category. To be more
precise, we provide some definitions.

\begin{definition}\label{def:diagram_in_a_category}
  Given a category $\S$, a \emph{diagram}
  in a category $\B$ of \emph{shape} $\S$ is a functor $D:\S \to \B$.
\end{definition}

\begin{definition}\label{def:property_of_a_diagram}
  A \emph{property} of a diagram $D$, written $P(D)$ is a logical relation expressed using the
  objects and maps of the diagram $D$.
\end{definition}

For example,   $P(f:A \to B) = \exists h : B \to A. h f = 1_A$ expresses that $f$ is a retraction.

\begin{definition}\label{def:functor_preserving_and_reflecting_a_property}
  A functor $F$ \emph{preserves} the property $P$ over maps $f_i$ and objects $A_j$ when
  $P(f_1,\ldots,f_n, A_1,\ldots,A_m)$ implies $P(F(f_1),\ldots,F(f_n), F(A_1),\ldots,F(A_m))$.
  A functor $F$ \emph{reflects} the property $P$ over maps $f_i$ and objects $A_j$ when
  $P(F(f_1),\ldots,F(f_n), F(A_1),\ldots,F(A_m))$ implies $P(f_1,\ldots,f_n, A_1,\ldots,A_m)$.
\end{definition}

For example, all functors preserve the properties of being an idempotent or a retraction or section,
but in general, not the property of being monic.

A functor $F:\B \to \D$ induces a map between hom-sets in $\B$ and hom-sets in $\D$. For
each object $A,B$ in $\B$ we have the map:
\[
  F_{AB} : \B(A,B) \to \D(F(A),F(B)).
\]

\begin{definition}\label{def:natural_transformation}
  Given functors $F,G:\X \to \Y$, a \emph{natural transformation} $\alpha:F \natto G$ is a collection
  of maps in $\Y$, $\alpha_X : F(X) \to G(X)$, indexed by the objects of $\X$ such that for all
  $f:X_1 \to X_2$ in $\X$ the following diagram in $\Y$ commutes:
  \[\xymatrix @R+10pt @C+10pt{
      F(X_1) \ar[r]^{F(f)} \ar[d]_{\alpha_{X_1}} & F(X_2) \ar[d]^{\alpha_{X_2}}\\
      G(X_1) \ar[r]_{G(f)} &  G(X_2)
    }
  \]
\end{definition}
% subsection functors_and_natural_transformations (end)

\subsection{Enrichment of categories} % (fold)
\label{sub:enrichement_of_categories}
\begin{notation}\label{notn:hom-set}
  If $\X$ is a category, then the maps from $A$ to $B$ in $\X$ are represented as $\X(A,B)$.
\end{notation}

If $\X(A,B)$ is a set for all objects in $\X$, we say $\X$ is \emph{enriched} in sets. In general,
categories may be enriched in a variety of algebraic structures. For example a category may be
enriched in groups, vector spaces or monoids.

Specific types of enrichment may force a structure on a category. For example, if $\X$ is
enriched in sets of cardinality of 0 or 1, then $\X$ must be a pre-order.

\begin{example}
  A group $G$ may be considered as a one-object category $\mathbb{G}$, with object $\{*\}$. The elements of the
  group are the maps between $\{*\}$. As $G$ is a group, there is an identity, composition is given
  by the group multiplication and additionally, each map has an inverse. As $\mathbb{G}(\{*\},\{*\})
  = G$, this category is enriched in groups.
\end{example}
% subsection enrichment_of_categories (end)
\subsection{Examples of categories} % (fold)
\label{sub:examples_of_categories}
In this section, we will offer a few examples of categories.
Four categories derived from sets are:

\begin{example}[\sets]\label{ex:category_sets}
In this category, the maps are given by all set functions.
\category{Sets}{Set functions}{The identity function}{Standard composition of functions}
\end{example}

\begin{example}[\Par]\label{ex:category_par}
For this example, the maps are all partial set functions.
\category{Sets}{Partial set functions}{The identity function}{Standard composition of functions}
\end{example}

\begin{example}[\rel]\label{ex:category_rel}
\rel is often of interest in quantum programming language semantics:
\category{All sets}{Relations: $R:X \to Y$}{$1_X = \{(x,x) | x \in X\}$}{$RS = \{(x,z) |\,
\exists y. (x,y) \in R$ and $(y,z)\in S\}$}
\end{example}

Note that \rel is enriched in posets, via set inclusion. \Par can be viewed as a sub-category of
\rel, with the same objects, but only allowing maps which are partial functions, i.e., deterministic
relation where if $(x,y), (x,y') \in f$, then $y = y'$. \Par is also enriched in posets, via the
same inclusion ordering as in \rel.

\begin{example}[\pinj]\label{ex:category_pinj}
Our final example based on sets is one that will be used throughout this thesis. The category \pinj consists of
the partial injective functions over sets. Similarly to \Par, it may be considered as a subcategory
of \rel. The maps $f,g$ (relations in \rel) in \pinj are defined as follows:
\begin{align}
   (x,y)\in f\text{ and }(x,y')\in f & \text{ implies } y = y',\label{eq:pinj_relation_is_a_function}\\
   (x,y)\in f\text{ and }(x',y)\in f & \text{ implies } x = x'.\label{eq:pinj_converse_relation_is_a_function}
\end{align}
\category{All sets}{Relations: $f:X \to Y$ which satisfy Equation~\ref{eq:pinj_relation_is_a_function} and
Equation~\ref{eq:pinj_converse_relation_is_a_function}.}{$1_X = \{(x,x) | x \in X\}$}{$f g = \{(x,z) |\,
\exists y. (x,y) \in f$ and $(y,z)\in g\}$}
\end{example}

Our next example shows maps in categories need not always be something normally thought of as a
function or relation.

\begin{example}[Matrix Category]\label{ex:matrix_category}
Given a rig $R$ (i.e., a ri\textbf{n}g minus \textbf{n}egatives, e.g., the natural numbers), one may
form the category \textsc{Mat}($R$). For example, the category of matrices of natural numbers is:
\category{\nat}{$[r_{i j}]: n \to m$ where $[r_{i j}]$ is an $n \times m$ matrix over $R$}{
$I_n$}{Matrix multiplication}
\end{example}

Our last example describes a construction on a category.

\begin{example}[Dual Category]\label{ex:dual_category}
Given a category $\B$, we may form the \emph{dual} of $\B$, written $\B^{op}$ as the following
category:
\category{The objects of $\B$}{$f^{op}:B\to A$ in $\B^{op}$ when $f:A\to B$ in $\B$.}{
The identity maps of $\B$}{If $f g = h$ in $\B$, $g^{op} f^{op} = h^{op}$}
\end{example}

% subsection examples_of_categories (end)

\subsection{Limits and colimits in categories} % (fold)
\label{sub:limits_and_colimits_in_categories}

We shall discuss only a few basic limits/colimits in categories. First we discuss initial
and terminal objects.

\begin{definition}\label{def:initial_object}
  An \emph{initial object} in a category $\B$ is an object which has exactly one map to each other
  object in the category. The dual notion is \emph{terminal object} which has exactly one map from
  each other object in the category.
\end{definition}


\begin{lemma}\label{lem:initial_objects_are_unique}
  Suppose $I,J$ are initial objects in $\B$. Then there is a unique isomorphism $i:I \to J$.
\end{lemma}
\begin{proof}
  First, note that by definition there is only one map from $I$ to $I$ --- which must be the
  identity map. As $I$ is initial there is a map $i: I \to J$. As $J$ is initial there is a map
  $j:J \to I$. But this means $i j : I \to I = 1$ and $j i : J \to J = 1$ and hence $i$ is the
  unique isomorphism from $I$ to $J$.
\end{proof}

Dually, we have the corresponding result to Lemma~\ref{lem:initial_objects_are_unique} for terminal
objects --- they are also unique up to a unique isomorphism.

In categories, following the terminology in sets, we normally designate the initial object by $0$
and the terminal object by $1$.

We now turn to products and co-products.

\begin{definition}\label{def:categorical_product}
  Let $A,B$ be objects of the category $\B$. Then the object $A \times B$ is a \emph{product} of
  $A$ and $B$ when:
  \begin{itemize}
    \item There exist maps $\pi_0, \pi_1$ with $\pi_0:A\times B \to A$, $\pi_1:A\times B \to B$;
    \item Given an object $C$ with maps $f:C\to A$ and $g:C \to B$ there is a unique map
    $\<f,g\>$ such that the following diagram commutes:
    \[
      \xymatrix@C+15pt@R+25pt{
        &&&A\\
        C\ar[urrr]^{f} \ar[drrr]_{g}\ar@{.>}[rr]^{\<f,g\>} & &A\times B \ar[ur]_{\pi_0}\ar[dr]^{\pi_1}\\
        &&&B
      }
    \]
  \end{itemize}

\end{definition}

A co-product is the dual of a product.

\begin{definition}\label{def:categorical_coproduct}
  Let $A,B$ be objects of the category $\B$. Then the object $A + B$ is a \emph{coproduct} of
  $A$ and $B$ when:
  \begin{itemize}
    \item There exist maps $\cpa, \cpb$ with $\cpa:A \to A + B$, $\cpb:B \to A+ B$;
    \item Given an object $C$ with maps $h:A\to C$ and $k:B \to C$ there is a unique map
    $[f,g]$ such that the following diagram commutes:
    \[
      \xymatrix@C+15pt@R+25pt{
        A \ar[drr]^h \ar[d]_{\cpa} \\
        A +B \ar@{.>}[rr]^{[f,g]} && C\\
        B \ar[urr]_k \ar[u]^{\cpb}
      }
    \]
  \end{itemize}
\end{definition}

It is possible for an object to both a limit and a co-limit at the same time.
\begin{definition}\label{def:categorical_zero}
  Given a category $\B$, any object that is both a terminal and initial object is called a
  \emph{zero object}. This object is labelled $\zeroob$.
\end{definition}

Note that any category with a zero object has a special map, $\zeroob_{A,B}$
between any two objects $A,B$ of the category given by: $\zeroob_{A,B} : A \to \mathbf{0} \to B$.

\begin{definition}\label{def:categorical_biproduct}
  In a category \B, with products and coproducts, where:
  \[
    \cp{i}\Pi_j = \begin{cases}
      1 & i = j\\
      0 & i \neq j
      \end{cases}
  \]
  and given any two objects, $A,B$, $A\times B$ is isomorphic to $A+B$ , then $A\times B$ is
  referred to as the \emph{biproduct} and designated as $A\biproduct B$.
\end{definition}

\begin{definition}\label{def:finite_biproducts}
A category \cD{} is said to have \emph{finite biproducts} when it has a zero object $\mathbf{0}$
and when each pair of objects $A,B$ have a biproduct $A\biproduct B$.
\end{definition}

Note that a category with finite biproducts is enriched in commutative monoids. If $f,g:A\to
B$, define $f+g:A\to B$ as $\<id_{A}, id_{A}\>\, (f\biproduct g)\, [id_{B},id_{B}]$. The unit for the
addition is $\zeroob_{A,B}$. Throughout this thesis, when working in a category with finite
biproducts, $\<id, id\>$ will be designated by $\Delta$ and $[id,id]$ will be designated by
$\nabla$.

% subsection limits_and_colimits_in_categories (end)

% section categories (end)
\section{Restriction categories} % (fold)
\label{sec:restriction_categories}


Restriction categories were introduced in
 \cite{cockett2002:restcategories1} as a way to give an algebraic axiomatization of partial maps.
\begin{definition}\label{def:restriction_category}
  A \emph{restriction category} is a category \X\ together with a \emph{restriction operator} on
  maps,
  \[
    \infer{\restr{f}:A\to A,}{f:A \to B}
  \]
  where $f$ is a map of \X\ and $A,B$ are objects of \X, such that the
  following four \emph{restriction identities} hold, whenever the
  compositions are defined:
  \begin{align*}
    &\rone\ \restr{f} f = f & &
    \rtwo\ \restr{g}  \restr{f} = \restr{f}  \restr{g}\\
    &\rthree\ \restr{\restr{f}  g} = \restr{f}   \restr{g} & &
    \rfour\  f \restr{g} = \restr{f g} f.
  \end{align*}
\end{definition}

\begin{definition}
  A \emph{restriction functor} is a functor which preserves the restriction. That is,
  given a functor $F: \X \to \Y$ with \X\  and \Y\ restriction categories,
  $F$ is a restriction functor if:
  \[
    F(\restr{f}) = \restr{F(f)}.
  \]
\end{definition}

Note that any map such that $r=\restr{r}$ is an idempotent, as $r r = \rst{r} r = r$.
Such a map is called a \emph{restriction idempotent}.

Here are some basic facts (\cite{cockett2002:restcategories1} and
\cite{cockett-manes09-boolean-classical-rest-cats}) for restriction categories.

\begin{lemma}\label{lem:restrictionvarious}
  In a restriction category \X,
  \begin{multicols}{2}
    \begin{enumerate}[{(}i{)}]
      \item{}$\rst{f}$ is idempotent;
      \item{} $\rst{f g} = \rst{f g} \, \rst{f}$;\label{lemitem:rv_2}
      \item{} $\rst{f g} = \rst{f \rst{g}}$ ;\label{lemitem:rv_3}
      \item{} $\rst{\rst{f}} = \rst{f}$;
      \item{} $\rst{f}\,\rst{g} = \rst{\rst{f}\,\rst{g}}$;
      \item{} $f$ monic implies $\rst{f} = 1$;
      \item{} $f = \rst{g} f \implies \rst{g}\,\rst{f} = \rst{f}$.
      \\
    \end{enumerate}
  \end{multicols}
\end{lemma}
\begin{proof}
  \prepprooflist
  \begin{enumerate}[{(}i{)}]
    \item Using \rthree and then \rone, we see $\rst{f}\,\rst{f} = \rst{\rst{f} f} = \rst{f}$.
    \item Using \rone, \rthree and then \rtwo, $\rst{f g} = \rst{\rst{f} f g} = \rst{f}\,\rst{f g} =
      \rst{f g}\, f$.
    \item Using \ref{lemitem:rv_2}, \rthree and then \rfour, $\rst{f g} = \rst{f g}\,\rst{f} =
      \rst{\rst{f g} f} = \rst{f\rst{g}}$.
    \item By \ref{lemitem:rv_3}, $\rst{f} = \rst{1 f} = \rst{1 \rst{f}} = \rst{\rst{f}}$.
    \item Using \rthree, $\rst{\rst{f}\,\rst{g}} = \rst{f}\rst{\rst{g}} = \rst{f}\,\rst{g}$.
    \item By \rone $\rst{f} f = 1 f$, hence when $f$ is monic, $\rst{f} = 1$.
    \item $\rst{g}\rst{f} = \rst{\rst{g} f} = \rst{f}$.
  \end{enumerate}
\end{proof}

Note that by Lemma~\ref{lem:restrictionvarious}, all maps $\restr{f}$ are restriction idempotents
as $\rst{f}=\rst{\rst{f}}$.


\begin{definition}\label{def:total_map}
  A map $f:A\to B$ in a restriction category is said to be \emph{total} when
  $\rst{f} = 1_A$.
\end{definition}

\begin{lemma}\label{lem:total_maps_form_sub_category}
   The total maps in a restriction category form a sub-category  $Total(\X) \subseteq \X$.
\end{lemma}
\begin{proof}
  First, as the identity map $1$ is monic, by Lemma~\ref{lem:restrictionvarious}, we have $\rst{1} =
  1$ and therefore the identity map is in $Total(\X)$. If $f,g$ are composable maps in $Total(\X)$,
  then $\rst{f\,g} = \rst{f\rst{g}} = \rst{f} = 1$ and hence $f g$ is in $Total(\X)$. Therefore,
  $Total(\X)$ is a sub-category of $\X$.
\end{proof}
\begin{example}[\Par]\label{ex:par_is_a_restriction_category}
Continuing from Example~\ref{ex:category_par}, \Par is a restriction category. The restriction of $f:A\to B$ is:
\[
  \rst{f}(x) =
  \begin{cases}
    x&\text{if $f(x)$ is defined,}\\
    \uparrow&\text{if }f(x)\text{ is }\uparrow.
  \end{cases}
\]
In \Par, the
total maps correspond precisely to the functions that are defined on all elements of the domain.
\end{example}

\begin{example}[\rel]\label{ex:rel_is_a_restriction_category}
The category \rel from Example~\ref{ex:category_rel} is a restriction category with the restriction
of $R=\{(a,b)\}$ being $\rst{R} = \{(a,a) | \exists b. (a,b) \in R\}$.
\end{example}

\begin{example}[\pinj]\label{ex:pinj_is_a_restriction_category}
From Example~\ref{ex:category_pinj}, we see \pinj is a restriction category and in fact is a
sub-restriction category of \rel. We will show the four restriction axioms:
\begin{align*}
  \rone\ & \rst{f}f = \{(x,z) | \exists x. (x,x) \in \rst{f} \text{ and } (x,z) \in f\} = \{(x,z) |
  (x,z) \in f\} = f,\\
  \rtwo\ & \rst{f}\rst{g} = \{(x,z) | \exists y. (x,y) \in \rst{f} \text{ and } (y,z) \in \rst{g}\} =
  \{(x,x) | (x,x) \in \rst{f} \text{ and } (x,x) \in \rst{g}\} = \rst{g}\rst{f},\\
  \rthree\ & \rst{\rst{f} g} = \rst{\{(x,y) | (x,x) \in \rst{f}, (x,y) \in g\}} = \{(x,x) | (x,x) in
  \rst{f}, (x,x) \in \rst{g} \} = \rst{f} \rst{g},\\
  \rfour\ & f \rst{g} = \{(x,y) | (x,y) \in f, (y,y) \in \rst{g}\} =  \{(x,y) | (x,y) \in f, \exists
  z. (y,z) \in g\} \\
  &=  \{(x,y) | (x,y) \in f, \exists z. (x,z) \in f g\} =  \{(x,y) | (x,y) \in f,
  (x,x) \in \rst{f g}\} = \rst{f g} f.
\end{align*}
\end{example}

\subsection{Enrichment} % (fold)
\label{sub:enrichment_in_restriction_categories}

We may use the restriction to define a partial order on the hom-sets of a restriction
category. Intuitively, we would think of a map $f$ being less than a map $g$ if $f$ is
defined on fewer elements than $g$ \emph{and} they agree where they are defined. This Sub-Section
will bring precision to the above intuition.

\begin{definition}\label{def:restriction_category_hom_set_ordering}
  In a restriction category, for any two parallel maps  $f,g:A\to B$, define $f \le g$ iff
  $\restr{f} g = f$.
\end{definition}


\begin{lemma}\label{lem:restriction_cats_are_partial_order_enriched}
  For any restriction category \X, it is enriched in partial orders under the ordering $\le$ from
  Definition~\ref{def:restriction_category_hom_set_ordering} and the following hold:
  \begin{multicols}{2}
    \begin{enumerate}[{(}i{)}]
      \item $f \le g \implies \restr{f} \le \restr{g}$;\label{lemitem:rst_ordering_2}
      \item $\rst{f g} \le \rst{f}$; \label{lemitem:rst_ordering_3}
      \item $f \le g \implies h f \le h g$;
      \item $f \le g \implies f h \le g h$;
      \item $f \le g$ and $\rst{f} = \rst{g}$ implies $f = g$;
      \item $f \le 1 \iff f = \restr{f}$;
      \item $\rst{g}f = f$ implies $\rst{f} \le \rst{g}$.
    \end{enumerate}
  \end{multicols}
\end{lemma}
\begin{proof}
  First, we show the enrichment by showing $\le$ is a partial order on $\X(A,B)$. With
  $f,g,h:A\to  B$ parallel maps in \X, each of the requirements for a partial order is
  verified below:
  \begin{description}
    \itembf{Reflexivity:} $\restr{f} f = f$ and therefore, $ f \le f$.
    \itembf{Anti-Symmetry:} Given $\restr{f}g = f$ and $\restr{g}f = g$, it follows:
    \[
      f = \restr{f} f = \restr{\restr{f} g} f = \restr{f}\, \restr{g} f
      = \restr{g}\restr{f} f =  \restr{g} f = g.
    \]
    \itembf{Transitivity:} Given $f \le g$ and $g\le h$,
      \[
        \restr{f} h = \restr{\restr{f} g} h = \restr{f}\, \restr{g} h = \restr{f} g = f
      \]
    showing that $f \le h$.
  \end{description}

  We now show the rest of the claims.
  \setlist[enumerate,1]{leftmargin=1.2cm}
  \begin{enumerate}[{(}i{)}]
    \item The premise is that $\restr{f} g = f$. From this, $ \restr{f}\, \restr{g} =
      \restr{\restr{f} g} = \restr{f}$, showing $\restr{f} \le \restr{g}$.
    \item $\restr{h f} h g = h \restr{f} g = h f$  and therefore $h f \le h g$.
    \item $\restr{f} g = f$, this shows $\restr{f h} g h = \restr{\restr{f} g h} g h
      = \restr{f}\, \restr{g h} g h = \restr{f} g h = f h$ and therefore $f h \le g h$.
    \item $g = \rst{g} g = \rst{f} g = f$.
    \item As $f \le 1$ means precisely $\restr{f}1 = f$.
    \item Assuming $\rst{g} f = f$, we need to show $\rst{f}\, \rst{g} = \rst{f}$. Using \rtwo and
      then \rthree we have $\rst{f}\,\rst{g} = \rst{g}\rst{f}  = \rst{\rst{g} f}  = \rst{f}$.
      Hence, $\rst{f} \le \rst{g}$.
  \end{enumerate}
\end{proof}

Lemma \ref{lem:restriction_cats_are_partial_order_enriched} shows that restriction
categories are enriched in partial orders.

In a restriction category \X, we will use the notation $\open{A}$ for the restriction idempotents
of $A\in \ob{\X}$. $\open{A} = \{x:A\to A| x = \rst{x}\}$. The notation $\open{A}$ was chosen
to be suggestive of open sets.

\begin{lemma}\label{lem:open_a_is_a_meet_semilattice}
  In a restriction category \X, $\open{A}$ is a meet semi-lattice.
\end{lemma}
\begin{proof}
  The top of the meet semi-lattice is $1_A$, under the ordering from
  Definition~\ref{def:restriction_category_hom_set_ordering}.
  The join of any two idempotents is given by their composition.
\end{proof}

\subsection{Meets} % (fold)
\label{sub:meets_in_restriction_categories}

\begin{definition}\label{def:meet_in_a_restriction_category}
  A restriction category has \emph{meets} if there is an operation $\meet$ on parallel maps:
  \[
    \infer{A\xrightarrow{f\meet g} B}
      {A\overset{f}{\underset{g}{\rightrightarrows}}B}
  \]
  such that $f\meet g \le f, f\meet g \le g, f\meet f = f, h (f\meet g) = h f \meet h g$.
\end{definition}

Meets were introduced in \cite{cockett-guo-hofstra-2012:range2}.
The following are basic results on meets:

\begin{lemma}
  \label{lem:properties_of_meets_in_restriction_categories}
  In a restriction category \X with meets, where $f, g, h$ are maps in
  \X, the following are true:
  \setlist[enumerate,1]{leftmargin=1.2cm}
  \begin{enumerate}[{(}i{)}]
    \item $f\le g \text{ and } f \le h \iff f \le g\meet h$;
        \label{lemsub:properties_of_meets_one}
    \item $f\meet g = g \meet f$;\label{lemsub:properties_of_meets_two}
    \item $\restr{f\meet 1} = f \meet 1$;\label{lemsub:properties_of_meets_three}
    \item $(f \meet g) \meet h = f \meet (g \meet h)$;
    \item $r(f\meet g) = r f \meet g$ where $r=\rst{r}$ is a restriction idempotent;
    \item $(f\meet g)r = f r \meet g$ where $r=\rst{r}$ is a restriction idempotent;
    \item $\restr{f\meet g} \le \restr{f}$ (and therefore $\restr{f\meet g} \le \restr{g}$);
    \item $ (f \meet 1) f = f \meet 1$;
    \item $ e(e \meet 1) = e$ where $e$ is idempotent.
  %\item $ e \meet e' = e e'$
  \end{enumerate}
\end{lemma}
\begin{proof}
  \prepprooflist
  \setlist[enumerate,1]{leftmargin=1.2cm}
  \begin{enumerate}[{(}i{)}]
    \item $f\le g \text{ and } f \le h$ means precisely $f = \restr{f} g$ and $f = \restr{f} h$.
      Therefore,
      \[
        \restr{f} (g\meet h) =  \restr{f} g \meet \restr{f} h =  f\meet f = f
      \]
      and so $f \le g \meet h$. Conversely, given $f \le g\meet h$, we have
      $f = \restr{f} (g\meet h) = \restr{f} g \meet \restr{f} h \le \restr{f} g $. But
      $f \le \restr{f} g$ means $f = \restr{f}\,\restr{f} g = \restr{f}g$ and therefore
      $f \le g$. Similarly, $f \le h$.
    \item From \ref{lemsub:properties_of_meets_one}, as by definition, $f\meet g \le g$ and
      $f \meet g \le f$.
    \item $f\meet 1 = \restr{f\meet 1} (f \meet 1)= (\restr{f \meet 1} f ) \meet (\restr{f \meet 1})
      \le \restr{f \meet 1}$ from which the result follows. %def of $\le$, \rthree and \rone
    \item By definition and transitivity, $(f\meet g)\meet h \le f, g, h$ therefore by
      \ref{lemsub:properties_of_meets_one} $(f \meet g) \meet h \le f \meet (g \meet h)$. Similarly,
      $f \meet (g \meet h) \le(f \meet g) \meet h$ giving the equality.
    \item Given  $r f \meet g \le r f$, calculate:
      \[
        r f\meet g
        = \restr{r f\meet g} r f
        = \restr{r (r f\meet g)} f
        = \restr{r r f\meet r g} f
        = \restr{r (f\meet g)} f
        = r \restr{f\meet g} f
        = r (f\meet g).
      \]
    \item Using the previous point with the restriction idempotent $\restr{f r}$,
      \begin{equation*}
        \begin{split}
          f r \meet g
          = f \restr{r} \meet g   %%r rest id
          = \restr{f r }f \meet g  %% R.4
          = \restr{f r}(f\meet g)   %Pre
          = \restr{f r}\, \restr{f\meet g} f \\ % meet <=
          = \restr{f\meet g}\, \restr{f r} f % R2
          = \restr{f\meet g} f \restr{r}  %R4
          = (f\meet g) r. % meet, r rest id
        \end{split}
      \end{equation*}
    \item For the first claim,
      \[
        \restr{f\meet g}\, \restr{f} =\restr{\restr{f}(f\meet g)}\\
        =\restr{(\restr{f}f)\meet g} =\restr{f\meet g}.
      \]
      The second claim then follows by \ref{lemsub:properties_of_meets_two}.
    \item Given $ f \meet 1 \leq f$:
      \[
        f \meet 1 \leq f \iff  \restr{f \meet 1} f = f \meet 1 \iff  (f \meet 1) f = f \meet 1
      \]
      where the last step is by item \ref{lemsub:properties_of_meets_three} of this lemma.
    \item As $e$ is idempotent, $e (e\meet 1) = (e e \meet e) = e$.
  \end{enumerate}
\end{proof}

\begin{example}[Meets in \pinj]\label{ex:pinj_has_meets}
The restriction category \pinj has meets given by the intersection of the sets defining the
maps. First, we note that the hom-set ordering for \pinj is given by set inclusion. Denoting
intersection by $\intersection$, we immediately have
\begin{align*}
  f\intersection g &\subseteq f \\
  f\intersection g &\subseteq g\\
  f\intersection f & = f
\end{align*}
by the properties of sets and intersections. For the final requirement,
\begin{align*}
  h(f\intersection g) &= \{(x,z) | \exists y. (x,y) \in h, (y,z) \in f\intersection g\}\\
  &=   \{(x,z) | \exists y. (x,y)  \in h, (y,z) \in f, (y,z) \in g\}\\
  & = \{(x,z) | (x,z) \in h f, (x,z) \in h g\} = h f \intersection h g.
\end{align*}
Thus, intersection is a meet in \pinj.
\end{example}
% subsection enrichment_and_meets (end)
\subsection{Partial monics and isomorphisms} % (fold)
\label{sub:restricted_monics_and_partial_isomorphisms}

Partial isomorphisms play a central role in this thesis. Below we present
some of their basic properties.

\begin{definition}\label{def:partial_inverse_etc}
  For maps $f$ in a restriction category \X:
  \begin{itemize}
    \item $f$ is a \emph{partial isomorphism} when there is a \emph{partial inverse}, written
      $\inv{f}$ with $f\inv{f} =\restr{f}$ and $\inv{f}f = \restr{\inv{f}}$;
    \item $f$ is a \emph{partial monic} if $h f = k f$ implies $h \restr{f} = k \restr{f}$;
    \item $f$ is a \emph{partial section} if there exists an  $h$ such that $f h = \restr{f}$;
    \item $f$ is a \emph{restriction monic} if it is a section $s$ with a retraction
      $r$ such that $r s = \restr{r s}$.
  \end{itemize}
\end{definition}

Note that restriction monic is a stronger notion than that of monic. Consider two objects $A, B$
in a restriction category where we have $m: A\to B$, $r:B \to A$ with $m r = 1_A$. In this case
$A$ is called a \emph{retract} of $B$, which we will write as $A\retract B$. As $m$ and $r$ need
not be unique, we will also write $(m,r) A \retract B$ when the specific section and retraction
are to be emphasized. Since $m$ is a section,
it is a monic and therefore total. The map $r m$ is idempotent on $B$ as $r m r m = r 1 m = r m$.
$A$ is referred to as a \emph{splitting} of the idempotent $r m$. Note there is no requirement that
$r m = \rst{r m}$ when $m$ is simply monic.

\begin{lemma}
  \label{lem:rcs_partial_monic_section_inverse_properties}
  In a restriction category:
  \begin{enumerate}[{(}i{)}]
    \item $f,\ g$ partial monic implies $f g$ is partial monic;
    \item $f$ a partial section implies $f$ is partial monic;
    \item $f,\ g$ partial sections implies $f g$ is a partial section;
    \item The partial inverse of $f$, when it exists, is unique;
    \item If $f,\ g$ have partial inverses and $f\,g$ exists, then $f\,g$ has a partial inverse;
    \item A restriction monic $s$ is a partial isomorphism.
  \end{enumerate}
\end{lemma}
\begin{proof}
  \prepprooflist
  \begin{enumerate}[{(}i{)}]
    \item Suppose $h f g = k f g$. As $g$ is partial monic, $h f \restr{g} = k f \restr{g}$.
      Therefore:
      \begin{align*}
        h \restr{f g} f &= k \restr{f g} f &\rfour\\
        h \restr{f g}\,\restr{f} &= k \restr{f g}\, \restr{f} & f\text{partial monic}\\
        h \restr{f g}&= k \restr{f g} & \text{Lemma \ref{lem:restrictionvarious},
          \ref{lemitem:rv_2}.}
      \end{align*}
    \item Suppose $g f = k f$. Then, $g\restr{f} = g f h = k f h = k \restr{f}$.
    \item We have $f h = \restr{f}$ and $g h' = \restr{g}$. Therefore,
      \begin{align*}
        f g h' h &= f \restr{g} h & g \text{ partial section}\\
        &= \restr{f g} f h & \rfour\\
        &= \restr{f g}\, \restr{f} & f \text{ partial section}\\
        &= \restr{f}\, \restr{f g} & \rtwo\\
        &= \restr{\restr{f}f g} & \rthree\\
        &= \restr{f g} & \rone.
      \end{align*}
    \item Suppose both $\inv{f}$ and $f^{\diamond}$ are partial inverses of $f$. Then,
      \begin{multline*}
        \inv{f}
        = \restr{\inv{f}}\inv{f} %R.1
        =\inv{f}f\inv{f}  %Assumption, inverse is \inv{f}
        = \inv{f} \restr{f}   %Assumption, inverse is \inv{f}
        = \inv{f} f f^{\diamond}   %Assumption, inverse is f^{\diamond}
        = \inv{f} f \restr{f^{\diamond}} f^{\diamond}  \\ %R.1
        = \restr{\inv{f}}\restr{f^{\diamond}} f^{\diamond}   %Assumption, inverse is \inv{f}
        = \restr{f^{\diamond}}\restr{\inv{f}} f^{\diamond} %R.2
        = f^{\diamond} f \restr{\inv{f}}  f^{\diamond} %Assumption, inverse is f^{\diamond}
        = f^{\diamond} f \inv{f} f f^{\diamond} %Assumption, inverse is \inv{f}
        = f^{\diamond} f f^{\diamond} %Assumption, inverse is \inv{f} and R.1
        = f^{\diamond}. %Assumption, inverse is f^{\diamond}
      \end{multline*}
    \item For $f:A\to B,\ g:B\to C$ with partial inverses $\inv{f}$ and $\inv{g}$ respectively,
      the partial inverse of $f g$ is $\inv{g} \inv{f}$. Calculating $f g \inv{g} \inv{f}$
      using all the restriction identities:
      \[
        f g \inv{g} \inv{f} = f \restr{g} \inv{f} = \restr{f g} f \inv{f} =
        \restr{f g}\, \restr{f} = \restr{f}\, \restr{f g} = \restr{\restr{f} f g} = \restr{f g}.
      \]
      The calculation of $\inv{g} \inv{f} f g = \restr{\inv{g} \inv{f}}$ is similar.
    \item The partial inverse of $s$ is $\restr{r s}\,r$. First, note
      that $\restr{\restr{r s}\,r}
      = \restr{r s}\,\restr{r}
      = \restr{r}\, \restr{r s}
      = \restr{\restr{r}\,r s}
      = \restr{r s}$.
      Then, it follows that $(\restr{r s}\,r) s
      = r s\,= \restr{r s}
      = \restr{\restr{r s}r} $ and
      $s (\restr{r s}\,r)
      = s r \restr{s} %sr = 1 as r is the retraction of the section s
      = \restr{s}$.
  \end{enumerate}
\end{proof}

\begin{definition}\label{def:inverse_category}
  A restriction category in which every map is a partial
  isomorphism is called an \emph{inverse category}.
\end{definition}

\begin{lemma}
  \label{lem:inverse_idempotents_are_restriction_idempotents}
  In an inverse category, all idempotents are restriction idempotents.
\end{lemma}
\begin{proof}
  Given an idempotent $e$,
  \[
    \rst{e} = e\inv{e} = e e \inv{e} = e \rst{e} = \rst{e e} e = \rst{e} e = e.
  \]
\end{proof}

\begin{example}\label{ex:pinj_is_an_inverse_category}
  The category \pinj is an inverse category. For any map $f$, $\inv{f} = \{(y,x) | (x,y) \in
  f\}$. Note that $\inv{f}$ is a map in $\pinj$ due to the two dual conditions on maps as given in
  Example~\ref{ex:category_pinj}.

  On the other hand, \Par is not an inverse category. For example, let $A=\{1,2\},\ B=\{1\}$ and
  $f=\{(1,1),(2,1)\}$ in \Par. The restriction of $f$ is $\rst{f} = \{(1,1),(2,2)\} = 1_A$. There is
  no partial function $g:B\to A$ such that $f g = 1_A$.
\end{example}
% subsection restricted_monics_sections_and_partial_isomorphisms (end)

\subsection{Range categories} % (fold)
\label{sub:range_categories}
Corresponding to Definition~\ref{def:restriction_category} for restriction, which axiomatizes the
concept of a domain of definition, we now introduce range categories
\cite{guox:thesis,cockett-guo-hofstra-2012:range,cockett-guo-hofstra-2012:range2}
which algebraically axiomatize the concept of the range for a function.

\begin{definition}\label{def:range_category}
  A restriction category \X is a \emph{range category} when it has an operator on all maps
  \[
    \infer{\rg{f}:B\to B}{f:A\to B}
  \]
  where the operator satisfies the following:
  \begin{align*}
    &\rrone\ \restr{\rg{f}} = \rg{f} & &
     \rrtwo\ f \rg{f} = f\\
    &\rrthree\ \wrg{f\rst{g}} = \rg{f} \rst{g} & &
     \rrfour\  \wrg{\rg{f}g} = \wrg{f g}
  \end{align*}
  whenever the compositions are defined.

\end{definition}

\begin{lemma}\label{lem:basic_range_category_properties}
  In a range category \X, the following hold:
  \begin{multicols}{2}
    \begin{enumerate}[{(}i{)}]
      \item $\rg{g}\rg{f} = \rg{f}\rg{g}$;
      \item $\rst{f}\rg{g} = \rg{g}\rst{f}$;
      \item $\wrg{f\rg{g}} = \rg{f}\rg{g}$;
      \item $\rg{f} = 1$ when $f$ is epic, hence $\rg{1} = 1$;
      \item $\rg{f}\rg{f} = \rg{f}$;
      \item $\rg{\rg{f}} = \rg{f}$;
      \item $\rg{\rst{f}} = \rst{f}$;
      \item $\rg{g}\wrg{f g} = \wrg{f g}$;
      \item $\wrg{\rg{f}\rg{g}} = \rg{f}\rg{g}$.
    \end{enumerate}
  \end{multicols}
\end{lemma}
\begin{proof}
  See, e.g., \cite{guox:thesis}.
\end{proof}

\begin{lemma}\label{lem:ordering_of_restriction_and_range}
  In a range category:
  \begin{multicols}{2}
    \begin{enumerate}[{(}i{)}]
      \item  $\wrg{h f} \le \rg{f}$; \label{lemitem:ordering_1}
      \item $f' \le f$ implies $\rg{f'} \le \rg{f}$. \label{lemitem:ordering_2}
    \end{enumerate}
  \end{multicols}
\end{lemma}
\begin{proof}
  \prepprooflist
  \begin{enumerate}[{(}i{)}]
    \item Noting that $\rst{\wrg{hf}} \rg{f} = \wrg{hf} \rg{f}  = \wrg{hf \rg{f}} = \wrg{h f}$,
      we see $\wrg{h f} \le \rg{f}$.
    \item Calculating $\rst{\rg{f'}} \rg{f} = \rg{f'} \rg{f} = \wrg{\rst{f'} f} \rg{f} =
      \wrg{\rst{f'} f \rg{f}} = \wrg{\rst{f'} f} = \rg{f'}$, we see $\rg{f'} \le \rg{f}$.
  \end{enumerate}
\end{proof}

\begin{remark}
  Note that unlike restrictions, a range is a \emph{property} of a restriction category. To see
  this, assume we have two ranges $\wrg{(\_)}$ and $\widetilde{(\_)}$. Then,
  \[\rg{f}=\wrg{f \tilde{f}}=\rg{f} \tilde{f}=\tilde{f} \rg{f}=\widetilde{f \rg{f}}=\tilde{f}.\]
\end{remark}
\begin{lemma}\label{lem:inverse_categories_are_range_categories}
  An inverse category \X is a range category, where $\rg{f} = \inv{f}f = \rst{\inv{f}}$.
\end{lemma}
\begin{proof}
  \prepprooflist
  \setlist[enumerate,1]{leftmargin=1.5cm}
  \begin{enumerate}
    \item[\rrone] $\restr{\rg{f}} = \rst{\rst{\inv{f}}} = \rst{\inv{f}} = \rg{f}$;
    \item[\rrtwo] $f \rg{f} = f \rst{\inv{f}} = f \inv{f} f = \rst{f} f = f$;
    \item[\rrthree] $\wrg{f\rst{g}} = \rst{\inv{(f\rst{g})}} = \rst{\inv{\rst{g}} \inv{f}} =
      \rst{\rst{g} \inv{f}} =
      \rst{g} \rst{\inv{f}} = \rst{\inv{f}} \rst{g} =\rg{f} \rst{g}$;
    \item[\rrfour]  $\wrg{\rg{f}g} = \rst{\inv{(\rst{\inv{f}} g)}} =
      \rst{\inv{g}\inv{\rst{\inv{f}}}} = \rst{\inv{g} \rst{\inv{f}}} =
      \rst{\inv{g} \inv{f}} = \rst{\inv{(f g)}} = \wrg{f g}$
  \end{enumerate}
\end{proof}
% subsection range_categories (end)

\begin{example}\label{ex:ranges}
   In \pinj, $\rg{f} = \{(y,y) | \exists x. (x,y) \in f\}$.
\end{example}
\subsection{Split restriction categories} % (fold)
\label{sub:split_restriction_categories}

The Karoubi envelope of a restriction category, $\spl{E}{\X}$ as defined in
Definition~\ref{def:split_category} is a restriction category.

Note that for $f:(A,d)\to(B,e)$, by definition, in \X we have $f=d\uts f e$, giving
\[
  d\uts f = d(d\uts f e) = d\uts d\uts f e = d\uts f e =f\
  \text{ and }\  f e = (d\uts f e)e = d\uts f e\uts e = d\uts f e = f.
\]
When \X is a restriction category, there is an immediate candidate for a restriction in
$\spl{E}{\X}$. If $f\in\spl{E}{\X}$ is $e_1 f e_2$ in $\X$, then define $\restr{f}$ as
given by $e_1 \restr{f}$ in \X. Note that for $f:(A,d)\to(B,e)$, in \X we have:
\[
  d\uts\restr{f} = \restr{d\uts f} d = \restr{f} d.
\]

\begin{proposition}\label{prop:spleisarestrictioncat}
  If \X is a restriction category and $E$ is a set of idempotents, then
  the restriction as defined above makes $\spl{E}{\X}$ a restriction category.
\end{proposition}
\begin{proof}
  The restriction takes $f:(A,e_1)\to (B,e_2)$ to an endomorphism of $(A,e_1)$. The restriction
  is in $\spl{E}{\X}$ as
  \[
    e_1 (e_1\restr{f}) e_1 = e_1 \restr{f} e_1
    = \restr{e_1 f} e_1 e_1
    = \restr{e_1 f} e_1
    = e_1 \restr{ f}.
  \]

  Checking the 4 restriction axioms:
  \begin{align*}
    &[\text{{\bfseries R.1}}]\  \llbracket\restr{f}f\rrbracket = e_1 \restr{f} f
    = e_1 f = \llbracket f\rrbracket.\\
    %
    & [\text{{\textbf{R.2}}}]\ \llbracket\restr{g}\restr{f}\rrbracket =
    e_1\restr{g}  e_1\restr{f}
    = e_1 e_1\restr{g}  \restr{f} = e_1 e_1\restr{f}  \restr{g}
    = e_1\restr{f}  e_1\restr{g}  = \llbracket\restr{f}\restr{g}\rrbracket.\\
    %
    & [\text{{\textbf{R.3}}}]\ \llbracket\restr{\restr{f} g } \equiv
    e_1 \restr{e_1 \restr{f}  g}
    =  \restr{e_1 e_1 \restr{f} g} e_1
    =  \restr{e_1 \restr{f} g} e_1
    =  e_1 \restr{\restr{f} g}
    = e_1 \restr{f}\restr{g}
    = e_{1}e_{1}\restr{f}\restr{g}
    = e_1 \restr{f}e_1\restr{g}
    = \llbracket\restr{f}\, \restr{g}\rrbracket.\\
    %
    &[\text{{\textbf{R.4}}}]\  \llbracket f \restr{g} \rrbracket =
     e_1f e_2 \restr{g}
    = \restr{e_1 f e_2 g} e_1 f e_2
    = \restr{e_1 e_1 f e_2 g} e_1 e_1 f e_2 \\
    & \qquad \qquad \qquad \qquad \qquad \qquad \qquad \qquad \qquad \quad
    = e_1 \restr{ e_1 f e_2 g} e_1 f e_2
    = e_1 \restr{f g} e_1 f e_2
    = \llbracket\restr{f g} f\rrbracket.
  \end{align*}
\end{proof}

Given this, provided all identity maps are in $E$, $\spl{E}{\X}$ is a
restriction category with $\X$ as a full sub-restriction category, via
the embedding defined by taking an object $A$ in \X to  the object $(A,1)$
in $\spl{E}{\X}$.  Furthermore, the property of being an inverse category is
preserved by splitting.

\begin{lemma}\label{lem:the_idempotent_splitting_of_an_inverse_category_is_an_inverse_category}
  When \X is an inverse category, $\spl{E}{X}$ is an inverse category.
\end{lemma}
\begin{proof}
  The inverse of $f:(A,e_1)\to(B,e_2)$   in \spl{E}{\X} is $e_2\inv{f}e_1$ as
  \[
    \llbracket f \inv{f} \rrbracket = e_1 f e_2 e_2 \inv{f} e_1
    = e_1 e_1 f e_2 \inv{f} e_1
    = e_1 f  \inv{f} e_1
    = e_1 e_1 \restr{f} e_1
    = e_1 \restr{f}
    = \llbracket\restr{f}\rrbracket
  \]
  and
  \begin{multline*}
    \llbracket \inv{f} f\rrbracket=
    e_2 \inv{f} e_1 e_1 f e_2
    = e_2 \inv{f} e_1 f e_2 e_2
    = e_2 \inv{f} f  e_2\\
    = e_2 e_2 \restr{\inv{f}}  e_2
    = e_2 \restr{\inv{f}}
    = \llbracket\restr{\inv{f}}\rrbracket.
  \end{multline*}

\end{proof}

\begin{proposition}\label{pro:in_rc_x_with_meets_split_x_is_cong_to_split_r_x}
  In a restriction category \X, with meets, let $R$ be the set of restriction idempotents.
  Then, $\spl{}{\X} \cong \spl{R}{\X}$. That is, splitting over all the idempotents is equivalent to
  splitting over just the restriction idempotents.
  Furthermore, $\spl{R}{\X}$ has meets.
\end{proposition}
\begin{proof}
  The proof first shows the equivalence of the two categories, then addresses the claim
  that $\spl{R}{\X}$ has meets.

  For equivalence, we require two functors,
  \[
    U:\spl{R}{\X}\to\spl{}{\X}\text{ and }V:\spl{}{\X}\to\spl{R}{\X},
  \]
  with:
  \begin{align}
    U V \cong I_{\spl{R}{\X}}\\
    V U \cong I_{\spl{}{\X}}.
  \end{align}


  $U$ is the standard inclusion functor. $V$ will take the object $(A,e)$ to
  $(A,e\meet 1)$ and the map $f:(A,e_1)\to (B,e_2)$ to $(e_1\meet 1)f $.

  $V$ is a functor as:
  \begin{description}
    \itembf{Well Defined:} If  $f:(A,e_1) \to (B,e_2)$, then
      $(e_1\meet 1) f $ is a map in \X from $A$ to $B$ and
      $ (e_1\meet 1)(e_1\meet 1) f  (e_2 \meet 1) =
      (e_1\meet 1) (f  e_2 \meet f ) = (e_1\meet 1) (f \meet f)= (e_1\meet 1) f$, therefore,
      $V(f):V((A,e_1)) \to V((B,e_2))$.
    \itembf{Identities:} $V(e) = (e\meet 1 ) e = e \meet 1$ by
      lemma \ref{lem:properties_of_meets_in_restriction_categories}.
    \itembf{Composition:} $V(f) V(g)
      = (e_1\meet 1 ) f (e_2 \meet 1) g
      = (e_1\meet 1 ) f e_2 (e_2 \meet 1) g
      = (e_1\meet 1 ) f  (e_2 \meet e_{2}) g
      = (e_1\meet 1 ) f e_2 g
      = (e_1\meet 1 ) f g
      = V(f g)$.
  \end{description}

  Recalling from Lemma \ref{lem:properties_of_meets_in_restriction_categories}, $(e\meet 1)$
  is a restriction idempotent. Using this fact, the commutativity of restriction idempotents
  and the general idempotent identities from
  \ref{lem:properties_of_meets_in_restriction_categories}, the composite functor $U V$ is
  the identity on $\spl{r}{\X}$ as when $e$ is a restriction idempotent,
  $e = e (e\meet 1) = (e\meet 1) e = (e\meet 1)$.

  For the other direction,  note that for a particular idempotent $e:A\to A$,  this gives the
  maps $e:(A,e)\to(A,e\meet 1)$ and $e\meet 1 : (A,e\meet 1) \to (A,e)$, again by
  \ref{lem:properties_of_meets_in_restriction_categories}. These maps give the natural
  isomorphism between $I$ and $V U$ as
  \[
    \xymatrix{
      (A,e)\ar[r]^e \ar[dr]_{e} &(A,e\meet 1)\ar[d]^{e\meet 1}\\
      &(A,e)
    }\qquad \text{ and  }\qquad
    \xymatrix{
      (A,e\meet 1)\ar[r]^{e\meet 1} \ar[dr]_{e\meet 1} &(A,e)\ar[d]^{e}\\
      &(A,e\meet 1)
    }
  \]
  both commute. Therefore, $U V = I$ and $V U \cong I$, giving an equivalence of the categories.

  For the rest of this proof, functions in bold type, e.g., $\mbf$, are in $\spl{R}{\X}$.
  Functions in normal slanted type, e.g., $f$ are in \X.

  To show that $\spl{R}{\X}$ has meets,  designate the meet in $\spl{R}{\X}$ as \meetspl
  and define $\mbf \meetspl \mbg$ as the map given by the \X map $f \meet g$, where
  $\mbf,\mbg:(A,d)\to(B,e)$ in $\spl{R}{\X}$ and $f,g:A\to B$ in \X . This is
  a map in $\spl{R}{\X}$ as
  $d(f \meet g)e = (d\uts f \meet d\uts g) e = (f \meet g) e = (f e \meet g) = f\meet g$
  where the penultimate equality is by
  \ref{lem:properties_of_meets_in_restriction_categories}.
  By definition $\restr{\mbf \meetspl \mbg }$ is $d\restr{f\meet g}$.

  It is necessary to show \meetspl satisfies the four meet properties.
  \begin{itemize}
    \item{$\mbf\meetspl \mbg \le \mbf$: } We need to show
      $\rst{\mbf \meetspl \mbg} \mbf =  \mbf \meetspl \mbg$.  Calculating now in \X:
      \begin{align*}
        d \rst{f \meet g} f&= \rst{d(f\meet g)} d f\\
        & = \rst{d f \meet d g} d f \\
        & = \rst{f \meet g} f \\
        & = f \meet g
      \end{align*}
      which is the definition of $\mbf \meetspl \mbg$.
    \item{$\mbf\meetspl \mbg \le \mbg$: } Similarly and once again calculating in \X,
      \begin{align*}
        d \rst{f \meet g} g&= \rst{d(f\meet g)} d g\\
        & = \rst{d f \meet d g} d g \\
        & = \rst{f \meet g} g \\
        & = f \meet g
      \end{align*}
      which is the definition of $\mbf \meetspl \mbg$.
    \item{$\mbf\meetspl \mbf = \mbf$: } From the definition, this is $f \meet f = f$ which
      is just $ \mbf$.
    \item{$\mbh(\mbf\meetspl \mbg) = \mbh\mbf \meetspl \mbh\mbg$: }
      From the definition, this is given in \X by $ h (f \meet g) =
      h f \meet h g$ which in $\spl{R}{\X}$ is $\mbh\mbf \meetspl \mbh\mbg$.
  \end{itemize}
\end{proof}
% subsection split_restriction_categories (end)



\subsection{Partial Map Categories} % (fold)
\label{sub:partial_map_categories}

In \cite{cockett2002:restcategories1}, it is shown that split restriction categories are
equivalent to \emph{partial map categories}. The main definitions and results related to
partial map categories are given below.

\begin{definition}
  A collection $\Mstab$ of monics is \emph{a stable system of monics}
  when:
  \begin{enumerate}[{(}i{)}]
    \item it includes all isomorphisms;
    \item it is closed under composition;
    \item it is pullback stable.
  \end{enumerate}
\end{definition}

\emph{Stable} in this definition means that if $m:A\to B$ is in \Mstab, then for arbitrary
$b$ with codomain $B$, the pullback
\[
  \xymatrix{
    A'\ar[r]^a \ar[d]_{m'} &A\ar[d]^{m}\\
    B' \ar[r]_{b} & B
  }
\]
exists and $m' \in \Mstab$. A category that has a stable system of monics
is referred to as an \Mstab-category.

\begin{lemma}
  If $n m \in \Mstab$, a stable system of monics, and $m$ is monic, then $n \in \Mstab$.
\end{lemma}
\begin{proof}
  The commutative square
  \[
    \xymatrix{
      A\ar[d]_n \ar[r]^{1} &A\ar[d]^{n m}\\
      A' \ar[r]_{m} & B
    }
  \]
  is a pullback.
\end{proof}

Given a category \B and a stable system of monics, the \emph{partial map category},
$\text{Par}(\B,\Mstab)$ is:
  \rcategoryequiv{$A\in\B$}
    {$(m,f):A\to B$  with $m:A' \to A$ is in \Mstab and $f:A' \to B$ is a map in \B. i.e.,
      $\xymatrix @R-15pt @C-15pt{&A'\ar[dl]_{m} \ar[dr]^{f}\\A&&B}$.}
    {$1_A,1_A:A \to A$}
    {via a pullback, $(m,f)(m',g) = (m'' m, f' g)$ where
      \[
        \xymatrix @C-15pt @R-15pt{
          &&A''\ar[dl]_{m''}\ar[dr]^{f'}\\
          &A'\ar[dl]_{m}\ar[dr]_{f}&\text{{\tiny (pb)}}&B'\ar[dl]^{m'}\ar[dr]^{g}\\
          A&&B&&C
        }
      \]
    }
    {$\restr{(m,f)} = (m,m)$}

For the maps, $(m,f) \sim (m',f')$ when there is an isomorphism $\gamma : A'' \to A'$
such that $\gamma m' = m$ and $\gamma f' = f$.

In \cite{cockettlack2003:restcategories2}, it is shown that:
\begin{theorem}[Cockett-Lack]
  Every restriction category is a full sub-category of a partial map category.
\end{theorem}
% subsection partial_map_categories (end)
\subsection{Restriction products and Cartesian restriction categories} % (fold)
\label{sub:restriction_products_and_cartesian_restriction_categories}


Restriction categories have analogues of products and terminal objects.

\begin{definition}\label{def:restriction_product}
  In a restriction category \X, a \emph{restriction product}  of two objects $X, Y$ is an
  object $X\times Y$ equipped with \emph{total} projections
  $\pi_0:X\times Y\to X, \pi_1:X\times Y\to Y $ where:
  \begin{quote}
    $\forall f:Z\to X, g: Z\to Y, \quad \exists$ a unique $\<f,g\>:Z \to X\times Y$ such that
    \begin{itemize}
      \item $\<f,g\> \pi_0 \le f$,
      \item $\<f,g\> \pi_1 \le g$ and
      \item $\restr{\<f,g\>} = \restr{f}\, \restr{g} ( = \restr{g}\, \restr{f})$.
    \end{itemize}
  \end{quote}
\end{definition}

\begin{definition}\label{def:restriction_terminal_object}
  In a restriction category \X\, a \emph{restriction terminal object}
  is an object $\top$ such that for all objects $X$, there is a
  unique total map $!_X : X \to \top$ and the diagram
  \[
    \xymatrix @C=40pt @R=25pt{
      X \ar[r]^{\restr{f}} \ar[d]^{f} & X \ar[r]^{!_X}  &\top  \\
      Y \ar[urr]_{!_Y}
    }
  \]
  commutes. That is,  $f\, !_Y = \restr{f}\, !_X$. Note this implies
  that a restriction terminal object is unique up to a unique isomorphism.
\end{definition}

\begin{definition}\label{def:cartesian_restriction_category}
  A restriction category \X\ is \emph{Cartesian} if it has all restriction products
  and a restriction terminal object.
\end{definition}

\subsection{Discrete Cartesian Restriction Categories}\label{sub:discrete_restriction_categories}

\begin{definition}\label{def:discrete_object_and_discrete_cartesian}
  An object $A$ in a Cartesian restriction category is \emph{discrete}
  when the diagonal map
  \[
    \Delta:A \to A \times A
  \]
  is a partial isomorphism.
  A  Cartesian restriction category where all objects are
  discrete is called a \emph{discrete} Cartesian restriction category.
\end{definition}

\begin{theorem}\label{thm:a_crc_is_discrete_iff_it_has_meets}
  A Cartesian restriction category \X is discrete if and only if it has meets.
\end{theorem}
\begin{proof}
  If \X has meets, then
  \[
    \Delta(\pi_0 \meet \pi_1) = \Delta\pi_0 \meet \Delta\pi_1 = 1\meet 1 = 1.
  \]
  As $\<\pi_0,\pi_1\>$ is identity,
  \begin{align*}
    \restr{\pi_0 \meet \pi_1} &= \restr{\pi_0 \meet \pi_1} \<\pi_0, \pi_1\> \\
    &=\<\rst{\pi_0 \meet \pi_1}\pi_0, \rst{\pi_0 \meet \pi_1}\pi_1\>\\
    &=\<\pi_0 \meet \pi_1,\pi_0 \meet \pi_1\>\\
    &=(\pi_0 \meet \pi_1 )\Delta
  \end{align*}
  and therefore, $\pi_0 \meet \pi_1$ is $\inv{\Delta}$.

  To show the other direction, we set $f\meet g = \<f,g\>\inv{\Delta}$.
  By the definition of the restriction product:
  \[
    f \meet g =  \<f,g\>\inv{\Delta} =\<f,g\>\inv{\Delta} \Delta \pi_0 =
      \<f,g\>\restr{\inv{\Delta}}\pi_0 \le \<f,g\>\pi_0 \le f.
  \]
  Then, substituting $\pi_1$ for $\pi_0$ above, this gives us $f \meet g \le g$.

  For the left distributive law,
  \[
    h(f \meet g) = h \<f,g\>\inv{\Delta} =  \<h f,h g\>\inv{\Delta} = h f \meet h g.
  \]
  The intersection of a map with itself is
  \[
    f\meet f = \<f,f\> \inv{\Delta} = (f \Delta) \inv{\Delta} = f \restr{\Delta} = f
  \]
  as $\Delta$ is total. This shows that $\meet$ as defined above is a meet for the
  Cartesian restriction category \X.

\end{proof}

\begin{definition}\label{def:graphic_map}
  In a Cartesian restriction category, a map $A\xrightarrow{f}B$ is called \emph{graphic} when the
  maps
  \[
    A\xrightarrow{\<f,1\>}B\times A\qquad \text{and}\qquad
    A\xrightarrow{\<\rst{f},1\>}A\times A
  \]
  have partial inverses. A Cartesian restriction category is \emph{graphic} when all of its maps
  are graphic.
\end{definition}

\begin{lemma}\label{lem:graphic_maps_are_closed_in_a_cartesian_restriction_category}
  In a Cartesian restriction category:
  \begin{enumerate}[{(}i{)}]
    \item Graphic maps are closed under composition;
    \item Graphic maps are closed under the restriction;
    \item An object is discrete if and only if its identity map is graphic.
  \end{enumerate}
\end{lemma}
\begin{proof}
  \prepprooflist
  \begin{enumerate}[{(}i{)}]
    \item To show closure, it is necessary to show that $\<f g,1\>$ has a partial inverse.
      By Lemma \ref{lem:rcs_partial_monic_section_inverse_properties}, the uniqueness of the
      partial inverse gives
      \[
        \inv{(\<f,1\> ; \<g,1\>\times 1)} = \inv{\<g,1\>} \times 1 ; \inv{\<f,1\>} .
      \]
      By the definition of the restriction product, we have $\rst{\<f g,1\>} = \rst{f g}$. Additionally,
      a straightforward calculation shows that
        $\rst{\<f,1\>;\<g,1\> \times 1} =
          \rst{\<f\<g,1\>, 1\>} = \rst{f ;\< g,1\>}
          = \rst{\<f;g, f\>} = \rst{f g}\,\rst{f} = \rst{f g}
        $
      where the last equality is by \rtwo, \rthree and finally \rone.

    Consider the diagram
    \[
      \xymatrix @C+35pt @R+20pt{
        A \ar[r]^{\<f,1\>} \ar[drr]_{\<f g,1\>} &
           B \times A  \ar[r]^{\<g,1\> \times 1}
           &  C \times B \times A \\
        &&C \times A. \ar[u]_{1 \times \<f,1\>}
      }
    \]

    Thus,
    \begin{align*}
      \<f g,1\>  (1\times \<f,1\>) &( \inv{\<g,1\>}\times 1) \inv{\<f,1\>}\\
      &=\<f,1\>(\<g,1\>\times 1 ) (\inv{\<g,1\>}\times 1) \inv{\<f,1\>}\\
      &=\<f,1\> (\rst{g\times 1}) \inv{\<f,1\>}\\
      &=\rst{\<f,1\> (g\times 1)}  \<f,1\> \inv{\<f,1\>}\\
      &=\rst{\<f,1\> (g\times 1)}\,  \rst{\<f,1\>}\\
      &= \rst{\<f,1\>}\, \rst{\<f,1\>(g\times 1)}\\
      &= \rst{\<f,1\> (g\times 1)}\\
      &= \rst{\<f g,1\>}(=\restr{f g})\\
    \end{align*}
    showing that $1\times \<f,1\>  (\inv{\<g,1\>}\times 1 ) \inv{\<f,1\>}$ is
    a right inverse for $\<f g,1\>$.

    For the other direction, note that in general $\inv{(h k)} = \inv{k}\inv{h}$ and that
    we have $\<f g,1\> = \<f,1\> (\<g,1\>\times 1)  (1 \times \inv{\<f,1\>})$, thus
    $(1\times \<f,1\>)  (\inv{\<g,1\>}\times 1) \inv{\<f,1\>}$ will also be a left inverse and
    $\<f g,1\>$ is a restriction isomorphism.

    \item This follows from the definition of graphic and that
       $\rst{\<f,1\>} = \rst{f} = \restr{\rst{f}}$.

    \item Given a discrete object $A$, the identity on $A$ is graphic as $\<1,1\> = \Delta$
      and therefore $\inv{\<1,1\>} = \inv{\Delta}$. Conversely, if $\<1,1\> = \Delta$ has an
      inverse, $A$ is discrete by definition.
  \end{enumerate}
\end{proof}

\begin{lemma}\label{lem:a_discrete_crc_is_precisely_a_graphic_crc}
  A discrete restriction category is precisely a graphic Cartesian restriction category.
\end{lemma}
\begin{proof}
  The requirement is that $\<f,1\>$ (and $\<\rst{f},1\>$) each have partial inverses. For
  $\<f,1\>$, the inverse is $\rst{(1 \times f)\inv{\Delta}} \pi_1$.

  To show this, calculate  the two compositions. First,
  \[
    \<f,1\> \rst{1 \times f \inv{\Delta}} \pi_1 =
      \rst{\<f,f\> \inv{\Delta}}\<f,1\>\pi_1 % use R.4
    = \rst{f \Delta \inv{\Delta}}\<f,1\>\pi_1 % product
    = \rst{f}\<f,1\>\pi_1 % Delta total
    = \rst{f}.% product
  \]
  The other direction is:
  \begin{align*}
    \rst{(1 \times f)\inv{\Delta}} \pi_1 \<f,1\>
      &= \< \rst{(1 \times f)\inv{\Delta}} \pi_1 f ,
      \rst{(1 \times f)\inv{\Delta}}\pi_1 \>\\ %product definition
    &= \< \rst{(1 \times f)\inv{\Delta}} (1 \times f) \pi_1,
      \rst{(1 \times f)\inv{\Delta}}\pi_1 \>\\ %pi total, natural
    &= \< (1 \times f )\rst{\inv{\Delta}} \pi_1 ,
      \rst{(1 \times f)\inv{\Delta}}\pi_1 \>\\ %R.4
    &= \< (1 \times f) \rst{\inv{\Delta}} \pi_0 ,
      \rst{(1 \times f)\inv{\Delta}}\pi_1 \>\\ %below
    &= \< \rst{(1 \times f)\inv{\Delta}} (1 \times f) \pi_0,
      \rst{(1 \times f)\inv{\Delta}}\pi_1 \>\\ %R.4
  %  &= \< \rst{(1 \times f)\inv{\Delta}}\,
  %     \rst{(1 \times f)} \pi_0, \rst{(1 \times f)\inv{\Delta}}\pi_1 \>\\
    &= \< \rst{(1 \times f)\inv{\Delta}} \pi_0,
      \rst{(1 \times f)\inv{\Delta}}\pi_1 \>\\ %(a x b);pi0 = a
    &= \rst{(1 \times f)\inv{\Delta}} \< \pi_0, \pi_1 \>\\ % products
    &= \rst{(1 \times f)\inv{\Delta}}
  \end{align*}
  The above follows in a discrete restriction category, as we have
  \begin{equation*}
    \rst{\inv{\Delta}} \pi_1 = \inv{\Delta} \Delta \pi_1 = \inv{\Delta} = \inv{\Delta} \Delta \pi_0 = \rst{\inv{\Delta}} \pi_0.
  \end{equation*}

  For $\<\rst{f},1\>$, the inverse is $\rst{(1 \times \rst{f})\inv{\Delta}} \pi_1$. Similarly
  to above,
  \[
    \<\rst{f},1\> \rst{1 \times \rst{f} \inv{\Delta}} \pi_1 =
      \rst{\<\rst{f},\rst{f}\> \inv{\Delta}}\<\rst{f},1\>\pi_1 % use R.4
    = \rst{\rst{f} \Delta \inv{\Delta}}\<\rst{f},1\>\pi_1 % product
    = \rst{\rst{f}}\<\rst{f},1\>\pi_1 % Delta total
    = \rst{f}.% product
  \]
  The other direction follows the same pattern as for $\<f,1\>.$
\end{proof}
% subsection graphic_categories (end)

% section restriction_categories (end)
\input{chapters/section/dagger-categories}
%\input{chapters/section/quantum-semantics}
\input{chapters/section/frobenius-algebras}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../phd-thesis"
%%% End:
