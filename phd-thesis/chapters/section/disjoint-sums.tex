%!TEX root = /Users/gilesb/UofC/thesis/phd-thesis/phd-thesis.tex
\section{Disjoint sums} % (fold)
\label{sub:disjoint_sums}

As noted at the beginning of this chapter, we now take the reverse direction and determine what
conditions will allow us to define a disjoint sum tensor in an inverse category which already has a
disjoint join. As we shall see, it is sufficient to have ``enough'' \emph{disjoint sum} objects, as
defined below.

First, we show that the disjoint sum tensor is universal with respect to the disjoint join.

\begin{lemma}\label{lem:disjoint_sum_tensor_preserves_the_disjoint_join}
  Given an inverse category \X with a disjoint sum tensor $\+$, then $\+$ preserves the disjoint
  join. That is,
  \begin{align}
    f \cdperp g, \ h \cdperp k&\text{ implies } f\+ h \cdperp g \+ k
    \label{eq:disjoint_sum_preserve_perp}\\
    f \cdperp g, \ h \cdperp k &\text{ implies } (f\djoin g)\+(h\djoin k) = (f \+h )\djoin (g\+k).
    \label{eq:disjoint_sum_preserve_join}
  \end{align}
\end{lemma}
\begin{proof}
  For Condition~\ref{eq:disjoint_sum_preserve_perp}, suppose we have $f \tperp g$ and $\ h \tperp k$.
  From Lemma~\ref{lem:properties_of_tjdown_and_tjup}\ref{lemitem:l_r_preserve_tensor}, we
  know both $(f\+h)\tjdown(g\+k)$ and $(f\+h)\tjup(g\+k)$ exist, hence $(f\+h)\tperp(g\+k)$.

  For Condition~\ref{eq:disjoint_sum_preserve_join}, we compute from the right hand side:
  \begin{align*}
    (f\+h)\tjoin(g\+k) &= (f\+h)\tjdown (g\+k) \wrg{(f\+h)}\tjup \wrg{(g\+k)}\\
    &= \left( (f\tjdown g)\+ (h \tjdown k) \right)
       \left( (\rg{f}\+\rg{h}) \tjup (\rg{g}\+\rg{k}) \right) \\
    &= \left( (f\tjdown g)\+ (h \tjdown k) \right)
       \left( (\rg{f}\tjup \rg{g}) \+ (\rg{h}\tjup\rg{k}) \right) \\
    &= \left( (f\tjdown g)(\rg{f}\tjup \rg{g})\right) \+
       \left((h \tjdown k) (\rg{h}\tjup\rg{k}) \right) \\
    &=  (f\tjoin g)\+(h \tjoin k).
  \end{align*}
  The second and third lines above again use
  Lemma~\ref{lem:properties_of_tjdown_and_tjup}\ref{lemitem:l_r_preserve_tensor}.

\end{proof}

Now, we define an abstract ``disjoint sum'', which will be our candidate for creating a disjoint sum
tensor.
\begin{definition}\label{def:disjoint_sum}
  In an inverse category with disjoint joins, an object $X$ is the \emph{disjoint sum} of $A$ and
  $B$ when there exist maps $i_1,\ i_2,\ \xa,\ \xb$ such that:
  \begin{enumerate}[{(}i{)}]
    \item $i_1$ and $i_2$ are monic;
    \item $i_1 : A \to X$, $i_2: B \to X$, $\xa: X \to A$ and $\xb: X \to B$.
    \item $\inv{i_1} = \xa$ and $\inv{i_2} = \xb$.
    \item $\inv{i_1}i_1 \perp \inv{i_2}i_2$ and $\inv{i_1}i_1 \djoin \inv{i_2}i_2 = 1_X$.
  \end{enumerate}
  $i_1$ and $i_2$ will be referred to as the \emph{injection} maps of the disjoint sum.
\end{definition}

\begin{lemma}\label{lem:disjoint_sum_is_unique}
  The disjoint sum $X$ of $A$ and $B$ is unique up to isomorphism.
\end{lemma}
\begin{proof}
  Assume we have two disjoint sums over $A$ and $B$:
  \[
    \xymatrix{
      A\ar[r]^{i_1} &X\ar@/^9pt/[l]^{x_1} \ar@/_9pt/[r]_{x_2} & B \ar[l]_{i_2}
    }
    \qquad  \text{ and  }\qquad
    \xymatrix{
      A\ar[r]^{\jay_1} &Y\ar@/^9pt/[l]^{y_1} \ar@/_9pt/[r]_{y_2} & B \ar[l]_{\jay_2}
    }.
  \]
  We will show that the map $x_1 \jay_1 \djoin x_2 \jay_2 : X \to Y$ is an isomorphism.

  Note by the fact that $i_2$ is monic, we may conclude from the definition that
  $0 = \rst{x_1 i_1 x_2}$ and therefore $0 = x_1 i_1 x_2$. Then, given that $x_1$ is the inverse
  of the monic $i_1$, we may calculate
  $0 = \rg{0} = \wrg{x_2 i_1 x_2} = \rst{\inv{x_2}\, \inv{i_1}\, i_1} =
  \rst{\inv{x_2}\, \inv{i_1}} = \wrg{i_1 x_2}$. From this we see $i_1 x_2 = 0$. Similarly, we have
  $i_2 x_2 = 0$, $j_1 y_2 =0$ and $j_2 y_1 = 0$.

  Next, by Lemma~\ref{lem:disjointness_various}, we know that $\rst{\xa}\cdperp\rst{\xb}$ as both
  $i_1$ and $i_2$ are monic. By the same lemma, $\rg{\jay_1} \cdperp \rg{\jay_2}$ as $y_1, y_2$
  are the inverses of monic maps.  Then, from \axiom{Dis}{7}, we have
  $x_2 \jay_1 \cdperp x_2 \jay_2$, hence we may form $x_2 \jay_1 \djoin x_2 \jay_2 : X \to Y$.

  Similarly, we may form the map $y_1 i_1 \djoin y_2 i_2 : Y \to X$. Computing their composition:
  \begin{align*}
    (x_2 \jay_1 \djoin x_2 \jay_2)(y_1 i_1 \djoin y_2 i_2)
      &= (x_2 \jay_1 (y_1 i_1 \djoin y_2 i_2))\djoin (x_2 \jay_2(y_1 i_1 \djoin y_2 i_2))\\
      &= x_2 \jay_1 y_1 i_1 \djoin x_2 \jay_1 y_2 i_2 \djoin x_2 \jay_2 y_1 i_1 \djoin x_2
        \jay_2 y_2 i_2 \\
      &= x_2\, 1\, i_1 \djoin x_2\, 0\, i_2 \djoin x_2\, 0\, i_1 \djoin x_2\, 1\, i_2\\
      &= x_2 i_1 \djoin x_2 i_2 = 1.
  \end{align*}
  Computing the other direction,
  \begin{align*}
    (y_1 i_1 \djoin y_2 i_2)(x_2 \jay_1 \djoin x_2 \jay_2)
      &= (y_1 i_1 (x_2 \jay_1 \djoin x_2 \jay_2) )\djoin (y_2 i_2(x_2 \jay_1 \djoin x_2 \jay_2))\\
      &= y_1 i_1 x_2 \jay_1 \djoin y_1 i_1 x_2 \jay_2 \djoin y_2 i_2 x_2 \jay_1
        \djoin y_2 i_2 x_2 \jay_2\\
      &= y_1\, 1\, \jay_1 \djoin y_1\, 0\, \jay_2 \djoin y_2\, 0\, \jay_1 \djoin y_2\, 1\, \jay_2\\
      &= y_1 \jay_1 \djoin y_2 \jay_2 = 1.\\
  \end{align*}
  This shows that the map between any two disjoint sums over the same two objects is an isomorphism.
\end{proof}

% TODO: Is this needed??? Where? Why?
%\begin{lemma}\label{lem:all_maps_to_disjoint_sum_are_disjoint}
%  Suppose $X$ is the disjoint sum of $A$ and $B$ in the inverse category \X. Then for all maps
%  $f:C \to A$ and $g: C \to B$, the composition with the injections is disjoint, that is,
%  $f i_1 \perp g i_2$. (This is not right - need further thought...)
%\end{lemma}
%\begin{proof}
%  First note $f i_1 = f i_1 \wrg{i_1} = f i_1 \inv{i_1} i_1$ and similarly, $g i_2 = g i_2
%  \inv{i_2} i_2$.
%\end{proof}

\begin{proposition}\label{prop:a_disjoint_sum_tensor_gives_disjoint_sums}
  A disjoint sum tensor in an inverse category \X gives disjoint sums, i.e., for each pair of
  objects $A,B$, $A\+B$ is a disjoint sum.
\end{proposition}
\begin{proof}
  We claim that setting $i_i = \cp{i}$ and $x_i = \icp{i}$ and setting $X = A\+B$ produces a disjoint
  sum in \X. We show this satisfies the four conditions of Definition~\ref{def:disjoint_sum}.
  \begin{enumerate}[{(}i{)}]
    \item From Lemma~\ref{lem:tensor_identities}, we know that $\cpa$ and $\cpb$ are monic maps.
    \item $\cpa : A \to A\+B$, $\cpb: B \to A\+B$, $\icpa: A\+B \to A$ and $\icpb: A\+B \to B$.
    \item $\inv{\cpa} = \icpa$ and $\inv{\cpb} = \icpb$.
    \item $\inv{i_1}i_1 = 1\+ 0 \tperp 0\+1 = \inv{i_2}i_2$ as
      $1\+0 \tjdown 0\+1 = (\inv{\upr}\+\inv{\upl})$ and
      $1\+0 \tjup 0\+1 = (\icpa\+\icpb)$. For their join,
      $(1\+0)\tjoin (0\+1) = (\inv{\upr}\+\inv{\upl})(\icpa\+\icpb) =
      \inv{\upr}\icpa \+ \inv{\upl}\icpb = 1\+1 = 1$.
  \end{enumerate}
\end{proof}

Now, we show the other direction, that is, when there are ``enough'' disjoint sums in a category, we
may construct a disjoint sum tensor. In anticipation of the result, henceforth we will write $A\*B$
for the disjoint sum of $A$ and $B$.

We begin by showing that we may construct maps between the disjoint sums:
\begin{lemma}\label{lem:disjoint_sum_maps_are_perp}
  Given \X an inverse category with all disjoint sums and suppose $f:A \to C$ and $g:B\to D$ in
  \X. Then  $\inv{i_1} f i_1 \cdperp \inv{i_2} g i_2 : A\*B\to C\*D$ and therefore
  $\inv{i_1} f i_1 \djoin \inv{i_2} g i_2 : A\*B\to C\*D$.
\end{lemma}
\begin{proof}
  Note that $\rst{\inv{i_1} f i_1} = \rst{\inv{i_1} f} \le \rst{\inv{i_1}}$ and similarly
  $\rst{\inv{i_2} g i_2} \le \rst{\inv{i_2}}$. Then, by \axiom{Dis}{3}, we have
  $\rst{\inv{i_1} f i_1} \cdperp \rst{\inv{i_2} g i_2}$.
  As $\wrg{\inv{i_1} f i_1} \le \wrg{i_1}$ and  $\wrg{\inv{i_2} g i_2} \le \wrg{i_2}$, we
  have $\wrg{\inv{i_1} f i_1} \cdperp \wrg{\inv{i_2} g i_2}$ and by
  Lemma~\ref{lem:disjointness_various}, this means  $\inv{i_1} f i_1\cdperp \inv{i_2} g i_2$.
\end{proof}

Note that the argument in the above lemma is one we will make frequent use of in the
following. Specifically, that $\rst{\inv{i_1} g} \cdperp \rst{\inv{i_2} h}$ for arbitrary $g,h$ and
that $\wrg{h i_1} \cdperp \wrg{k i_2}$.

\begin{proposition}\label{prop:enough_disjoint_sums_make_a_disjoint_sum_tensor}
  Given \X is an inverse category where every pair of objects has a disjoint sum, then the tensor
  $\+$ where $A\+B$ is a disjoint sum of $A,B$ is a disjoint sum tensor.
\end{proposition}
\begin{proof}
  We must first show, of course, that $\+$ is a symmetric monoidal tensor. We first note that $f\+g$ is
  given by   $\inv{i_1} f i_1 \djoin \inv{i_2} g i_2$ as shown in
  Lemma~\ref{lem:disjoint_sum_maps_are_perp}. By the definition of the disjoint sum, identity maps
  are taken to identity maps and by the stability and universality of the disjoint join, composition
  is preserved and therefore $\*$ is a bi-functor as required.

  We must now show the restriction zero is the unit of $\+$ and give the structural maps.

  If we consider the disjoint sum $A\+0$, we see that $i_2 = 0$, the zero map. This gives us
  $1_{A\+\zeroob}  = \inv{i_1}i_1 \djoin \inv{i_2}i_2 = \inv{i_1}i_1 \djoin 0 = \inv{i_1}i_1 =
    \rst{\inv{i_1}}$, meaning $\inv{i_1}$ is total. Thus, $\inv{i_1}$ is an isomorphism and is
  $\upr$. Similarly, $\inv{i_2} = \upl:\zeroob\+A \to A$ is an isomorphism.

  For the symmetry map, we see that $c_\+ = \inv{i_1}i_2 \djoin \inv{i_2}i_1: A\+B \to B\+A$ is a symmetry
  map and that
  \begin{align*}
    (\inv{i_1}i_2 \djoin \inv{i_2}i_1)&(\inv{i_1}i_2 \djoin \inv{i_2}i_1)\\
    &=\inv{i_1}i_2(\inv{i_1}i_2
    \djoin \inv{i_2}i_1) \djoin \inv{i_2}i_1(\inv{i_1}i_2 \djoin \inv{i_2}i_1)\\
    &=\inv{i_1}i_2\inv{i_1}i_2 \djoin \inv{i_1}i_2\inv{i_2}i_1 \djoin \inv{i_2}i_1\inv{i_1}i_2
    \djoin \inv{i_2}i_1\inv{i_2}i_1\\
    & = 0 \djoin 1 \djoin 1 \djoin 0 \\
    & = 1.
  \end{align*}
  Thus, we have $c_\+c_\+ =1$.

  For associativity, we set $a_\+ = \inv{i_1}i_1i_1 \djoin \inv{i_2}\inv{i_1}i_2i_1 \djoin \inv{i_2}
  \inv{i_2} i_2:A\+(B\+C) \to (A\+B)\+C$.
  To visualize this, we have
  \[
    \xymatrix@C+5pt{
      B\+C \ar[r]^{\inv{i_1}} \ar[dr]_{\inv{i_2}}
        & B \ar[r]^{i_2}
        & A\+B \ar[dd]^{i_1}\\
      & C \ar[dr]^{i_2} & \\
      A\+(B\+C)\ar[uu]^{\inv{i_2}} \ar[d]_{\inv{i_1}} \ar@{.>}[rr]^{a_{\+}} && (A\+B)\+C \\
      A \ar[rr]_{i_1} & & A\+B \ar[u]_{i_1}
    }
  \]
  The inverse of the $a_\+$ is obtained by taking the inverses of the arrows in the above diagram,
  yielding $\inv{i_1}\inv{i_1}i_1 \djoin \inv{i_1}\inv{i_2}i_1i_1 \djoin \inv{i_2}i_2 i_2$.

  Thus, $\+$ is a symmetric monoidal tensor on $\X$.

  To show it is a disjoint sum tensor, we first note that we immediately have that it is a
  disjointness tensor as:
    \begin{enumerate}[{(}i{)}]
      \item We have shown above it is a restriction functor.
      \item We have shown above that the unit is the restriction zero.
      \item From the above, we see $\cpa = i_1$ and $\cpb = i_2$. Assume we have $\cpa f = \cpa g$
        and $\cpb f = \cpb g$. As $\icpa \cpa \djoin \icpb \cpb = 1$, we have
        \begin{multline*}
           f = (\icpa \cpa \djoin \icpb \cpb) f = \icpa \cpa f \djoin \icpb \cpb f = \\
           \icpa \cpa g \djoin \icpb \cpb g =  (\icpa \cpa \djoin \icpb \cpb) g = g
        \end{multline*}
        and therefore $\cpa$ and $\cpb$ are jointly monic.\label{pfitem:3}
      \item $icpa$ and $\icpb$ are jointly epic by a similar argument as \ref{pfitem:3}.
    \end{enumerate}

  Note that we may also immediately conclude that the original disjointness relation on \X is the
  same as the one generated by $\+$. This is because $f \tjdown g$ will be equal to $f\cpa \djoin
  g\cpb$ and $f \tjup g$ will be equal to $\icpa f \djoin \icpb g$, therefore, $f\tjdown g$ and $f
  \tjup g$ will exist if and only if $f\perp g$.

  To show it is a disjoint sum tensor, we must show the existence of the maps $\alpha$ and $\beta$
  from Definition~\ref{def:disjoint_sum_tensor}.

  For Diagram~\ref{dia:tensor_complete_left}, assuming we have $f\icpb \tjdown g\icpb$ exists,
  then $\alpha = (f\icpa)\cpa \djoin ((f\icpb \tjdown g \icpb)\cpb)$ satisfies the diagram. If
  $\alpha$ does exist, then $\alpha \icpb$ satisfies the diagram for $f\icpb \tjdown g\icpb$. The
  argument for satisfying Diagram~\ref{dia:tensor_complete_right} is analogous.

  Therefore, $\+$ is a disjoint sum tensor.
\end{proof}



%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../../phd-thesis"
%%% End:
