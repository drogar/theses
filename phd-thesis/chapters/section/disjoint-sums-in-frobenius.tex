\section{Disjoint sums in Frobenius algebras}
\label{sec:disjoint-sums-in-frobenius-algebras}

In the previous sections, we have shown that CFrob(\X) is a discrete inverse category, with a
disjointness relation whenever \X is a symmetric monoidal category with zero maps.

We now show that if \X is an additive tensor category, i.e., a symmetric monoidal category where the
hom-sets are enriched in additive monoids, then CFrob(\X) will have a disjoint join and moreover, a
disjoint sum. First, we explicitly define additive tensor category:

\begin{definition}\label{def:additive-tensor-category}
  Suppose \X is a symmetric monoidal category with zero maps and the hom-sets are enriched in
  additive monoids. It is an \emph{additive tensor category}  when:
  \begin{itemize}
    \item $h(f+g)k = h f k + h g k$ for all $h:A\to B$, $f,g:B\to C$ and $k:C \to  D$;
    \item $(f+g)\*k = f\*k + g\* k$ for all $f,g:A\to B$ and  $k:C\to D$.
  \end{itemize}
\end{definition}

We begin by showing that given an additive tensor category, we may form an equivalent category which has
biproducts.

\begin{lemma}\label{lem:axb_is_a_biproduct}
  Suppose $\X$ is an additive symmetric monoidal category. If we have the diagram
  \[
      \xymatrix{
      A\ar[r]^{\sigma_1} &X\ar@/^9pt/[l]^{\pi_1} \ar@/_9pt/[r]_{\pi_2} & B \ar[l]_{\sigma_2}
    }
  \]
  with
  \[
    \sigma_1\pi_1 = 1_A,\quad\sigma_2\pi_2 = 1_B,\qquad \sigma_1\pi_2 = 0 = \sigma_2\pi_2
  \]
  and $\pi_1\sigma_1 + \pi_2\sigma_2 = 1$, then $X$ is a biproduct of $A$ and $B$.
\end{lemma}

\begin{corollary}\label{cor:functor_preserves_biproducts}
  If $F:\X\to\Y$ is an additively enriched functor, then $F$ preserves all biproducts.
\end{corollary}

\begin{corollary}\label{cor:tensor_preserves_biproducts}
  The functor $A\*\_:\X \to \X$ preserves biproducts.
\end{corollary}

Thus, if $\X$ is additively enriched, we may add biproducts by moving to the matrix category of
$\X$, defined as:
\category{Lists of the objects $[A_i]$ of $\X$}{Matrices of maps in $\X$, $[f_{i,
    j}]:[A_i]\to[B_j]$}{The diagonal matrix $I$ ($f_{i,i} = 1_{A_i}$ and $f_{i,j} = 0, i \ne
  j$)}{Matrix multiplication}

Now, let us consider CFrob(\X) where \X is an additive tensor category with
biproducts. We know from Lemma~\ref{lem:cfrobperp_is_a_disjointness_relation} that
\[
\raisebox{40pt}{$f\perp g \iff$}\
\begin{tikzpicture}
\path node at (0,0) [nabla] (n1) {}
node at (0,2.5) (start) {}
node at (-.5,1) [map] (f) {$\scriptstyle f$}
node at (.5,1) [map] (g) {$\scriptstyle g$}
node at (0,2) [delta] (d) {};
\draw [] (d) to (start);
\draw [] (n1) to (0,-0.5);
\draw [] (d) to[out=305,in=90] (g);
\draw [] (d) to[out=235,in=90] (f);
\draw [-] (f) to[out=270,in=125] (n1);
\draw [-] (g) to[out=270,in=55] (n1);
\end{tikzpicture}
\ \raisebox{40pt}{$= 0.$}\
\]

We will now show that the biproduct is the disjoint join of any two disjoint maps. But first, we
must show the biproduct of two disjoint maps is in the category CFrob(\X)

\begin{lemma}\label{lem:biproduct-is-in-cfrob-x}
  Given \X is an additive tensor category with biproducts, when $f,g$ are maps in CFrob(\X) with
  $f\perp g$, then $f+g$ is a map in CFrob(\X).
\end{lemma}
\begin{proof}
  We must show $(f+g)\Delta = \Delta((f+g)\*(f+g))$. As this is an additive tensor category and both
  $f,g$ are in CFrob(\X) we have:
  \begin{equation}
    (f+g)\Delta = f\Delta + g\Delta = \Delta(f\*f) + \Delta(g\*g).\label{eq:lhs-f+g-in-cfrob}
  \end{equation}
  However, we also have
  \begin{equation}
    \Delta((f+g)\*(f+g)) = \Delta( f\*f + f\* g + g\* f + g\*g) = \Delta(f\*f) + \Delta(f\*g) +
    \Delta(g\*f) + \Delta(g\*g).
    \label{eq:rhs-f+g-in-cfrob}
  \end{equation}
  Recalling
  Lemma~\ref{lem:properties_of_delta_and_tensor_in_a_discrete_inverse_category}~\ref{le:deltaefg}
  which shows that $e\Delta (f\*g) = \Delta(ef\*g)$ for $e$ a restriction idempotent, we have
  \[
    \Delta(f\*g) = \rst{f} \Delta(f\*g) = \Delta(f\*\rst{f} g) = \Delta(f \* 0) = \Delta 0 = 0,
  \]
  where $\rst{f}g = 0$ follows from the disjointness of $f,g$ by \axiom{Dis}{2} and the remaining
  equalities are due to \X being an additive tensor category. But this means that
  Equation~\ref{eq:rhs-f+g-in-cfrob} reduces to $\Delta(f\*f) + 0 + 0 + \Delta(g\*g)$ and is
  therefore the same as Equation~\ref{eq:lhs-f+g-in-cfrob}, showing $f+g$ is in CFrob(\X) when
  $f\perp g$.
\end{proof}

\begin{proposition}\label{prop:biproduct_is_the_disjoint_join_in_cfrobx}
  Given \X is an  additive tensor category with
  biproduct $+$, and $f\perp g$, then $f\djoin g \definedas f+g$ is a disjoint join.
\end{proposition}
\begin{proof}
  We need to show the four axioms of disjoint join from Definition~\ref{def:disjoint_join}.

  \axiom{DJ}{1} : $f \le f \djoin g$ and $g \le f \djoin g$.
  As $f+g = g+f$, we need only show the first part of the axiom. As $f\perp g$, we know $\rst{f}g=0$
  by the definition of disjointness and therefore we have:
  \[
    \rst{f}(f+g) = \rst{f}f + \rst{f} g = f + 0 = f
  \]
  and thus $f \le f \djoin g$ and \axiom{DJ}{1} is true.

  \axiom{DJ}{2}: $f \le h,\ g \le h$ and $f\perp g$ implies $f \djoin g \le h$.  We calculate
  \[
    \rst{f+g}h = (\rst{f}+\rst{g}) h = \rst{f}h + \rst{g} h = f + g
  \]
  giving us the required inequality and \axiom{DJ}{1} is true.

  \axiom{DJ}{3}: Disjoint join is stable, i.e., $h(f \djoin g) = h f \djoin h g$. This is immediate
  as $h(f+g) = hf + h g$.

  \axiom{DJ}{4}: $\cdperp \{f, g, h\} \iff f \perp (g\djoin h)$. Consider the $\Longleftarrow$
  direction first. We immediately have $g\perp h$ as we are able to form the disjoint join. By
  \axiom{DJ}{1}, we have both $g \le g \djoin h$ and $h \le g\djoin h$ and therefore by
  \axiom{Dis}{3}, $f \perp g$ and $f\perp h$. Thus the $\Longleftarrow$ direction is true.

  For the $\implies$ direction, we compute
  \[
  \begin{tikzpicture}
    \path node at (0,0) [nabla] (n1) {}
    node at (0,2.5) (start) {}
    node at (-.5,1) [map] (f) {$\scriptstyle f$}
    node at (.5,1) [map] (g) {$\scriptstyle g+h$}
    node at (0,2) [delta] (d) {};
    \draw [] (d) to (start);
    \draw [] (n1) to (0,-0.5);
    \draw [] (d) to[out=305,in=90] (g);
    \draw [] (d) to[out=235,in=90] (f);
    \draw [-] (f) to[out=270,in=125] (n1);
    \draw [-] (g) to[out=270,in=55] (n1);
  \end{tikzpicture}
  \ \raisebox{40pt}{$=$}\
  \begin{tikzpicture}
    \path node at (0,0) [nabla] (n1) {}
    node at (0,2.5) (start) {}
    node at (-.5,1) [map] (f) {$\scriptstyle f$}
    node at (.5,1) [map] (g) {$\scriptstyle g$}
    node at (0,2) [delta] (d) {};
    \draw [] (d) to (start);
    \draw [] (n1) to (0,-0.5);
    \draw [] (d) to[out=305,in=90] (g);
    \draw [] (d) to[out=235,in=90] (f);
    \draw [-] (f) to[out=270,in=125] (n1);
    \draw [-] (g) to[out=270,in=55] (n1);
  \end{tikzpicture}
  \raisebox{40pt}{$\,+\,$}
  \begin{tikzpicture}
    \path node at (0,0) [nabla] (n1) {}
    node at (0,2.5) (start) {}
    node at (-.5,1) [map] (f) {$\scriptstyle f$}
    node at (.5,1) [map] (g) {$\scriptstyle h$}
    node at (0,2) [delta] (d) {};
    \draw [] (d) to (start);
    \draw [] (n1) to (0,-0.5);
    \draw [] (d) to[out=305,in=90] (g);
    \draw [] (d) to[out=235,in=90] (f);
    \draw [-] (f) to[out=270,in=125] (n1);
    \draw [-] (g) to[out=270,in=55] (n1);
  \end{tikzpicture}
  \ \raisebox{40pt}{$= 0.$}\
  \]
  This gives us both directions and all of the axioms have been shown to be true, hence, the
  biproduct is a disjoint join.

\end{proof}


Now that we have shown we have a disjoint join, our last remaining task is to add a disjoint sum.

\begin{proposition}\label{prop:cfrobx_has_disjoint_sums}
  Suppose $A$ and $B$ are Frobenius algebras in CFrob(\X) where
  \X has the biproduct $+$. Then we define $A\+B$ to be the Frobenius
  algebra on $A+B$ with the following maps:
  \begin{align*}
    \epsilon_{A+B} &\definedas [\epsilon_A,\epsilon_B]:A+B \to I,\\
    \eta_{A+B}&\definedas \<\eta_A,\eta_B\>:I\to A+B,\\
    \Delta_{A+B} & \definedas (\Delta_A i_1 + \Delta_B i_2):A+B\to A\*A+A\*B+B\*A+B\*B,\\
    \nabla_{A+B} & \definedas (\pi_1 \nabla_A + \pi_2 \nabla_B): (A\*A+A\*B)+(B\*A+B\*B) \to A+B,
  \end{align*}
  noting that $A\*A+A\*B+B\*A+B\*B \cong (A+B)\*(A+B)$.
  Then $A\+B$ is a disjoint sum in CFrob(\X).
\end{proposition}
\begin{proof}

  First, we must prove that $A\+B$ is actually a Frobenius algebra and therefore in CFrob(\X).
  To do this, we must show it is separable, the unit laws hold and the Frobenius condition hold for $A\+B$.

  For the requirement that it is separable, we have
  \begin{align*}
    \Delta_{A+B}\nabla_{A+B}&= (\Delta_A i_1 + \Delta_B i_2) (\pi_1 \nabla_A + \pi_2 \nabla_B)\\
    &=  (\Delta_A i_1 \pi_1 \nabla_A + \Delta_B i_2\pi_2 \nabla_B)\\
    &=  (\Delta_A \nabla_A + \Delta_B \nabla_B)\\
    &=  (1_A + 1_B) = 1_{A+B}
  \end{align*}
  % \[
  %   \xymatrix{
  %     A\ar[r]^{\Delta} \ar[d]_{i_1} & A\*A \ar[d]^{i_1\*i_1} \ar@{=}[dr] \\
  %      A+B \ar[r]^(.35){\Delta} \ar@{=}[dr] &(A+B)\*(A+B) \ar[d]^{\nabla}
  %      & A\*A \ar[l]^(.35){i_1\*i_1}  \ar[d]^{\nabla}\\
  %      & A+B & A. \ar[l]^{i_1}
  %   }
  % \]
  % The outer path shows the separability of the Frobenius algebra $A$ and is what happens to the $A$
  % component in the inner path. There is a similar diagram where the outer path $A$s are replaced
  % with a $B$ and the $i_1$ with $i_2$. As these outer paths commute, they show that the inner path
  % commutes as each component of it commutes.


  To show the comultiplication unit law, consider
  \[
     \xymatrix@C+20pt{
       A \ar[r]^{\Delta} \ar[d]_{i_1} & A\*A \ar[d]^{i_1\*i_1} \ar@{=}[dr] \\
       A+B \ar[r]^(.35){\Delta} \ar@{=}[ddr] &(A+B)\*(A+B) \ar[d]^{1\*\epsilon}
          & A\*A \ar[l]^(.35){i_1\*i_1}  \ar[d]^{1\*\epsilon}\\
       & (A+B)\*I \ar[d]^{\usl} & A\*I \ar[d]^{\usl} \ar[l]^{i_1\*1}\\
       & A+B & A. \ar[l]^{i_1}
     }
  \]
  The outer path shows the unit law for the Frobenius algebra $A$ and is what happens to the $A$
  component in the inner path. There is a similar diagram where the outer path $A$s are replaced
  with a $B$ and the $i_1$ with $i_2$. As these outer paths commute, they show that the inner path
  commutes as each component of it commutes.

  For the Frobenius law, as we are in a commutative world, we need only show
  $\nabla \Delta = (1\*\Delta)(\nabla\*1)$.
  \[
  \xymatrix@C+17pt{
      &A\*A \ar@{=}[ld] \ar[rr]^{1\*\Delta} \ar[d]^{i_1\*i_1} && A\*A\*A  \ar[d]_{i_1\*i_1\*i_1} \ar@{=}[dr] \\
      A\*A \ar[r]^(.45){i_1\*i_1}  \ar[dr]_{\nabla}
         &\scriptstyle{(A+B)\*(A+B)} \ar[rr]^{1\*\Delta} \ar[dr]^{\nabla}
         &&\scriptstyle{(A+B)\*(A+B)\*(A+B)}  \ar[dd]^{\nabla\*1} & A\*A\*A  \ar[l]^(.4){i_1\*i_1\*i_1}  \ar[dd]^{\nabla\*1}\\
     & A \ar[r]^{i_1} \ar[ddrr]_{\Delta} & \scriptstyle{A+B} \ar[dr]^{\Delta} \\
     & & & \scriptstyle{(A+B)\*(A+B)} & A\*A  \ar[l]_(.45){i_1\*i_1} \ar@{=}[dl]\\
     & & & A\*A \ar[u]_{i_1\*i_1}
    }
  \]
  By the same reasoning as the previous two arguments, the diagram commutes and $A+B$ is a Frobenius
  algebra.

  Next, we must give maps in CFrob(\X) $i_1,i_2,x_1,x_2$ that satisfy the disjoint sum diagram,
  \[
    \xymatrix@C+10pt{
      A\ar[r]^{i_1} &A+B\ar@/^9pt/[l]^{x_1} \ar@/_9pt/[r]_{x_2} & B \ar[l]_{i_2}
    }
  \]
  where
  \begin{enumerate}[{(}i{)}]
    \item $i_1$ and $i_2$ are monic,
    \item $\inv{i_1} = \xa$ and $\inv{i_2} = \xb$, and
    \item $\inv{i_1}i_1 \perp \inv{i_2}i_2$ and $\inv{i_1}i_1 \djoin \inv{i_2}i_2 = 1_X$.
  \end{enumerate}

  Since $A+B$ is a biproduct and we are in an inverse category, setting $i_1,i_2$ to be the
  injections of the biproduct and $\xa,\xb$ to be the projections will immediately give us this
  diagram, provided all those maps are in CFrob(\X). Therefore we must show each of the injections
  and projections are in CFrob(\X), that is, they must preserve $\Delta$ and $\nabla$.

  Consider
  \[
     \xymatrix@C+40pt@R+10pt{
       A \ar[d]_{\Delta} \ar[rr]^{i_1} & &A+B \ar[d]^{\Delta_{A+B}(=\Delta_A i_1 + \Delta_B i_1)}\\
       A\*A \ar[r]_(.425){i_1} &A\*A+A\*B \ar[r]_(.375){i_1} & A\*A+A\*B+B\*A+B\*B.
     }
  \]
  This commutes as $i_1(f+g) = f i_1$. Similarly, $i_2$ preserves $\Delta$.
  Conversely,
  \[
    \xymatrix@C+40pt@R+10pt{
       {A\*A+A\*B+B\*A+B\*B}  \ar[d]_{(\pi_1\nabla_A + \pi_2\nabla_B=)\nabla_{A+B}} \ar[r]^(.625){\pi_1}
         &A\*A+A\*B \ar[r]^(.575){\pi_1} &A\*A\ar[d]^{\nabla_A}\\
       A+B \ar[rr]_{\pi_1}& & A
    }
  \]
  which shows that $\nabla$ is preserved by $\pi_1$ and $\pi_2$.

  For the three conditions, as $i_1$ and $i_2$ are total maps, they are monic in the inverse
  category. We know from above that $i_j\pi_j = 1$ and therefore $\inv{i_j} = \pi_j$. Additionally
  we know that $\pi_1i_1 + \pi_2i_2 = 1$, but as $+$ is the disjoint join, this shows the third
  condition is true and $A\+B$ is a disjoint sum.
\end{proof}


%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../../phd-thesis"
%%% End:
