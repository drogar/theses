%!TEX root = /Users/gilesb/UofC/thesis/phd-thesis/phd-thesis.tex
\chapter{Inverse categories} % (fold)
\label{cha:inverse_categories}

This chapter will focus on adding ``products'' to an inverse category.

We will show below an inverse category which has restriction products is a restriction
pre-order. Given this, by ``product'', we mean a structure that behaves in a product-like manner in
an inverse category which we call these \emph{inverse products}. These will be defined below in
Sub-Section~\ref{sub:inverse_product_definition}: Inverse products are given by a natural structure on a
tensor product which includes a diagonal but lacks projections. The diagonal map is required to give
a natural Frobenius structure on each object.

\section{Inverse categories with restriction products} % (fold)
\label{sec:inverse_categories_with_restriction_products}
We start by showing that an inverse category with restriction products is a restriction pre-order
and thus, is too restrictive a notion.

\begin{definition}\label{def:compatible_maps}
  Two parallel maps $f,g:A \to B$ in a restriction category are \emph{compatible}, written as $f
  \compatible g$, when $\rst{f} g = \rst{g} f$.
\end{definition}
\begin{definition}\label{def:restrictionpreorder}
  A restriction category \X is a \emph{restriction pre-order} when all parallel pairs of maps are
  compatible.
\end{definition}
\begin{proposition}\label{prop:an_inverse_category_with_products_is_a_restriction_preorder}
  Given an inverse category \X, if it has restriction products, it is a restriction pre-order. That
  is,
  \[
    \xymatrix {
      A  \ar@<1ex>[r]^{f} \ar@<-1ex>[r]_{g} &B
    }
    \implies f \compatible g.
  \]
\end{proposition}
\begin{proof}
  Notice that $ \inv{\pi_1}  = \Delta \pi_1 \inv{\pi_1} =\Delta \restr{\pi_1} = \Delta$.
  This gives $\restr{\inv{\pi_1}} = 1$ and therefore $\pi_1$ (and similarly, $\pi_0$) is an
  isomorphism.

  Starting with the product map $\<f,g\>$,
  \[
    \infer={\restr{f}g = \restr{g}f}
    {\infer={\restr{f}g\Delta = \restr{g}f\Delta}
    {\infer={\restr{f}g\inv{\pi_1} = \restr{g}f\inv{\pi_0}}
    {\infer={\<f,g\>\pi_1 \inv{\pi_1} = \<f,g\>\pi_0 \inv{\pi_0}}
    {\<f,g\> = \<f,g\>}}}}
  \]
  which shows that $f$ and $g$ are compatible.
\end{proof}

\begin{corollary}
  \X\ is a Cartesian inverse category if and only if Total($\spl{r}{\X}$) is a meet pre-order.
\end{corollary}

\begin{proof}
  Total(\X), the subcategory of total maps on \X, has products and therefore every pair of parallel
  maps is compatible. As total compatible maps are equal, there is at most
  one map between any two objects. Hence, Total(\X) is a pre-order with the meet being the product.

  Similarly, from \cite{cockett2002:restcategories1} and \cite{cockettlack2004:restcategories3},
  Total($\spl{r}{\X}$) is an inverse category and has products and is therefore also a meet
  pre-order. This shows the ``only if'' side of the corollary.

  For the other direction, if Total($\spl{r}{\X}$) is a meet pre-order, define the product as the
  meet of the maps and the terminal object as the supremum of all maps.
\end{proof}

\begin{corollary}
  Every Cartesian inverse category is a full subcategory of a partial map category of a meet
  semi-lattice.
\end{corollary}


% section inverse_categories_with_restriction_products (end)
\section{Inverse products} % (fold)
\label{sec:inverse_products}

\subsection{Inverse product definition} % (fold)
\label{sub:inverse_product_definition}

%\begin{definition}\label{def:inverse_product_tensor}
%  Given a restriction category \X, a tensor $\*$ is called an \emph{inverse product tensor}
%   when:
% \begin{itemize}
%   \item $\*$ is a restriction functor, $\_ \* \_ : \X \times \X \to \X$.
%   \item $\*$ is a symmetric monoidal tensor satisfying the standard symmetric monoidal equations and
%     coherence diagrams hold (see, e.g., \cite{maclan97:categorieswrkmath}) and has the following
%     natural isomorphisms:
%     \begin{align*}
%       1 &: \boldsymbol{1}\to \X \\
%       \usl &: 1 \* A \xrightarrow{\cong} A
%       &\usr &: A \* 1 \xrightarrow{\cong} A\\
%       a_{\*} &: (A \* B) \* C \xrightarrow{\cong} A \* (B \* C)
%       &c_{\*} &: A \* B \xrightarrow{\cong} B \* A.
%     \end{align*}
%   \end{itemize}
%   Note that since all the coherence maps are isomorphisms, they are total.
% \end{definition}

\begin{definition}\label{def:inverse_product}
  An \emph{inverse product} on an inverse category \X is given by an tensor $\*$, a restriction
  bi-functor. The tensor makes \X a  symmetric monoidal category and there is a natural
  ``semi-Frobenius'' diagonal map, $\Delta$. Additionally, we define the
  map $\excs: (A\*B)\*(C\*D) \to (A\*C) \* (B\*D)$:
  \[
    \excs =  a_{\*}(1\*\inv{a_{\*}})(1\*(c_{\*}\*1))(1\* a_{\*})\inv{a_{\*}}).
  \]

  The diagonal map $\Delta_A:A \to A\*A$ must be total and create a co-semigroup without units. It
  must satisfy the diagrams in Figures~\ref{fig:inverse_product_cocommutativity},
  \ref{fig:inverse_product_coassociativity}, \ref{fig:inverse_product_exchange}, and
  \ref{fig:inverse_product_frobenius}.
\begin{figure}[!htbp]
  \[
    \xymatrix @!0 @C=90pt @R=35pt{
      A \ar[dr]_{\Delta} \ar[r]^{\Delta} &
      A \* A \ar[d]^{c_{\*}}\\
      & A \* A
    }
  \]

\caption{Co-commutativity for an inverse product.}\label{fig:inverse_product_cocommutativity}
\end{figure}
\begin{figure}[!htbp]
  \[
    \xymatrix @C=30pt @R=30pt{
      A \ar[rr]^{\Delta} \ar[d]_{\Delta} & &
      A \* A \ar[d]^{1\*\Delta}\\
      A\*A \ar[dr]_{\Delta \* 1}& & A \* ( A \* A) \\
      &   (A \* A) \* A \ar[ur]_{a_{\*}}
    }
  \]
\caption{Co-associativity for an inverse product.}\label{fig:inverse_product_coassociativity}
\end{figure}
\begin{figure}[!htbp]
  \[
    \xymatrix @C=40pt @R=35pt{
      A \* B \ar[dr]_{\Delta}
      \ar[rr]^{\Delta \* \Delta} &&
      (A \* A) \* (B \* B) \ar[dl]^{\excs}\\
      &(A \* B) \* (A \* B)
    }
  \]
\caption{Exchange in an inverse product.}\label{fig:inverse_product_exchange}
\end{figure}
\begin{figure}[!htbp]
  \[
    \xymatrix @C=40pt @R=25pt{
      A \* A \ar[dd]_{(1\*\Delta) \inv{a_{\*}}} \ar[dr]^{\inv{\Delta}}
      \ar[rr]^{(\Delta \* 1) a_{\*}} & &
      A \* (A \* A) \ar[dd]^{1 \* \inv{\Delta}}\\
      & A \ar[dr]^{\Delta} & \\
      (A \* A) \* A \ar[rr]_{\inv{\Delta} \* 1} & &
      A \* A
    }
  \]
\caption{Frobenius law in an inverse product.}\label{fig:inverse_product_frobenius}
\end{figure}

  Thus, $\Delta$ is a co-commutative, co-associative map which together with $\inv{\Delta}$ forms a
  special semi-Frobenius algebra. We use the prefix ``semi-'' as we are not requiring the unit laws
  of a Frobenius algebra as per Definition~\ref{def:frobeniusalgebra}.
\end{definition}

\begin{remark}
  Note also, co-commutativity implies that $c_{\*}\inv{\Delta} = \inv{\Delta}$.
  One can see this as:
  \begin{align*}
    \Delta(c_{\*}\inv{\Delta})
      &= (\Delta c_{\*})\inv{\Delta} = \Delta\inv{\Delta} = \rst{\Delta} \text{ and}\\
    (c_{\*}\inv{\Delta})\Delta
      & = (c_{\*}\inv{\Delta})(\Delta c_{\*}) = \rst{c_{\*}\inv{\Delta}}.
  \end{align*}
  This means that both $\inv{\Delta}$ and $c_{\*}\inv{\Delta}$ are partial inverses for $\Delta$
  and are therefore equal.

  Similarly, one can show that $(\inv{\Delta}\* 1)\inv{\Delta} =
  \inv{a_{\*}}(\inv{\Delta}\* 1)\inv{\Delta}$ as
  \begin{align*}
    \Delta(\Delta\*1)\inv{a_{\*}}(\inv{\Delta}\* 1)\inv{\Delta} &=
    \Delta(1\*\Delta)a_{\*}\inv{a_{\*}}(\inv{\Delta}\* 1)\inv{\Delta} \\
    & =\Delta(1\*\Delta)(\inv{\Delta}\* 1)\inv{\Delta} \\
    & =\Delta\inv{\Delta}\Delta\inv{\Delta} = 1.
  \end{align*}
\end{remark}


Inverse products are extra structure on an inverse category, rather than a property. An example to
demonstrate this is given next.

\begin{example}[Inverse products are additional structure]
  \label{example:invprodisstructure}
\end{example}
Any discrete category (i.e., a category with only the identity arrows) is a trivial inverse
category. To create an inverse product on a discrete category, add a commutative, associative,
idempotent multiplication, with a unit.

Let $\D$ be the discrete category with four objects $a,b,c$ and $d$. Then, define
two different inverse product tensors, $\*$ and $\odot$, with $d$ the unit of each as shown in
Table~\ref{tab:two_different_inverse_products}.

\begin{table}[!htbp]
  \begin{center}
  \begin{tabular}{|l||c|c|c|c|}
    \hline
    $\*$&a&b&c&d\\ \hline \hline
    a&a&a&a&a\\ \hline
    b&a&b&\textbf{b}&b\\ \hline
    c&a&\textbf{b}&c&c \\ \hline
    d&a&b&c&d \\ \hline
  \end{tabular}
  \qquad
  \begin{tabular}{|l||c|c|c|c|} \hline
    $\odot$&a&b&c&d\\ \hline \hline
    a&a&a&a&a\\ \hline
    b&a&b&\textbf{a}&b\\ \hline
    c&a&\textbf{a}&c&c \\ \hline
    d&a&b&c&d \\ \hline
  \end{tabular}
  \end{center}
  \caption{Two different inverse products on the same category.}
  \label{tab:two_different_inverse_products}
\end{table}

As $\D$ is discrete, $\Delta$ is forced to be the identity. One can check easily that each of the
the conditions for being an inverse product are satisfied by $\*$ and by $\odot$ with the trivial diagonal.

% subsection inverse_products (end)
\subsection{Diagrammatic Language} % (fold)
\label{sub:diagrammatic_language}

While it is certainly possible to prove results about inverse products using direct algebraic
manipulation, it is much more convenient to understanding to proceed with string diagram circuits. See
\cite{selinger11:graphical} for a comparison of various graphical languages for monoidal categories.
As shown in
\cite{street-ross-1991-GTC-I}, diagrammatic reasoning is equivalent to reasoning algebraically for
symmetric monoidal categories.

In the diagrams, we will use the following representations:
\begin{itemize}
  \item $\Delta$ will be represented by an upward pointing triangle: \begin{tikzpicture}
      \path node [delta] at (0,0) {}; \end{tikzpicture}.
  \item $\inv{\Delta}$ by a downward triangle: \begin{tikzpicture}
      \path node [nabla] at (0,0) {}; \end{tikzpicture}.
  \item maps by a rectangle with the name of the map inside: \begin{tikzpicture}
      \path node [map] at (0,0) {$\scriptstyle f$}; \end{tikzpicture}.
  \item unit introduction (often referred to as an $\eta$ map): \begin{tikzpicture}
      \path node [eta] at (0,0) {}; \end{tikzpicture}.
  \item unit removal (often referred to as an $\epsilon$ map): \begin{tikzpicture}
      \path node [epsilon] at (0,0) {}; \end{tikzpicture}.
\end{itemize}
String diagrams in this thesis are to be read from top to bottom.

The axioms of Definition~\ref{def:inverse_product} then become:\\
\begin{tikzpicture}
  \begin{pgfonlayer}{nodelayer}
    \node [style=nothing] (0) at (-3.75, 5.5) {};
    \node [style=delta] (1) at (-3.75, 5) {};
    \node [style=nothing] (2) at (-4, 4.25) {};
    \node [style=nothing] (3) at (-3.5, 4.25) {};
    \node [style=nothing] (4) at (-3, 5) {$=$};
    \node [style=nothing] (5) at (-2.25, 5.5) {};
    \node [style=delta] (6) at (-2.25, 5) {};
    \node [style=nothing] (7) at (-2.5, 4.25) {};
    \node [style=nothing] (8) at (-2, 4.25) {};
    \node [style=nothing] (9) at (-3, 4) {Co-commutativity};
    \end{pgfonlayer}
    \begin{pgfonlayer}{edgelayer}
      \draw [] (0) to (1);
      \draw [] (1) to[out=305,in=90] (2);
      \draw [] (1) to[out=235,in=90] (3);
      \draw [] (5) to (6);
      \draw [] (6) to[out=235,in=90] (7);
      \draw [] (6) to[out=305,in=90] (8);
      \end{pgfonlayer}
\end{tikzpicture}
\hspace{15pt}
\begin{tikzpicture}
  \begin{pgfonlayer}{nodelayer}
    \node [style=nothing] (0) at (-3.75, 5.5) {};
    \node [style=delta] (1) at (-3.75, 5) {};
    \node [style=delta] (2) at (-4, 4.5) {};
    \node [style=nothing] (3a) at (-4.25, 4) {};
    \node [style=nothing] (3b) at (-3.75, 4) {};
    \node [style=nothing] (3c) at (-3.5, 4) {};
    \node [style=nothing] (4) at (-3, 5) {$=$};
    \node [style=nothing] (5) at (-2.25, 5.5) {};
    \node [style=delta] (6) at (-2.25, 5) {};
    \node [style=delta] (8) at (-2, 4.5) {};
    \node [style=nothing] (7a) at (-2.5, 4) {};
    \node [style=nothing] (7b) at (-2.25, 4) {};
    \node [style=nothing] (7c) at (-1.75, 4) {};
    \node [style=nothing] (9) at (-3, 3.5) {Co-associativity};
    \end{pgfonlayer}
    \begin{pgfonlayer}{edgelayer}
      \draw [] (0) to (1);
      \draw [] (1) to[out=305,in=90] (3c);
      \draw [] (1) to[out=235,in=90] (2);
      \draw [] (2) to[out=305,in=90] (3b);
      \draw [] (2) to[out=235,in=90] (3a);
      \draw [] (5) to (6);
      \draw [] (6) to[out=235,in=90] (7a);
      \draw [] (6) to[out=305,in=90] (8);
      \draw [] (8) to[out=305,in=90] (7c);
      \draw [] (8) to[out=235,in=90] (7b);
      \end{pgfonlayer}
\end{tikzpicture}
\hspace{15pt}
\begin{tikzpicture}
  \begin{pgfonlayer}{nodelayer}
    \node [style=nothing] (0) at (-2.55, 3.75) {};
    \node [style=nothing] (1) at (-2.45, 3.75) {};
    \node [style=delta] (2) at (-2.5, 3.25) {};
    \node [style=nothing] (3) at (-3, 2.5) {};
    \node [style=nothing] (4) at (-2.75, 2.5) {};
    \node [style=nothing] (5) at (-2.25, 2.5) {};
    \node [style=nothing] (6) at (-2, 2.5) {};
    \node [style=nothing] (7) at (-1.75, 3.25) {$=$};
    \node [style=nothing] (8) at (-.675, 3.75) {};
    \node [style=nothing] (9) at (-0.575, 3.75) {};
    \node [style=delta] (10) at (-1, 3.25) {};
    \node [style=delta] (11) at (-0.25, 3.25) {};
    \node [style=nothing] (12) at (-1.25, 2.5) {};
    \node [style=nothing] (13) at (-1, 2.5) {};
    \node [style=nothing] (14) at (-0.25, 2.5) {};
    \node [style=nothing] (15) at (0, 2.5) {};
    \node [style=nothing] (16) at (-1.5, 2) {Exchange};
    \end{pgfonlayer}
    \begin{pgfonlayer}{edgelayer}
      \draw [] (0) to (2);
      \draw [] (1) to (2);
      \draw [] (2) to (3);
      \draw [] (2) to (4);
      \draw [] (2) to (5);
      \draw [] (2) to (6);
      \draw [] (8) to[out=270,in=90] (10);
      \draw [] (9) to[out=270,in=90] (11);
      \draw [] (10) to (12);
      \draw [] (10) to (14);
      \draw [] (11) to (13);
      \draw [] (11) to (15);
      \end{pgfonlayer}
\end{tikzpicture}
\hspace{15pt}
\begin{tikzpicture}
  \begin{pgfonlayer}{nodelayer}
    \node [style=nothing] (0) at (-2.75, 3.75) {};
    \node [style=nothing] (1) at (-2.25, 3.75) {};
    \node [style=delta] (2) at (-2.75, 3.25) {};
    \node [style=nothing] (3) at (-2.75, 2) {};
    \node [style=nothing] (4) at (-2.25, 2) {};
    \node [style=nothing] (5) at (-0.5, 3) {$=$};
    \node [style=nothing] (6) at (0, 3.75) {};
    \node [style=nothing] (7) at (0.5, 3.75) {};
    \node [style=delta] (8) at (-1, 2.5) {};
    \node [style=delta] (9) at (0.5, 3.25) {};
    \node [style=nothing] (10) at (0, 2) {};
    \node [style=nothing] (11) at (0.5, 2) {};
    \node [style=nabla] (12) at (-2.25, 2.5) {};
    \node [style=nabla] (13) at (-1, 3.25) {};
    \node [style=nabla] (14) at (0, 2.5) {};
    \node [style=nothing] (15) at (-1.75, 3) {$=$};
    \node [style=nothing] (16) at (-1.25, 3.75) {};
    \node [style=nothing] (17) at (-0.75, 3.75) {};
    \node [style=nothing] (18) at (-1.25, 2) {};
    \node [style=nothing] (19) at (-0.75, 2) {};
    \node [style=nothing] (20) at (-1, 1.75) {Frobenius};
    \end{pgfonlayer}
    \begin{pgfonlayer}{edgelayer}
      \draw [] (0) to (2);
      \draw [] (2) to (3);
      \draw [] (7) to (9);
      \draw [] (9) to (11);
      \draw (1) to (12);
      \draw (2) to (12);
      \draw (12) to (4);
      \draw (13) to (8);
      \draw (16) to (13);
      \draw (17) to (13);
      \draw (8) to (18);
      \draw (8) to (19);
      \draw (14) to (10);
      \draw (9) to (14);
      \draw (6) to (14);
      \end{pgfonlayer}
\end{tikzpicture}
% end sub:diagrammatic_language


\subsection{Discrete inverse categories} % (fold)
\label{sub:discrete_inverse_categories}

\begin{definition}\label{def:discrete_inverse_category}
  If an inverse category has inverse products as in Definition~\ref{def:inverse_product}, we call it
  a \emph{discrete inverse category}.
\end{definition}

In this Sub-Section we will present some properties of discrete inverse categories. This  will
form the basis for our eventual goal, that of connecting discrete inverse categories to Cartesian
restriction categories. The connection between them will be given as a functor that lifts a discrete
inverse category to a discrete Cartesian restriction category.

\begin{lemma}\label{lem:properties_of_delta_and_tensor_in_a_discrete_inverse_category}
  In a discrete inverse category \X with the inverse product $\*$ and $\Delta$, where
  $e=\rst{e}$ is a restriction idempotent and $f,g,h$ are arrows in \X, the following are true:
  \begin{enumerate}[{(}i{)}]
    \item{}$e=\Delta (e\* 1) \inv{\Delta}$.\label{le:eisde1}
    \item{}$e\Delta (f \* g) = \Delta (e f \* g) $ (and $= \Delta (f \* e g) $ and
      $ = \Delta (e f \* e g)$.)\label{le:deltaefg}
    \item{}$ (f \* g e) \inv{\Delta} =(f \* g) \inv{\Delta} e $ (and $= (f e\* g) \inv{\Delta}$ and
      $ = (f e\* g e)\inv{\Delta}$.)\label{le:efginvdelta}
    \item{}$\restr{\Delta (f \* g) \inv{\Delta}} =
       \Delta(1\* g \inv{f})\inv{\Delta}$. \label{le:restfg}
    \item{} If $\Delta (h \* g) \inv{\Delta} = \restr{\Delta (h \* g) \inv{\Delta}}$ then
      $(\Delta (h \* g) \inv{\Delta}) h = \Delta (h \* g) \inv{\Delta}$.\label{le:hge}
    \item{}$\Delta (f\*1) = \Delta (g\*1) \implies f = g$.\label{le:dfgisfg}
    \item{}$(f\*1) = (g\*1) \implies f = g$.\label{le:fgisfg}
  \end{enumerate}
\end{lemma}
\begin{proof}
  \prepprooflist
  \begin{enumerate}[{(}i{)}]
    \item[\ref{le:eisde1}]
      \[
      \raisebox{30pt}{
      \begin{tikzpicture}
        \node at (0,1) (start) {};
        \node at (0,.5) [map] (e) {$\scriptstyle e$};
        \node at (0,0) (end) {};
        \draw (start) to (e);
        \draw (e) to (end);
      \end{tikzpicture}
      }
      \ \raisebox{45pt}{$=$}\
      \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (0,2) [nabla] (n1) {};
        \node at (0,1.5) [delta] (d2) {};
        \node at (0,1) [nabla] (n2) {};
        \node at (0,.5) [map] (e) {$\scriptstyle e$};
        \node at (0,0) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=125] (n1);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw [] (n1) to (d2);
        \draw [] (d2) to[out=235,in=125] (n2);
        \draw [] (d2) to[out=305,in=55] (n2);
        \draw [] (n2) to (e);
        \draw (e) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (-.25,2) [delta] (d2) {};
        \node at (.25,1.5) [nabla] (n1) {};
        \node at (0,1) [nabla] (n2) {};
        \node at (0,.5) [map] (e) {$\scriptstyle e$};
        \node at (0,0) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (d2);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw [] (d2) to[out=305,in=125] (n1);
        \draw [] (d2) to[out=235,in=125] (n2);
        \draw [] (n1) to[out=270,in=55] (n2);
        \draw [] (n2) to (e);
        \draw (e) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (-.25,2) [delta] (d2) {};
        \node at (-.5,1.5) [map] (e1) {$\scriptstyle e$};
        \node at (0,1.5) [map] (e2) {$\scriptstyle e$};
        \node at (.5,1.5) [map] (e3) {$\scriptstyle e$};
        \node at (.25,1) [nabla] (n1) {};
        \node at (0,.5) [nabla] (n2) {};
        \node at (0,0) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (d2);
        \draw [] (d1) to[out=305,in=90] (e3);
        \draw [] (d2) to[out=305,in=90] (e2);
        \draw [] (d2) to[out=235,in=90] (e1);
        \draw (e1) to[out=270,in=125] (n2);
        \draw (e2) to[out=270,in=125] (n1);
        \draw (e3) to[out=270,in=55] (n1);
        \draw [] (n1) to[out=270,in=55] (n2);
        \draw [] (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (-.25,2) [map] (e1) {$\scriptstyle e$};
        \node at (-.25,1.5) [delta] (d2) {};
        \node at (.25,1) [nabla] (n1) {};
        \node at (.25,.5) [map] (e2) {$\scriptstyle e$};
        \node at (0,0) [nabla] (n2) {};
        \node at (0,-.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (e1);
        \draw (e1) to (d2);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw [] (d2) to[out=305,in=125] (n1);
        \draw [] (d2) to[out=235,in=125] (n2);
        \draw (n1) to (e2);
        \draw [] (e2) to[out=270,in=55] (n2);
        \draw [] (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (-.25,2) [map] (e1) {$\scriptstyle e$};
        \node at (0,1.5) [nabla] (n1) {};
        \node at (0,1) [delta] (d2) {};
        \node at (.25,.5) [map] (e2) {$\scriptstyle e$};
        \node at (0,0) [nabla] (n2) {};
        \node at (0,-.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (e1);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw (e1) to[out=270,in=125] (n1);
        \draw [] (n1) to (d2);
        \draw [] (d2) to[out=305,in=90] (e2);
        \draw [] (d2) to[out=235,in=125] (n2);
        \draw (e2) to[out=270,in=55] (n2);
        \draw [] (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (-.25,2) [map] (e1) {$\scriptstyle e$};
        \node at (0,1.5) [nabla] (n1) {};
        \node at (0,1) [delta] (d2) {};
        \node at (-.25,.5) [map] (e2) {$\scriptstyle e$};
        \node at (0,0) [nabla] (n2) {};
        \node at (0,-.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (e1);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw (e1) to[out=270,in=125] (n1);
        \draw [] (n1) to (d2);
        \draw [] (d2) to[out=235,in=90] (e2);
        \draw [] (d2) to[out=305,in=55] (n2);
        \draw (e2) to[out=270,in=125] (n2);
        \draw [] (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \]
\[
      \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (-.25,2) [map] (e1) {$\scriptstyle e$};
        \node at (-.25,1.5) [delta] (d2) {};
        \node at (.25,1) [nabla] (n1) {};
        \node at (-.25,.5) [map] (e2) {$\scriptstyle e$};
        \node at (0,0) [nabla] (n2) {};
        \node at (0,-.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (e1);
        \draw (e1) to (d2);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw [] (d2) to[out=305,in=125] (n1);
        \draw [] (d2) to[out=235,in=90] (e2);
        \draw (n1) to[out=270,in=55] (n2);
        \draw [] (e2) to[out=270,in=125] (n2);
        \draw [] (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \begin{tikzpicture}
        \node at (0,2.5) (start) {};
        \node at (0,2) [delta] (d1) {};
        \node at (-.25,1.5) [delta] (d2) {};
        \node at (-.5,1) [map] (e2) {$\scriptstyle e$};
        \node at (0,1) [map] (e1) {$\scriptstyle e$};
        \node at (.25,.5) [nabla] (n1) {};
        \node at (-.25,0) [map] (e3) {$\scriptstyle e$};
        \node at (0,-0.5) [nabla] (n2) {};
        \node at (0,-1) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (d2);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw [] (d2) to[out=305,in=90] (e1);
        \draw [] (d2) to[out=235,in=90] (e2);
        \draw (e1) to[out=270,in=125] (n1);
        \draw (e2) to (e3);
        \draw (n1) to[out=270,in=55] (n2);
        \draw [] (e3) to[out=270,in=125] (n2);
        \draw [] (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}
      \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (-.25,2) [map] (e1) {$\scriptstyle e$};
        \node at (-.25,1.5) [delta] (d2) {};
        \node at (.25,1) [nabla] (n1) {};
        \node at (0,.5) [nabla] (n2) {};
        \node at (0,0) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (e1);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw (e1) to[out=270,in=90] (d2);
        \draw [] (d2) to[out=235,in=125] (n2);
        \draw [] (d2) to[out=305,in=125] (n1);
        \draw (n1) to[out=270,in=55] (n2);
        \draw [] (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}
      \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (-.25,2) [map] (e1) {$\scriptstyle e$};
        \node at (0,1.5) [nabla] (n1) {};
        \node at (0,1) [delta] (d2) {};
        \node at (0,.5) [nabla] (n2) {};
        \node at (0,0) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (e1);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw (e1) to[out=270,in=125] (n1);
        \draw [] (n1) to (d2);
        \draw [] (d2) to[out=235,in=125] (n2);
        \draw [] (d2) to[out=305,in=55] (n2);
        \draw [] (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \raisebox{15pt}{
        \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (-.25,2) [map] (e1) {$\scriptstyle e$};
        \node at (0,1.5) [nabla] (n1) {};
        \node at (0,1) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (e1);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw (e1) to[out=270,in=125] (n1);
        \draw [] (n1) to (end);
      \end{tikzpicture}
      }
      \,\raisebox{45pt}{.}
\]
    \item[\ref{le:deltaefg}]This equality uses the previous equality, the commutativity
      of restriction idempotents (\rtwo) and the identity $\Delta\rst{\inv{\Delta}} = \Delta$.
      \[
      \raisebox{10pt}{
      \begin{tikzpicture}
        \node at (0,2) (start) {};
        \node at (0,1.5) [map] (e) {$\scriptstyle e$};
        \node at (0,1) [delta] (d2) {};
        \node at (-.25,.5) [map] (f) {$\scriptstyle f$};
        \node at (.25,.5) [map] (g) {$\scriptstyle g$};
        \node at (-.25,0) (end1) {};
        \node at (.25,0) (end2) {};
        \draw (start) to (e);
        \draw (e) to (d2);
        \draw (d2) to[out=235,in=90] (f);
        \draw (d2) to[out=305,in=90] (g);
        \draw (f) to (end1);
        \draw (g) to (end2);
      \end{tikzpicture}
      }
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (-.25,2) [map] (e1) {$\scriptstyle e$};
        \node at (0,1.5) [nabla] (n1) {};
        \node at (0,1) [delta] (d2) {};
        \node at (-.25,.5) [map] (f) {$\scriptstyle f$};
        \node at (.25,.5) [map] (g) {$\scriptstyle g$};
        \node at (-.25,0) (end1) {};
        \node at (.25,0) (end2) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (e1);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw (e1) to[out=270,in=125] (n1);
        \draw [] (n1) to (d2);
        \draw (d2) to[out=235,in=90] (f);
        \draw (d2) to[out=305,in=90] (g);
        \draw (f) to (end1);
        \draw (g) to (end2);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (-.25,2) [map] (e1) {$\scriptstyle e$};
        \node at (0,1.25) [map] (inverse-delta-r) {$\scriptstyle \rst{\inv{\Delta}}$};
        \node at (-.25,.5) [map] (f) {$\scriptstyle f$};
        \node at (.25,.5) [map] (g) {$\scriptstyle g$};
        \node at (-.25,0) (end1) {};
        \node at (.25,0) (end2) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (e1);
        \draw [] (d1) to[out=305,in=55] (inverse-delta-r);
        \draw (e1) to[out=270,in=125] (inverse-delta-r);
        \draw (inverse-delta-r) to[out=235,in=90] (f);
        \draw (inverse-delta-r) to[out=305,in=90] (g);
        \draw (f) to (end1);
        \draw (g) to (end2);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (0,2) [map] (inverse-delta-r) {$\scriptstyle \rst{\inv{\Delta}}$};
        \node at (-.25,1.25) [map] (e1) {$\scriptstyle e$};
        \node at (-.25,.5) [map] (f) {$\scriptstyle f$};
        \node at (.25,.5) [map] (g) {$\scriptstyle g$};
        \node at (-.25,0) (end1) {};
        \node at (.25,0) (end2) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=125] (inverse-delta-r);
        \draw [] (d1) to[out=305,in=55] (inverse-delta-r);
        \draw (inverse-delta-r) to[out=235,in=90] (e1);
        \draw (e1) to (f);
        \draw (inverse-delta-r) to[out=305,in=90] (g);
        \draw (f) to (end1);
        \draw (g) to (end2);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \raisebox{20pt}{
        \begin{tikzpicture}
        \node at (0,1.5) (start) {};
        \node at (0,1) [delta] (d1) {};
        \node at (-.25,.5) [map] (f_e) {$\scriptstyle e f$};
        \node at (.25,.5) [map] (g) {$\scriptstyle g$};
        \node at (-.25,0) (end1) {};
        \node at (.25,0) (end2) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (f_e);
        \draw [] (d1) to[out=305,in=90] (g);
        \draw (f_e) to (end1);
        \draw (g) to (end2);
      \end{tikzpicture}
      }
      \,\raisebox{45pt}{.}
      \]
      The second equality ($e\Delta(f\*g) = \Delta(f\*e g)$) follows by co-commutativity. The third
      equality,  ($e\Delta(f\*g) = \Delta(e f\*e g)$) follows by naturality of $\Delta$.

    \item[\ref{le:efginvdelta}] As in \ref{le:deltaefg}, details are only given for the
      first equality. This proof is obtained by reversing the diagrams of \ref{le:deltaefg}.
      \[
      \raisebox{10pt}{
      \begin{tikzpicture}
        \node at (0,0) (start) {};
        \node at (0,.5) [map] (e) {$\scriptstyle e$};
        \node at (0,1) [nabla] (d2) {};
        \node at (-.25,1.5) [map] (f) {$\scriptstyle f$};
        \node at (.25,1.5) [map] (g) {$\scriptstyle g$};
        \node at (-.25,2) (end1) {};
        \node at (.25,2) (end2) {};
        \draw (start) to (e);
        \draw (e) to (d2);
        \draw (d2) to[out=125,in=270] (f);
        \draw (d2) to[out=55,in=270] (g);
        \draw (f) to (end1);
        \draw (g) to (end2);
      \end{tikzpicture}
      }
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,0) (start) {};
        \node at (0,.5) [nabla] (d1) {};
        \node at (-.25,1) [map] (e1) {$\scriptstyle e$};
        \node at (0,1.5) [delta] (n1) {};
        \node at (0,2) [nabla] (d2) {};
        \node at (-.25,2.5) [map] (f) {$\scriptstyle f$};
        \node at (.25,2.5) [map] (g) {$\scriptstyle g$};
        \node at (-.25,3) (end1) {};
        \node at (.25,3) (end2) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=125,in=270] (e1);
        \draw [] (d1) to[out=55,in=305] (n1);
        \draw (e1) to[out=90,in=235] (n1);
        \draw [] (n1) to (d2);
        \draw (d2) to[out=125,in=270] (f);
        \draw (d2) to[out=55,in=270] (g);
        \draw (f) to (end1);
        \draw (g) to (end2);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,0) (start) {};
        \node at (0,.5) [nabla] (d1) {};
        \node at (-.25,1) [map] (e1) {$\scriptstyle e$};
        \node at (0,1.75) [map] (inverse-delta-r) {$\scriptstyle \rst{\inv{\Delta}}$};
        \node at (-.25,2.5) [map] (f) {$\scriptstyle f$};
        \node at (.25,2.5) [map] (g) {$\scriptstyle g$};
        \node at (-.25,3) (end1) {};
        \node at (.25,3) (end2) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=125,in=270] (e1);
        \draw [] (d1) to[out=55,in=305] (inverse-delta-r);
        \draw (e1) to[out=90,in=235] (inverse-delta-r);
        \draw (inverse-delta-r) to[out=125,in=270] (f);
        \draw (inverse-delta-r) to[out=55,in=270] (g);
        \draw (f) to (end1);
        \draw (g) to (end2);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \raisebox{20pt}{
        \begin{tikzpicture}
        \node at (0,0) (start) {};
        \node at (0,.5) [nabla] (d1) {};
        \node at (-.25,1) [map] (f e) {$\scriptstyle f e$};
        \node at (.25,1) [map] (g) {$\scriptstyle g$};
        \node at (-.25,1.5) (end1) {};
        \node at (.25,1.5) (end2) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=125,in=270] (f e);
        \draw [] (d1) to[out=55,in=270] (g);
        \draw (f e) to (end1);
        \draw (g) to (end2);
      \end{tikzpicture}
      }
      \,\raisebox{45pt}{.}
      \]
      The other equalities follow for the same reasons as in \ref{le:deltaefg}.

    \item[\ref{le:restfg}]Here, we start by using the fact all maps have a partial inverse,
      therefore we have:
      \[
        \restr{\Delta (f \* g) \inv{\Delta} } =\Delta (f \* g) \inv{\Delta} \Delta (\inv{f} \*
        \inv{g}) \inv{\Delta}.
     \]
     Now, we proceed with showing the rest of the equality via diagrams.

     \[
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.25,2.5) [map] (f) {$\scriptstyle f$};
        \node at (.25,2.5) [map] (g) {$\scriptstyle g$};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) [delta] (d2) {};
        \node at (-.5,1) [map] (f-inverse) {$\scriptstyle \inv{f}$};
        \node at (.5,1) [map] (g-inverse) {$\scriptstyle \inv{g}$};
        \node at (0, .5) [nabla] (n2) {};
        \node at (0,0) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (f);
        \draw [] (d1) to[out=305,in=90] (g);
        \draw (f) to[out=270,in=125] (n1);
        \draw (g) to[out=270,in=55] (n1);
        \draw (n1) to (d2);
        \draw [] (d2) to[out=235,in=90] (f-inverse);
        \draw [] (d2) to[out=305,in=90] (g-inverse);
        \draw (f-inverse) to[out=270,in=125] (n2);
        \draw (g-inverse) to[out=270,in=55] (n2);
        \draw (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (.25,2.5) [map] (f) {$\scriptstyle f$};
        \node at (-.25,2.5) [map] (g) {$\scriptstyle g$};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) [delta] (d2) {};
        \node at (.5,1) [map] (f-inverse) {$\scriptstyle \inv{f}$};
        \node at (-.5,1) [map] (g-inverse) {$\scriptstyle \inv{g}$};
        \node at (0, .5) [nabla] (n2) {};
        \node at (0,0) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (g);
        \draw [] (d1) to[out=305,in=90] (f);
        \draw (g) to[out=270,in=125] (n1);
        \draw (f) to[out=270,in=55] (n1);
        \draw (n1) to (d2);
        \draw [] (d2) to[out=235,in=90] (g-inverse);
        \draw [] (d2) to[out=305,in=90] (f-inverse);
        \draw (g-inverse) to[out=270,in=125] (n2);
        \draw (f-inverse) to[out=270,in=55] (n2);
        \draw (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (.25,2.5) [map] (f) {$\scriptstyle f$};
        \node at (-.25,2.5) [map] (g) {$\scriptstyle g$};
        \node at (-.25,2) [delta] (d2) {};
        \node at (.25, 1.5) [nabla] (n1) {};
        \node at (.5,1) [map] (f-inverse) {$\scriptstyle \inv{f}$};
        \node at (-.5,1) [map] (g-inverse) {$\scriptstyle \inv{g}$};
        \node at (0, .5) [nabla] (n2) {};
        \node at (0,0) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (g);
        \draw [] (d1) to[out=305,in=90] (f);
        \draw (g) to (d2);
        \draw (d2) to[out=305,in=125] (n1);
        \draw (f) to[out=270,in=55] (n1);
        \draw (n1) to (f-inverse);
        \draw [] (d2) to[out=235,in=90] (g-inverse);
        \draw (g-inverse) to[out=270,in=125] (n2);
        \draw (f-inverse) to[out=270,in=55] (n2);
        \draw (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.25,2.5) [delta] (d2) {};
        \node at (-.5,2) [map] (rest-g) {$\scriptstyle \rst{g}$};
        \node at (0,2) [map] (g) {$\scriptstyle g$};
        \node at (.75,1.5) [map] (rest-f) {$\scriptstyle \rst{f}$};
        \node at (0.1,1.5) [map] (f-inverse) {$\scriptstyle \inv{f}$};
        \node at (.25, 1) [nabla] (n1) {};
        \node at (0, .5) [nabla] (n2) {};
        \node at (0,0) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (d2);
        \draw [] (d1) to[out=305,in=90] (rest-f);
        \draw (d2) to[out=235,in=90] (rest-g);
        \draw (d2) to[out=305,in=90] (g);
        \draw (rest-g) to[out=270,in=125] (n2);
v        \draw (g) to (f-inverse);
        \draw (f-inverse) to[out=270,in=125] (n1);
        \draw (rest-f) to[out=270,in=55] (n1);
        \draw (n1) to[out=270,in=55] (n2);
        \draw (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
     \]
     \[
      \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.35,2.5) [delta] (d2) {};
        \node at (0,1.75) [map] (g-f-inverse) {$\scriptstyle g \inv{f}$};
        \node at (.35, 1) [nabla] (n1) {};
        \node at (0, .5) [nabla] (n2) {};
        \node at (0,0) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (d2);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw (d2) to[out=235,in=125] (n2);
        \draw (d2) to[out=305,in=90] (g-f-inverse);
        \draw (g-f-inverse) to[out=270,in=125] (n1);
        \draw (n1) to[out=270,in=55] (n2);
        \draw (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.35,2.5) [delta] (d2) {};
        \node at (.35, 2) [nabla] (n1) {};
        \node at (-.35,1.25) [map] (g-f-inverse) {$\scriptstyle g \inv{f}$};
        \node at (0, .5) [nabla] (n2) {};
        \node at (0,0) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (d2);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw (d2) to[out=305,in=125] (n1);
        \draw (d2) to[out=235,in=90] (g-f-inverse);
        \draw (g-f-inverse) to[out=270,in=125] (n2);
        \draw (n1) to[out=270,in=55] (n2);
        \draw (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) [delta] (d2) {};
        \node at (-.5,1) [map] (g-f-inverse) {$\scriptstyle g\inv{f}$};
        \node at (0, .5) [nabla] (n2) {};
        \node at (0,0) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=125] (n1);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw (n1) to (d2);
        \draw [] (d2) to[out=235,in=90] (g-f-inverse);
        \draw [] (d2) to[out=305,in=55] (n2);
        \draw (g-f-inverse) to[out=270,in=125] (n2);
        \draw (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \raisebox{15pt}{
       \begin{tikzpicture}
        \node at (0,2) (start) {};
        \node at (0,1.5) [delta] (d2) {};
        \node at (.5,1) [map] (g-f-inverse) {$\scriptstyle g\inv{f}$};
        \node at (0, .5) [nabla] (n2) {};
        \node at (0,0) (end) {};
        \draw [] (start) to (d2);
        \draw [] (d2) to[out=305,in=90] (g-f-inverse);
        \draw [] (d2) to[out=235,in=125] (n2);
        \draw (g-f-inverse) to[out=270,in=55] (n2);
        \draw (n2) to (end);
      \end{tikzpicture}
      }
      \,\raisebox{45pt}{.}
     \]
    \item[\ref{le:hge}]Beginning with the assumption that $\Delta (h \* g)\inv{\Delta}$ equals its
      restriction and by item \ref{le:restfg}, we have:
      \[
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.25,2.5) [map] (h1) {$\scriptstyle h$};
        \node at (.25,2.5) [map] (g) {$\scriptstyle g$};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) [map] (h) {$\scriptstyle h$};
        \node at (0,1) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (h1);
        \draw [] (d1) to[out=305,in=90] (g);
        \draw (h1) to[out=270,in=125] (n1);
        \draw (g) to[out=270,in=55] (n1);
        \draw (n1) to (h);
        \draw (h) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (.5,2.5) [map] (g-h-inverse) {$\scriptstyle g\inv{h}$};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) [map] (h) {$\scriptstyle h$};
        \node at (0,1) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=125] (n1);
        \draw [] (d1) to[out=305,in=90] (g-h-inverse);
        \draw (g-h-inverse) to[out=270,in=55] (n1);
        \draw (n1) to (h);
        \draw (h) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (.5,2.25) [map] (g-h-inverse) {$\scriptstyle g\inv{h}$};
        \node at (-.25,1.5) [map] (h1) {$\scriptstyle h$};
        \node at (.25,1.5) [map] (h2) {$\scriptstyle h$};
        \node at (0, 1) [nabla] (n1) {};
        \node at (0,.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (h1);
        \draw [] (d1) to[out=305,in=90] (g-h-inverse);
        \draw (g-h-inverse) to[out=270,in=90] (h2);
        \draw (h1) to[out=270,in=125] (n1);
        \draw (h2) to[out=270,in=55] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (.5,2.25) [map] (g-h-inverse) {$\scriptstyle g\rst{\inv{h}}$};
        \node at (-.25,1.5) [map] (h1) {$\scriptstyle h$};
        \node at (0, 1) [nabla] (n1) {};
        \node at (0,.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (h1);
        \draw [] (d1) to[out=305,in=90] (g-h-inverse);
        \draw (h1) to[out=270,in=125] (n1);
        \draw (g-h-inverse) to[out=270,in=55] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (.25,2.25) [map] (g) {$\scriptstyle g$};
        \node at (-.5,1.5) [map] (h1) {$\scriptstyle h\rst{\inv{h}}$};
        \node at (0, 1) [nabla] (n1) {};
        \node at (0,.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (h1);
        \draw [] (d1) to[out=305,in=90] (g);
        \draw (h1) to[out=270,in=125] (n1);
        \draw (g) to[out=270,in=55] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \raisebox{15pt}{
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (.25,2.5) [map] (g) {$\scriptstyle g$};
        \node at (-.25,2.5) [map] (h1) {$\scriptstyle h$};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (h1);
        \draw [] (d1) to[out=305,in=90] (g);
        \draw (h1) to[out=270,in=125] (n1);
        \draw (g) to[out=270,in=55] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      }
      \ \raisebox{45pt}{$=$}\
      \raisebox{15pt}{
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.25,2.5) [map] (g) {$\scriptstyle g$};
        \node at (.25,2.5) [map] (h1) {$\scriptstyle h$};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (h1);
        \draw [] (d1) to[out=235,in=90] (g);
        \draw (h1) to[out=270,in=55] (n1);
        \draw (g) to[out=270,in=125] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      }
      \,\raisebox{45pt}{.}
      \]

    \item[\ref{le:dfgisfg}] Our assumption is that:
      \[
        \begin{tikzpicture}
        \node at (0,1.5) (start) {};
        \node at (0,1) [delta] (d1) {};
        \node at (-.25,.5) [map] (g) {$\scriptstyle g$};
        \node at (-.25, 0) (end1) {};
        \node at (.25,0) (end2) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (end2);
        \draw [] (d1) to[out=235,in=90] (g);
        \draw (g) to (end1);
      \end{tikzpicture}
      \ \raisebox{20pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,1.5) (start) {};
        \node at (0,1) [delta] (d1) {};
        \node at (-.25,.5) [map] (f) {$\scriptstyle f$};
        \node at (-.25, 0) (end1) {};
        \node at (.25,0) (end2) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (end2);
        \draw [] (d1) to[out=235,in=90] (f);
        \draw (f) to (end1);
      \end{tikzpicture}
      \raisebox{20pt}{ and by co-commutativity, }
        \begin{tikzpicture}
        \node at (0,1.5) (start) {};
        \node at (0,1) [delta] (d1) {};
        \node at (.25,.5) [map] (g) {$\scriptstyle g$};
        \node at (.25, 0) (end1) {};
        \node at (-.25,0) (end2) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (end2);
        \draw [] (d1) to[out=305,in=90] (g);
        \draw (g) to (end1);
      \end{tikzpicture}
      \ \raisebox{20pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,1.5) (start) {};
        \node at (0,1) [delta] (d1) {};
        \node at (.25,.5) [map] (f) {$\scriptstyle f$};
        \node at (.25, 0) (end1) {};
        \node at (-.25,0) (end2) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (end2);
        \draw [] (d1) to[out=305,in=90] (f);
        \draw (f) to (end1);
      \end{tikzpicture}
      \,\raisebox{20pt}{.}
      \]
      Hence,
      \[
      \ \raisebox{45pt}{$f=$}\
      \raisebox{15pt}{
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.25,2.5) [map] (f1) {$\scriptstyle f$};
        \node at (.25,2.5) [map] (f2) {$\scriptstyle f$};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (f2);
        \draw [] (d1) to[out=235,in=90] (f1);
        \draw (f2) to[out=270,in=55] (n1);
        \draw (f1) to[out=270,in=125] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      }
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.25,2.5) [map] (f1) {$\scriptstyle f$};
        \node at (.25,2) [map] (f2) {$\scriptstyle f$};
        \node at (0, 1.5) [nabla] (n1) {};
        \node at (0,1) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (f2);
        \draw [] (d1) to[out=235,in=90] (f1);
        \draw (f2) to[out=270,in=55] (n1);
        \draw (f1) to[out=270,in=125] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.25,2.5) [map] (g1) {$\scriptstyle g$};
        \node at (.25,2) [map] (f2) {$\scriptstyle f$};
        \node at (0, 1.5) [nabla] (n1) {};
        \node at (0,1) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (f2);
        \draw [] (d1) to[out=235,in=90] (g1);
        \draw (f2) to[out=270,in=55] (n1);
        \draw (g1) to[out=270,in=125] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.25,2) [map] (g1) {$\scriptstyle g$};
        \node at (.25,2.5) [map] (f2) {$\scriptstyle f$};
        \node at (0, 1.5) [nabla] (n1) {};
        \node at (0,1) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (f2);
        \draw [] (d1) to[out=235,in=90] (g1);
        \draw (f2) to[out=270,in=55] (n1);
        \draw (g1) to[out=270,in=125] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.25,2) [map] (g1) {$\scriptstyle g$};
        \node at (.25,2.5) [map] (g2) {$\scriptstyle g$};
        \node at (0, 1.5) [nabla] (n1) {};
        \node at (0,1) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (g2);
        \draw [] (d1) to[out=235,in=90] (g1);
        \draw (g2) to[out=270,in=55] (n1);
        \draw (g1) to[out=270,in=125] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$= g.$}\
      \]
    \item[\ref{le:fgisfg}] Use the same diagrammatic argument as in item \ref{le:dfgisfg}.
  \end{enumerate}
\end{proof}

\begin{proposition}\label{prop:discrete_inverse_category_has_meets}
  A discrete inverse category has meets, where $f\meet g =\Delta (f\* g) \inv{\Delta}$.
\end{proposition}
\begin{proof}
  $f\meet g \le f$:
  \[
  \raisebox{45pt}{$f\meet g =$}
      \raisebox{15pt}{
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.25,2.5) [map] (f) {$\scriptstyle f$};
        \node at (.25,2.5) [map] (g) {$\scriptstyle g$};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (g);
        \draw [] (d1) to[out=235,in=90] (f);
        \draw (g) to[out=270,in=55] (n1);
        \draw (f) to[out=270,in=125] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      }
      \raisebox{45pt}{$=$}
      \raisebox{15pt}{
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.5,2.5) [map] (f) {$\scriptstyle f\rst{\inv{f}}$};
        \node at (.25,2.5) [map] (g) {$\scriptstyle g$};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (g);
        \draw [] (d1) to[out=235,in=90] (f);
        \draw (g) to[out=270,in=55] (n1);
        \draw (f) to[out=270,in=125] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      }
      \raisebox{45pt}{$=$}
      \raisebox{15pt}{
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.25,2.5) [map] (f) {$\scriptstyle f$};
        \node at (.5,2.5) [map] (g) {$\scriptstyle g\rst{\inv{f}}$};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (g);
        \draw [] (d1) to[out=235,in=90] (f);
        \draw (g) to[out=270,in=55] (n1);
        \draw (f) to[out=270,in=125] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      }
      \raisebox{45pt}{$=$}
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.25,2) [map] (f) {$\scriptstyle f$};
        \node at (.5,2.5) [map] (g) {$\scriptstyle g\inv{f}$};
        \node at (.25,2) [map] (f2) {$\scriptstyle f$};
        \node at (0, 1.5) [nabla] (n1) {};
        \node at (0,1) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (g);
        \draw [] (d1) to[out=235,in=90] (f);
        \draw (g) to (f2);
        \draw (f2) to[out=270,in=55] (n1);
        \draw (f) to[out=270,in=125] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (.5,2.5) [map] (g) {$\scriptstyle g\inv{f}$};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) [map] (f) {$\scriptstyle f$};
        \node at (0,1) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (g);
        \draw [] (d1) to[out=235,in=125] (n1);
        \draw (g) to[out=270,in=55] (n1);
        \draw (n1) to (f);
        \draw (f) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$= \rst{f\meet g}f.$}
  \]

  $f\meet f = f$:
  \begin{equation*}
    f\meet f = \Delta(f\* f) \inv{\Delta} =f \Delta \inv{\Delta} = f\Delta.
  \end{equation*}

  $h(f\meet g) = h f \meet h g$:
  \begin{align*}
    h(f\meet g) &= h \Delta(f\* g) \inv{\Delta}& \text{Definition of }\meet\\
    &= \Delta(h \* h) (f \* g) \inv{\Delta} &\Delta\text{ natural}\\
    &= \Delta(h f\* h g) \inv{\Delta} &\text{compose maps}\\
    &= h f \meet h g&\text{Definition of }\meet.
  \end{align*}
\end{proof}

\begin{example}[\pinj is a discrete inverse category]\label{ex:pinj_is_a_discrete_inverse_category}
  In the inverse category \pinj (see Example~\ref{ex:pinj_is_an_inverse_category}), suppose we add
  the tensor given by the Cartesian product of sets. In detail, this means:
  \begin{align*}
    A \* B &= \{(a,b)| a\in A, b\in B\}\\
    f \* g &= \{((a,c),(b,d)) | (a,b) \in f, (c,d) \in g\}\\
    1 & = \{*\}\text{, a single element set.}
  \end{align*}
  The symmetric monoid isomorphisms are:
    \begin{align*}
      \usl &: \{(*,a)\} \mapsto \{a\}
      &\usr &: \{(a,*)\} \mapsto \{a\}\\
      a_{\*} &: \{((a,b),c)\} \mapsto \{(a,(b,c))\}
      &c_{\*} &: \{(a,b)\} \mapsto \{(b,a)\}
    \end{align*}

  Define $\Delta_A = \{(a,(a,a)) | a\in A\}$. Then \pinj is a discrete inverse category with the
  inverse product of $\*$. The required properties of co-commutativity, co-associativity and
  exchange are immediately obvious. To show the Frobenius rule for $\Delta$, first note that
  $\inv{\Delta}$ is defined only on the elements of $A\*A$ which agree in the first and second
  co-ordinate. We show the upper triangle of the Frobenius diagram in
  detail. Equation~\ref{eq:delta_inverse_delta} shows the result of applying $\Delta$ followed by
  $\inv{\Delta}$.
  \begin{equation}
    \Delta(\inv{\Delta}(A\*A)) = \Delta(\{a | (a,a) \in A\*A\})
    = \{(a,a) | (a,a) \in A\* A\}.\label{eq:delta_inverse_delta}
  \end{equation}
  Applying $(\Delta \* 1)a_{\*}$ to $A\*A$ is shown in Equation~\ref{eq:delta_tensor_one}.
  \begin{equation}
    a_{\*}(\Delta\*1(A\*A)) = a_{\*}(\{((a,a),a') | (a,a') \in A\*A\} = \{(a,(a,a')) | (a,a') \in
    A\* A\}.\label{eq:delta_tensor_one}
  \end{equation}
  Finally, applying $1 \* \inv{\Delta}$ to the result of Equation~\ref{eq:delta_tensor_one} gives us
  Equation~\ref{eq:one_tensor_delta_inverse}.
  \begin{equation}
    (1\*\inv{\Delta})(\{(a,(a,a')) | (a,a') \in  A\* A\} = \{(a,a) | (a,a) \in A\* A\} \label{eq:one_tensor_delta_inverse}.
  \end{equation}
  Thus, we have $\inv{\Delta}\Delta = (\Delta \* 1) a_{\*} (1\*\inv{\Delta})$ and the Frobenius
  condition is satisfied.
\end{example}
% subsection discrete_inverse_categories (end)


\subsection{The inverse subcategory of a discrete restriction category } % (fold)
\label{sub:the_inverse_subcategory_of_a_discrete_restriction_category}

Given a discrete restriction category, one can pick out the maps which are partial isomorphisms.
Using results from Sub-Section~\ref{sub:discrete_inverse_categories} and from
Sub-Section~\ref{sub:discrete_restriction_categories}, we will show that these maps form a
subcategory which is a discrete inverse category.

\begin{proposition}\label{lem:inv_x_is_a_discrete_inverse_category}
  Given \X is a discrete restriction category, the partial isomorphisms of \X, together with the objects
  of \X form a sub-restriction category which is a discrete inverse category. For the restriction
  category $\X$, we denote this sub-category by \Invc{\X}.
\end{proposition}
\begin{proof}
  As shown in Lemma~\ref{lem:rcs_partial_monic_section_inverse_properties}, partial isomorphisms
  are closed under composition. The identity maps are in \Invc{\X} and restrictions of
  partial isomorphisms are also partial isomorphisms.

  The product on the discrete restriction category \X becomes the tensor product of the restriction
  category \Invc{\X}. Table~\ref{tab:structural_maps_for_the_tensor_in_invx} shows how each of the
  elements of the tensor are defined. Note that the last definition makes explicit use of the fact
  we are in a discrete restriction category and hence the $\Delta$ of \X possesses a partial
  inverse.

  \begin{table}[!htbp]
    \begin{center}
      \begin{tabular}{|ccc|}
        \hline
        \X & \Invc{\X} & Inverse map\\
        \hline\hline
        $\scriptstyle A\times B$ & $\scriptstyle A\* B$ &\\
        \hline
        $\scriptstyle \top$ & $\scriptstyle 1$ &\\
        \hline
        $\scriptstyle \pi_1:\top\times A \to A$ & $\scriptstyle \usl:1\* A \to A$ & $\scriptstyle \<!,1\>$\\
        \hline
        $\scriptstyle \pi_0:A\times\top \to A$ & $\scriptstyle \usr:A\*1 \to A$& $\scriptstyle \<1,!\>$\\
        \hline
        ${\scriptstyle a_{\X} = \<\pi_0 \pi_0,\<\pi_0 \pi_1,\pi_1\>\>:(A\times B)\times C \to A\times(B\times C)}$
          & $\scriptstyle a_{\*}:(A\*B)\*C \to A\*(B\*C)$
          & $\scriptstyle \<\<\pi_0, \pi_1 \pi_0\>,\pi_1 \pi_1\>$\\
        \hline
        $\scriptstyle c_{\X}=\< \pi_1,\pi_0\>:A\times B \to B\times A$ & $\scriptstyle c_{\*}:A\*B \to B \* A$ & $\scriptstyle \< \pi_1,\pi_0\>$\\
        \hline
        $\scriptstyle \Delta_{\X}:A\to A\times A$ & $\scriptstyle \Delta:A \to A\* A$ & $\scriptstyle  \inv{\Delta_{\X}} $\\
        \hline
      \end{tabular}

    \end{center}
    \caption{Structural maps for the tensor in \Invc{\X}}
    \label{tab:structural_maps_for_the_tensor_in_invx}
  \end{table}

  The monoid coherence diagrams follow directly from the characteristics of the product in
  \X. Similarly, $\Delta$ is total as it is total in $\X$. It remains to show co-commutativity,
  co-associativity and the Frobenius condition.

  Co-commutativity requires $\Delta c_{\*} = c_{\*}$. This means we need
  \[\Delta_{\X} \< \pi_1,\pi_0\> = \Delta_{\X}.\] Once again, this follows immediately from the
  definition of the restriction product.

  Co-associativity requires $\Delta (1 \* \Delta) = \Delta (\Delta \* 1) a_{\*}$. Expressing this
  in \X, is the requirement that
  \[
    \Delta_{\X} (1 \times \Delta_{\X}) =
      \Delta_{\X}(\Delta_{\X} \times 1) a_{\X}
  \]
  which follows from the properties of the restriction product.

  The semi-Frobenius requirement is two-fold:
  \begin{align}
    \inv{\Delta} \Delta &= (\Delta \*1) a_{\*}(1\*\inv{\Delta}) \label{eq:frobenius_righths_need_in_invx}\\
    \inv{\Delta} \Delta &= (1 \* \Delta) \inv{a_{\*}}(\inv{\Delta}\* 1), \label{eq:frobenius_lefths_need_in_invx}.
  \end{align}
  In \X, these become:
  \begin{align}
    \inv{\Delta_{\X}} \Delta_{\X}
      &= (\Delta_{\X} \times 1) \<\pi_0 \pi_0,\<\pi_0 \pi_1,\pi_1\>\>(1\times\inv{\Delta_{\X}})
      \label{eq:frobenius_righths_expressed_in_x}\\
    \inv{\Delta_{\X}}\Delta_{\X}
      &= (1 \times \Delta_{\X}) \<\<\pi_0, \pi_1 \pi_0\>,\pi_1 \pi_1\>(\inv{\Delta_{\X}}\times 1).
      \label{eq:frobenius_lefths_expressed_in_x}
  \end{align}
  We will give the details of the proof for Equation~\ref{eq:frobenius_righths_expressed_in_x}.
  Equation~\ref{eq:frobenius_lefths_expressed_in_x} may be proven similarly.

  Note first that $\Delta(1 \times !)$ (and $\Delta(!\times 1)$) is the identity. Second, we see
  that maps to a product of objects may be expressed as a pairing --- i.e.  if
  $f:A \to B \times B$, then $f = \<f(1\times !), f(!\times 1)\>$.

  Using this we see that the left hand side of Equation~\ref{eq:frobenius_righths_expressed_in_x}
  may be computed as follows:
  \begin{align*}
    \inv{\Delta_{\X}} \Delta_{\X}
      & = \<\inv{\Delta_{\X}} \Delta_{\X}(1\times !), \inv{\Delta_{\X}} \Delta_{\X} (! \times 1)\>\\
    &= \<\inv{\Delta_{\X}}, \inv{\Delta_{\X}} \>
  \end{align*}
  Similarly, removing the associativity maps, the right hand side of the same equation becomes:
  \begin{align*}
    (\Delta_{\X} \times 1) (1\times\inv{\Delta_{\X}}) &
      = \<(\Delta_{\X} \times 1) (1\times\inv{\Delta_{\X}}) (1\times !),
      (\Delta_{\X} \times 1) (1\times\inv{\Delta_{\X}}) (! \times 1 )\> \\
    &= \<(\Delta_{\X} \times 1) (1\times\inv{\Delta_{\X}}) (1\times ! ), \inv{\Delta_{\X}}\> \\
    &= \<(\Delta_{\X} \times 1) (1\times\inv{\Delta_{\X}}) (1 \times \Delta_{\X})(1\times !\times !), \inv{\Delta_{\X}}\> \\
    &= \<(\Delta_{\X} \times 1) (1\times\rst{\inv{\Delta_{\X}}}) (1\times !\times !), \inv{\Delta_{\X}}\> \\
    &= \<(\Delta_{\X} \times 1) \rst{1\times\inv{\Delta_{\X}}} (1\times !\times !), \inv{\Delta_{\X}}\> \\
    &= \<\rst{(\Delta_{\X} \times 1) (1\times\inv{\Delta_{\X}})}
      (\Delta_{\X} \times 1)(1\times !\times !), \inv{\Delta_{\X}}\> \\ %rfour
    &= \<\rst{(\Delta_{\X} \times 1) (1\times\inv{\Delta_{\X}})} (1\times !), \inv{\Delta_{\X}}\> \\
      &= \<\rst{(\Delta_{\X} \times 1) (1\times\inv{\Delta_{\X}})(! \times 1)} (1\times !),
      \inv{\Delta_{\X}}\> \\ % add total to right of rst
    &= \<\rst{\inv{\Delta_{\X}}} (1\times !), \inv{\Delta_{\X}}\> \\
    &= \<\inv{\Delta_{\X}}\Delta_{\X}(1\times !), \inv{\Delta_{\X}}\> \\
    &= \<\inv{\Delta_{\X}}, \inv{\Delta_{\X}}\>
  \end{align*}
  and therefore we see that the first equation for the Frobenius condition is satisfied. Thus,
  $Inv(\X)$ is a discrete inverse category.
\end{proof}
% subsection the_inverse_subcategory_of_a_graphic_cartesian_restriction_category (end)

% section inverse_products (end)


\input{chapters/section/cat-cfrob-example}


% chapter inverse_categories (end)
%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../phd-thesis"
%%% End:
