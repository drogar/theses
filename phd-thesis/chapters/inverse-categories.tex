%!TEX root = /Users/gilesb/UofC/thesis/phd-thesis/phd-thesis.tex
\chapter{Inverse categories and products} % (fold)
\label{cha:inverse_categories}

This chapter will introduce inverse categories. We first give
a few results about inverse categories and then proceed to show an inverse category which has
restriction products is a restriction pre-order.

Given this, the chapter then turns to focus on adding ``products'' to an inverse category, by which
we mean a structure that behaves in a product-like manner in the inverse category, which we call
\emph{inverse products}. These will be defined below in
Sub-Section~\ref{sub:inverse_product_definition}: Inverse products are given by a natural structure
on a tensor product which includes a diagonal but lacks projections. The diagonal map is required to
give a natural Frobenius structure on each object.

\section{Inverse categories}
\label{sec:inverse_categories}

\begin{definition}\label{def:inverse_category}
  A restriction category in which every map is a partial
  isomorphism is called an \emph{inverse category}.
\end{definition}

\begin{lemma}
  \label{lem:inverse_idempotents_are_restriction_idempotents}
  In an inverse category, all idempotents are restriction idempotents.
\end{lemma}
\begin{proof}
  Given an idempotent $e$,
  \[
    \rst{e} = e\inv{e} = e e \inv{e} = e \rst{e} = \rst{e e} e = \rst{e} e = e.
  \]
\end{proof}

\begin{lemma}\label{lem:inverse_categories_are_range_categories}
  An inverse category \X is a range category, where $\rg{f} = \inv{f}f = \rst{\inv{f}}$.
\end{lemma}
\begin{proof}
  \prepprooflist
  \setlist[enumerate,1]{leftmargin=1.5cm}
  \begin{enumerate}
    \item[\rrone] $\restr{\rg{f}} = \rst{\rst{\inv{f}}} = \rst{\inv{f}} = \rg{f}$;
    \item[\rrtwo] $f \rg{f} = f \rst{\inv{f}} = f \inv{f} f = \rst{f} f = f$;
    \item[\rrthree] $\wrg{f\rst{g}} = \rst{\inv{(f\rst{g})}} = \rst{\inv{\rst{g}} \inv{f}} =
      \rst{\rst{g} \inv{f}} =
      \rst{g} \rst{\inv{f}} = \rst{\inv{f}} \rst{g} =\rg{f} \rst{g}$;
    \item[\rrfour]  $\wrg{\rg{f}g} = \rst{\inv{(\rst{\inv{f}} g)}} =
      \rst{\inv{g}\inv{\rst{\inv{f}}}} = \rst{\inv{g} \rst{\inv{f}}} =
      \rst{\inv{g} \inv{f}} = \rst{\inv{(f g)}} = \wrg{f g}$
  \end{enumerate}
\end{proof}

The property of being an inverse category is
preserved by splitting.

\begin{lemma}\label{lem:the_idempotent_splitting_of_an_inverse_category_is_an_inverse_category}
  When \X is an inverse category, $\spl{E}{X}$ is an inverse category.
\end{lemma}
\begin{proof}
  The inverse of $f:(A,e_1)\to(B,e_2)$   in \spl{E}{\X} is $e_2\inv{f}e_1$ as
  \[
    \llbracket f \inv{f} \rrbracket = e_1 f e_2 e_2 \inv{f} e_1
    = e_1 e_1 f e_2 \inv{f} e_1
    = e_1 f  \inv{f} e_1
    = e_1 e_1 \restr{f} e_1
    = e_1 \restr{f}
    = \llbracket\restr{f}\rrbracket
  \]
  and
  \begin{multline*}
    \llbracket \inv{f} f\rrbracket=
    e_2 \inv{f} e_1 e_1 f e_2
    = e_2 \inv{f} e_1 f e_2 e_2
    = e_2 \inv{f} f  e_2\\
    = e_2 e_2 \restr{\inv{f}}  e_2
    = e_2 \restr{\inv{f}}
    = \llbracket\restr{\inv{f}}\rrbracket.
  \end{multline*}

\end{proof}

\begin{example}[\pinj is an inverse category]\label{ex:pinj_is_an_inverse_category}
  For any map $f$, $\inv{f} = \{(y,x) | (x,y) \in
  f\}$. Note that $\inv{f}$ is a map in $\pinj$ due to the two dual conditions on maps as given in
  Example~\ref{ex:category_pinj}.
\end{example}
\begin{example}[\Par is not an inverse category]\label{ex:par_is_not_an_inverse_category}
  \Par, while it is a restriction category, is not an inverse category. For example, let
  $A=\{1,2\},\ B=\{1\}$ and $f=\{(1,1),(2,1)\}$ in \Par. The restriction of $f$ is $\rst{f} =
  \{(1,1),(2,2)\} = 1_A$. There is no partial function $g:B\to A$ such that $f g = 1_A$.
\end{example}
\begin{example}\label{ex:partial_isos_are_inverse_category}
  Generally, let \R be a restriction category, and \X the sub-category of \R having the same objects
  as \R and only the partial isomorphisms as maps. Then, \X is an inverse category.
\end{example}
\begin{example}\label{ex:groupoid_is_inverse_category}
  A groupoid, which is a category in which every map is an isomorphism, is an inverse category. Note
  that all maps in the groupoid are total, hence the partial isomorphisms are all isomorphisms.
\end{example}
\begin{example}\label{ex:partial_map_monics_is_inverse_category}
  Given a category $\cP$, create a partial map category as in
  Section~\ref{sub:partial_map_categories}, where the stable system of monics, $\Mstab$, consists of
  all  isomorphisms in $\cP$. Then the partial isomorphisms are the maps of the form
  $\xymatrix @R-15pt @C-15pt{&A'\ar[dl]_{m} \ar[dr]^{m'}\\A&&B}$, where $m'\in\Mstab$. Its inverse is
  $\xymatrix @R-15pt @C-15pt{&A'\ar[dl]_{m'} \ar[dr]^{m}\\B&&A}$. The composition is
  $\xymatrix @R-15pt @C-15pt{&A\ar[dl]_{m^{-1}m} \ar[dr]^{m^{-1}m}\\A&&A}$ which is the
  identity. Taking just the partial isomorphisms gives us an inverse category.%TODO - What?? What
                                %are the partial isos?
\end{example}

\section{Inverse categories with restriction products} % (fold)
\label{sec:inverse_categories_with_restriction_products}
We start by showing that an inverse category with restriction products is a restriction pre-order
and thus, is a very restrictive notion.
\begin{proposition}\label{prop:an_inverse_category_with_products_is_a_restriction_preorder}
  Given an inverse category \X, if it has restriction products, it is a restriction pre-order as in
  Definition~\ref{def:compatible_maps}. That is,
  \[
    \xymatrix {
      A  \ar@<1ex>[r]^{f} \ar@<-1ex>[r]_{g} &B
    }
    \implies f \compatible g.
  \]
\end{proposition}
\begin{proof}
  Notice that $ \inv{\pi_1}  = \Delta \pi_1 \inv{\pi_1} =\Delta \restr{\pi_1} = \Delta$.
  This gives $\restr{\inv{\pi_1}} = 1$ and therefore $\pi_1$ (and similarly, $\pi_0$) is an
  isomorphism.

  Starting with the product map $\<f,g\>$,
  \[
    \infer={\restr{f}g = \restr{g}f}
    {\infer={\restr{f}g\Delta = \restr{g}f\Delta}
    {\infer={\restr{f}g\inv{\pi_1} = \restr{g}f\inv{\pi_0}}
    {\infer={\<f,g\>\pi_1 \inv{\pi_1} = \<f,g\>\pi_0 \inv{\pi_0}}
    {\<f,g\> = \<f,g\>}}}}
  \]
  which shows that $f$ and $g$ are compatible.
\end{proof}

\begin{corollary}
  \X\ is a inverse category with restriction products if and only if Total($\spl{r}{\X}$) is a meet pre-order.
\end{corollary}

\begin{proof}
  Total(\X), the subcategory of total maps on \X, has products and therefore every pair of parallel
  maps is compatible. As total compatible maps are equal, there is at most
  one map between any two objects. Hence, Total(\X) is a pre-order with the meet being the product.

  Similarly, from \cite{cockett2002:restcategories1} and \cite{cockettlack2004:restcategories3},
  Total($\spl{r}{\X}$) is an inverse category and has products and is therefore also a meet
  pre-order. This shows the ``only if'' side of the corollary.

  For the other direction, if Total($\spl{r}{\X}$) is a meet pre-order, define the product as the
  meet of the maps and the terminal object as the supremum of all maps.
\end{proof}

\begin{corollary}
  Every inverse category with restriction products is a full subcategory of a partial map category
  of a meet semi-lattice.
\end{corollary}


% section inverse_categories_with_restriction_products (end)
\section{Inverse products} % (fold)
\label{sec:inverse_products}

\subsection{Inverse product definition} % (fold)
\label{sub:inverse_product_definition}

%\begin{definition}\label{def:inverse_product_tensor}
%  Given a restriction category \X, a tensor $\*$ is called an \emph{inverse product tensor}
%   when:
% \begin{itemize}
%   \item $\*$ is a restriction functor, $\_ \* \_ : \X \times \X \to \X$.
%   \item $\*$ is a symmetric monoidal tensor satisfying the standard symmetric monoidal equations and
%     coherence diagrams hold (see, e.g., \cite{maclan97:categorieswrkmath}) and has the following
%     natural isomorphisms:
%     \begin{align*}
%       1 &: \boldsymbol{1}\to \X \\
%       \usl &: 1 \* A \xrightarrow{\cong} A
%       &\usr &: A \* 1 \xrightarrow{\cong} A\\
%       a_{\*} &: (A \* B) \* C \xrightarrow{\cong} A \* (B \* C)
%       &c_{\*} &: A \* B \xrightarrow{\cong} B \* A.
%     \end{align*}
%   \end{itemize}
%   Note that since all the coherence maps are isomorphisms, they are total.
% \end{definition}

\begin{definition}\label{def:inverse_product}
  An \emph{inverse product} on an inverse category \X is given by a symmetric tensor product, based
  on a restriction  bi-functor, $\_\*\_:\X\times\X \to \X$. The tensor makes \X a  symmetric
  monoidal category and there is a natural  ``semi-Frobenius'' diagonal map, $\Delta$ which is canonical.   If an
  inverse category has inverse products, it is called  a \emph{discrete inverse category}.


  The diagonal map $\Delta_A:A \to A\*A$ must be total and create a co-semigroup. It
  must satisfy the following diagrams:
 % in Figures~\ref{fig:inverse_product_cocommutativity},
 %  \ref{fig:inverse_product_coassociativity}, \ref{fig:inverse_product_exchange}, and
 %  \ref{fig:inverse_product_frobenius}.
  \[
    \xymatrix @!0 @C=90pt @R=35pt{
      A \ar[dr]_{\Delta} \ar[r]^{\Delta} &
      A \* A \ar[d]^{c_{\*}}\\
      & A \* A
    }\qquad
    \xymatrix @!0 @C=90pt @R=35pt{
      A \* A \ar[d]^{c_{\*}} \ar[r]^{\inv{\Delta}}  & A\\
      A \* A  \ar[ur]_{\inv{\Delta}}
    }
  \]
\begin{center}Cocommutative and Commutative\end{center}
%\caption*{Cocommutative}\label{fig:inverse_product_cocommutativity}

  \[
    \xymatrix @C=20pt @R=30pt{
      A \ar[rr]^{\Delta} \ar[d]_{\Delta} & &
      A \* A \ar[d]^{1\*\Delta}\\
      A\*A \ar[dr]_{\Delta \* 1}& &
      A \* ( A \* A) \\
      &   (A \* A) \* A \ar[ur]_{a_{\*}}
    }\qquad
    \xymatrix @C=20pt @R=30pt{
      A\*(A\*A) \ar[rr]^{1\*\idelta} \ar[d]_{\inv{a_\*}} && A\*A \ar[d]^{\idelta}\\
      (A\*A)\*A \ar[dr]_{\idelta\*1}&&A\\
     & A\*A \ar[ur]_{\idelta}
    }
  \]
\begin{center}Coassociative and Associative\end{center}
%\caption*{Coassociative and Associative}\label{fig:inverse_product_coassociativity}
If we define the map:
  \[
    \excs =  a_{\*}(1\*\inv{a_{\*}})(1\*(c_{\*}\*1))(1\* a_{\*})\inv{a_{\*}}): (A\*B)\*(C\*D) \to (A\*C) \* (B\*D).
  \]

  \[
    \xymatrix @C=25pt @R=35pt{
      A \* B \ar[dr]_{\Delta}
      \ar[rr]^{\Delta \* \Delta} && (A \* A) \* (B \* B) \ar[dl]^{\excs}\\
      &(A \* B) \* (A \* B)
    }
  \]
\begin{center}$\Delta$ is canonical\end{center}
%\caption{Exchange}\label{fig:inverse_product_exchange}

  \[
    \xymatrix @C=40pt @R=25pt{
      A \* A \ar[dd]_{(1\*\Delta) \inv{a_{\*}}} \ar[dr]^{\inv{\Delta}}
      \ar[rr]^{(\Delta \* 1) a_{\*}} & &
      A \* (A \* A) \ar[dd]^{1 \* \inv{\Delta}}\\
      & A \ar[dr]^{\Delta} & \\
      (A \* A) \* A \ar[rr]_{\inv{\Delta} \* 1} & &
      A \* A
    }
  \]
\begin{center}Frobenius\end{center}
%\caption{Frobenius}\label{fig:inverse_product_frobenius}


  Thus, $\Delta$ is a cocommutative, coassociative map which together with $\inv{\Delta}$ forms a
  special semi-Frobenius algebra. We use the prefix ``semi-'' as we are not requiring the unit laws
  of a Frobenius algebra as per Definition~\ref{def:frobeniusalgebra}.
\end{definition}

Note also, cocommutativity implies commutativity, i.e., that $c_{\*}\inv{\Delta} = \inv{\Delta}$.
One can see this as:
\begin{align*}
  \Delta(c_{\*}\inv{\Delta})
  &= (\Delta c_{\*})\inv{\Delta} = \Delta\inv{\Delta} = \rst{\Delta} \text{ and}\\
  (c_{\*}\inv{\Delta})\Delta
  & = (c_{\*}\inv{\Delta})(\Delta c_{\*}) = \rst{c_{\*}\inv{\Delta}}.
\end{align*}
This means that both $\inv{\Delta}$ and $c_{\*}\inv{\Delta}$ are partial inverses for $\Delta$
and are therefore equal.

Similarly, coassociativity implies associativity as one can show that
$(1\*\inv{\Delta})\inv{\Delta} =  \inv{a_{\*}}(\inv{\Delta}\* 1)\inv{\Delta}$ as
\begin{align*}
  \Delta(1\*\Delta)\inv{a_{\*}}(\inv{\Delta}\* 1)\inv{\Delta} &=
  \Delta(\Delta\*1)a_{\*}\inv{a_{\*}}(\inv{\Delta}\* 1)\inv{\Delta} \\
  & =\Delta(\Delta\*1)(\inv{\Delta}\* 1)\inv{\Delta} \\
  & =\Delta 1\inv{\Delta} = 1.
\end{align*}

\begin{example}[\pinj is a discrete inverse category]\label{ex:pinj_is_a_discrete_inverse_category}
  In the inverse category \pinj (see Example~\ref{ex:pinj_is_an_inverse_category}), suppose we add
  the tensor given by the Cartesian product of sets. In detail, this means:
  \begin{align*}
    A \* B &= \{(a,b)| a\in A, b\in B\}\\
    f \* g &= \{((a,c),(b,d)) | (a,b) \in f, (c,d) \in g\}\\
    1 & = \{*\}\text{, a single element set.}
  \end{align*}
  The symmetric monoid isomorphisms are:
    \begin{align*}
      \usl &: \{(*,a)\} \mapsto \{a\}
      &\usr &: \{(a,*)\} \mapsto \{a\}\\
      a_{\*} &: \{((a,b),c)\} \mapsto \{(a,(b,c))\}
      &c_{\*} &: \{(a,b)\} \mapsto \{(b,a)\}
    \end{align*}

  Define $\Delta_A = \{(a,(a,a)) | a\in A\}$. Then \pinj is a discrete inverse category with the
  inverse product of $\*$. The required properties of cocommutativity, coassociativity and
  exchange are immediately obvious. To show the Frobenius rule for $\Delta$, first note that
  $\inv{\Delta}$ is defined only on the elements of $A\*A$ which agree in the first and second
  co-ordinate. We show the upper triangle of the Frobenius diagram in
  detail. Equation~\ref{eq:delta_inverse_delta} shows the result of applying $\inv{\Delta}$ followed by
  $\Delta$.
  \begin{equation}
    \Delta(\inv{\Delta}(A\*A)) = \Delta(\{a | (a,a) \in A\*A\})
    = \{(a,a) | (a,a) \in A\* A\}.\label{eq:delta_inverse_delta}
  \end{equation}
  Applying $(\Delta \* 1)a_{\*}$ to $A\*A$ is shown in Equation~\ref{eq:delta_tensor_one}.
  \begin{equation}
    a_{\*}(\Delta\*1(A\*A)) = a_{\*}(\{((a,a),a') | (a,a') \in A\*A\} = \{(a,(a,a')) | (a,a') \in
    A\* A\}.\label{eq:delta_tensor_one}
  \end{equation}
  Finally, applying $1 \* \inv{\Delta}$ to the result of Equation~\ref{eq:delta_tensor_one} gives us
  Equation~\ref{eq:one_tensor_delta_inverse}.
  \begin{equation}
    (1\*\inv{\Delta})(\{(a,(a,a')) | (a,a') \in  A\* A\} = \{(a,a) | (a,a) \in A\* A\} \label{eq:one_tensor_delta_inverse}.
  \end{equation}
  Thus, we have $\inv{\Delta}\Delta = (\Delta \* 1) a_{\*} (1\*\inv{\Delta})$ and the Frobenius
  condition is satisfied.
\end{example}

\begin{example}[\topcatp does not give a discrete inverse category]\label{ex:topcat_does_not_give_a_discrete_inverse_category}
  Recalling \topcatp from Example~\ref{ex:restriction_category_top}, we know that the partial
  isomorphisms of \topcatp form an inverse category --- \Inv{\topcatp}. Additionally, \topcatp has a
  product, given by the standard Cartesian product. This product does work as a tensor in
  \Inv{\topcatp}, but $\Delta$  is not a map in \Inv{\topcat} and hence it is not a discrete inverse
  category.
\end{example}

Inverse products are extra structure on an inverse category, rather than a property. An example to
demonstrate this is given next.

\begin{example}[Inverse products are additional structure]
  \label{example:invprodisstructure}
\end{example}
Any discrete category (i.e., a category with only the identity arrows) is a trivial inverse
category. To create an inverse product on a discrete category, add a commutative, associative,
idempotent multiplication, with a unit.

Let $\D$ be the discrete category with four objects $a,b,c$ and $d$. Then, define
two different inverse product tensors, $\*$ and $\odot$, with $d$ the unit of each as shown in
Table~\ref{tab:two_different_inverse_products}.

\begin{table}[!htbp]
  \begin{center}
  \begin{tabular}{|l||c|c|c|c|}
    \hline
    $\*$&a&b&c&d\\ \hline \hline
    a&a&a&a&a\\ \hline
    b&a&b&\textbf{b}&b\\ \hline
    c&a&\textbf{b}&c&c \\ \hline
    d&a&b&c&d \\ \hline
  \end{tabular}
  \qquad
  \begin{tabular}{|l||c|c|c|c|} \hline
    $\odot$&a&b&c&d\\ \hline \hline
    a&a&a&a&a\\ \hline
    b&a&b&\textbf{a}&b\\ \hline
    c&a&\textbf{a}&c&c \\ \hline
    d&a&b&c&d \\ \hline
  \end{tabular}
  \end{center}
  \caption{Two different inverse products on the same category.}
  \label{tab:two_different_inverse_products}
\end{table}

As $\D$ is discrete, $\Delta$ is forced to be the identity. One can check easily that each of the
conditions for being an inverse product are satisfied by $\*$ and by $\odot$ with the trivial diagonal.

% subsection inverse_products (end)
\subsection{Diagrammatic Language} % (fold)
\label{sub:diagrammatic_language}

While it is certainly possible to prove results about inverse products using direct algebraic
manipulation, it is much more understandable to use circuits or string diagrams. See
\cite{selinger11:graphical} for a comparison of various graphical languages for monoidal categories.
As shown in
\cite{street-ross-1991-GTC-I}, diagrammatic reasoning is equivalent to reasoning algebraically for
symmetric monoidal categories.

In the diagrams, we will use the following representations:
\begin{itemize}
  \item $\Delta$ will be represented by an upward pointing triangle: \begin{tikzpicture}
      \path node [delta] at (0,0) {}; \end{tikzpicture}.
  \item $\inv{\Delta}$ by a downward triangle: \begin{tikzpicture}
      \path node [nabla] at (0,0) {}; \end{tikzpicture}.
  \item Maps by a rectangle with the name of the map inside: \begin{tikzpicture}
      \path node [map] at (0,0) {$\scriptstyle f$}; \end{tikzpicture}.
  \item Use of the tensor: \begin{tikzpicture}
      \node [style=tensor] (t1) at (0,0) {$\scriptstyle \*$}; \end{tikzpicture}.
  \item Unit introduction (often referred to as an $\eta$ map): \begin{tikzpicture}
      \path node [eta] at (0,0) {}; \end{tikzpicture}.
  \item Unit removal (often referred to as an $\epsilon$ map): \begin{tikzpicture}
      \path node [epsilon] at (0,0) {}; \end{tikzpicture}.
\end{itemize}
String diagrams in this thesis are to be read from top to bottom.

The axioms of Definition~\ref{def:inverse_product} then become:\\
\begin{tikzpicture}
  \begin{pgfonlayer}{nodelayer}
    \node [style=nothing] (0) at (-3.75, 5.5) {};
    \node [style=delta] (1) at (-3.75, 5) {};
    \node [style=nothing] (2) at (-4, 4.25) {};
    \node [style=nothing] (3) at (-3.5, 4.25) {};
    \node [style=nothing] (4) at (-3, 5) {$=$};
    \node [style=nothing] (5) at (-2.25, 5.5) {};
    \node [style=delta] (6) at (-2.25, 5) {};
    \node [style=nothing] (7) at (-2.5, 4.25) {};
    \node [style=nothing] (8) at (-2, 4.25) {};
    \node [style=nothing] (9) at (-3, 4) {Cocommutativity};
    \end{pgfonlayer}
    \begin{pgfonlayer}{edgelayer}
      \draw [] (0) to (1);
      \draw [] (1) to[out=305,in=90] (2);
      \draw [] (1) to[out=235,in=90] (3);
      \draw [] (5) to (6);
      \draw [] (6) to[out=235,in=90] (7);
      \draw [] (6) to[out=305,in=90] (8);
      \end{pgfonlayer}
\end{tikzpicture}
\hspace{15pt}
\begin{tikzpicture}
  \begin{pgfonlayer}{nodelayer}
    \node [style=nothing] (0) at (-3.75, 5.5) {};
    \node [style=delta] (1) at (-3.75, 5) {};
    \node [style=delta] (2) at (-4, 4.5) {};
    \node [style=nothing] (3a) at (-4.25, 4) {};
    \node [style=nothing] (3b) at (-3.75, 4) {};
    \node [style=nothing] (3c) at (-3.5, 4) {};
    \node [style=nothing] (4) at (-3, 5) {$=$};
    \node [style=nothing] (5) at (-2.25, 5.5) {};
    \node [style=delta] (6) at (-2.25, 5) {};
    \node [style=delta] (8) at (-2, 4.5) {};
    \node [style=nothing] (7a) at (-2.5, 4) {};
    \node [style=nothing] (7b) at (-2.25, 4) {};
    \node [style=nothing] (7c) at (-1.75, 4) {};
    \node [style=nothing] (9) at (-3, 3.5) {Coassociativity};
    \end{pgfonlayer}
    \begin{pgfonlayer}{edgelayer}
      \draw [] (0) to (1);
      \draw [] (1) to[out=305,in=90] (3c);
      \draw [] (1) to[out=235,in=90] (2);
      \draw [] (2) to[out=305,in=90] (3b);
      \draw [] (2) to[out=235,in=90] (3a);
      \draw [] (5) to (6);
      \draw [] (6) to[out=235,in=90] (7a);
      \draw [] (6) to[out=305,in=90] (8);
      \draw [] (8) to[out=305,in=90] (7c);
      \draw [] (8) to[out=235,in=90] (7b);
      \end{pgfonlayer}
\end{tikzpicture}
\hspace{15pt}
\begin{tikzpicture}
  \begin{pgfonlayer}{nodelayer}
    \node [style=nothing] (s0) at (-2.5, 3.75) {};
    \node [style=delta] (d0) at (-2.5, 3.25) {};
    \node [style=nothing] (e01) at (-3, 2.5) {};
    \node [style=nothing] (e02) at (-2, 2.5) {};
    \node [style=nothing] (7) at (-1.75, 3.25) {$=$};
    \node [style=nothing] (s2) at (-.625, 4.25) {};
    \node [style=tensor] (t1) at (-.625, 3.875) {$\scriptstyle \*$};
    \node [style=delta] (d1) at (-1, 3.25) {};
    \node [style=delta] (d2) at (-0.25, 3.25) {};
    \node [style=tensor] (t2) at (-1.125, 2.5) {$\scriptstyle \*$};
    \node [style=nothing] (e2) at (-1.125, 2) {};
    \node [style=tensor] (t3) at (-.125, 2.5) {$\scriptstyle \*$};
    \node [style=nothing] (e3) at (-0.125, 2) {};
    \node [style=nothing] (16) at (-1.5, 1.5) {Exchange};
    \end{pgfonlayer}
    \begin{pgfonlayer}{edgelayer}
      \draw [] (s0) to (d0);
      \draw [] (d0) to[out=235,in=90] (e01);
      \draw [] (d0) to[out=305,in=90] (e02);
      \draw [] (s2) to (t1);
      \draw [] (t1) to[out=235,in=90] (d1);
      \draw [] (t1) to[out=305,in=90] (d2);
      \draw [] (d1) to[out=235,in=90] (t2);
      \draw [] (d1) to[out=305,in=135] (t3);
      \draw [] (d2) to[out=235,in=45] (t2);
      \draw [] (d2) to[out=305,in=90] (t3);
      \draw [] (t2) to (e2);
      \draw [] (t3) to (e3);
      \end{pgfonlayer}
\end{tikzpicture}
\hspace{15pt}
\begin{tikzpicture}
  \begin{pgfonlayer}{nodelayer}
    \node [style=nothing] (0) at (-2.75, 3.75) {};
    \node [style=nothing] (1) at (-2.25, 3.75) {};
    \node [style=delta] (2) at (-2.75, 3.25) {};
    \node [style=nothing] (3) at (-2.75, 2) {};
    \node [style=nothing] (4) at (-2.25, 2) {};
    \node [style=nothing] (5) at (-0.5, 3) {$=$};
    \node [style=nothing] (6) at (0, 3.75) {};
    \node [style=nothing] (7) at (0.5, 3.75) {};
    \node [style=delta] (8) at (-1, 2.5) {};
    \node [style=delta] (9) at (0.5, 3.25) {};
    \node [style=nothing] (10) at (0, 2) {};
    \node [style=nothing] (11) at (0.5, 2) {};
    \node [style=nabla] (12) at (-2.25, 2.5) {};
    \node [style=nabla] (13) at (-1, 3.25) {};
    \node [style=nabla] (14) at (0, 2.5) {};
    \node [style=nothing] (15) at (-1.75, 3) {$=$};
    \node [style=nothing] (16) at (-1.25, 3.75) {};
    \node [style=nothing] (17) at (-0.75, 3.75) {};
    \node [style=nothing] (18) at (-1.25, 2) {};
    \node [style=nothing] (19) at (-0.75, 2) {};
    \node [style=nothing] (20) at (-1, 1.75) {Frobenius};
    \end{pgfonlayer}
    \begin{pgfonlayer}{edgelayer}
      \draw [] (0) to (2);
      \draw [] (2) to (3);
      \draw [] (7) to (9);
      \draw [] (9) to (11);
      \draw (1) to (12);
      \draw (2) to (12);
      \draw (12) to (4);
      \draw (13) to (8);
      \draw (16) to (13);
      \draw (17) to (13);
      \draw (8) to (18);
      \draw (8) to (19);
      \draw (14) to (10);
      \draw (9) to (14);
      \draw (6) to (14);
      \end{pgfonlayer}
\end{tikzpicture}
% end sub:diagrammatic_language


\subsection{Properties of discrete inverse categories} % (fold)
\label{sub:discrete_inverse_categories}

We now present some properties of discrete inverse categories.

\begin{lemma}\label{lem:properties_of_delta_and_tensor_in_a_discrete_inverse_category}
  In a discrete inverse category \X with the inverse product $\*$ and $\Delta$, where
  $e=\rst{e}$ is a restriction idempotent and $f,g,h$ are arrows in \X, the following are true:
  \begin{enumerate}[{(}i{)}]
    \item{}$e=\Delta (e\* 1) \inv{\Delta}$.\label{le:eisde1}
    \item{}$e\Delta (f \* g) = \Delta (e f \* g) $ (and $= \Delta (f \* e g) $ and
      $ = \Delta (e f \* e g)$.)\label{le:deltaefg}
    \item{}$ (f \* g e) \inv{\Delta} =(f \* g) \inv{\Delta} e $ (and $= (f e\* g) \inv{\Delta}$ and
      $ = (f e\* g e)\inv{\Delta}$.)\label{le:efginvdelta}
    \item{}$\restr{\Delta (f \* g) \inv{\Delta}} =
       \Delta(1\* g \inv{f})\inv{\Delta}$ when $f,g:A\to A$. \label{le:restfg}
    \item{} If $\Delta (h \* g) \inv{\Delta} = \restr{\Delta (h \* g) \inv{\Delta}}$ then
      $(\Delta (h \* g) \inv{\Delta}) h = \Delta (h \* g) \inv{\Delta}$.\label{le:hge}
    \item{}$\Delta (f\*1) = \Delta (g\*1) \implies f = g$.\label{le:dfgisfg}
    \item{}$(f\*1) = (g\*1) \implies f = g$.\label{le:fgisfg}
  \end{enumerate}
\end{lemma}
\begin{proof}
  \prepprooflist
  \begin{enumerate}[{(}i{)}]
    \item[\ref{le:eisde1}]
      \[
      \raisebox{30pt}{
      \begin{tikzpicture}
        \node at (0,1) (start) {};
        \node at (0,.5) [map] (e) {$\scriptstyle e$};
        \node at (0,0) (end) {};
        \draw (start) to (e);
        \draw (e) to (end);
      \end{tikzpicture}
      }
      \ \raisebox{45pt}{$=$}\
      \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (0,2) [nabla] (n1) {};
        \node at (0,1.5) [delta] (d2) {};
        \node at (0,1) [nabla] (n2) {};
        \node at (0,.5) [map] (e) {$\scriptstyle e$};
        \node at (0,0) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=125] (n1);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw [] (n1) to (d2);
        \draw [] (d2) to[out=235,in=125] (n2);
        \draw [] (d2) to[out=305,in=55] (n2);
        \draw [] (n2) to (e);
        \draw (e) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (-.25,2) [delta] (d2) {};
        \node at (.25,1.5) [nabla] (n1) {};
        \node at (0,1) [nabla] (n2) {};
        \node at (0,.5) [map] (e) {$\scriptstyle e$};
        \node at (0,0) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (d2);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw [] (d2) to[out=305,in=125] (n1);
        \draw [] (d2) to[out=235,in=125] (n2);
        \draw [] (n1) to[out=270,in=55] (n2);
        \draw [] (n2) to (e);
        \draw (e) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (-.25,2) [delta] (d2) {};
        \node at (-.5,1.5) [map] (e1) {$\scriptstyle e$};
        \node at (0,1.5) [map] (e2) {$\scriptstyle e$};
        \node at (.5,1.5) [map] (e3) {$\scriptstyle e$};
        \node at (.25,1) [nabla] (n1) {};
        \node at (0,.5) [nabla] (n2) {};
        \node at (0,0) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (d2);
        \draw [] (d1) to[out=305,in=90] (e3);
        \draw [] (d2) to[out=305,in=90] (e2);
        \draw [] (d2) to[out=235,in=90] (e1);
        \draw (e1) to[out=270,in=125] (n2);
        \draw (e2) to[out=270,in=125] (n1);
        \draw (e3) to[out=270,in=55] (n1);
        \draw [] (n1) to[out=270,in=55] (n2);
        \draw [] (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (-.25,2) [map] (e1) {$\scriptstyle e$};
        \node at (-.25,1.5) [delta] (d2) {};
        \node at (.25,1) [nabla] (n1) {};
        \node at (.25,.5) [map] (e2) {$\scriptstyle e$};
        \node at (0,0) [nabla] (n2) {};
        \node at (0,-.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (e1);
        \draw (e1) to (d2);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw [] (d2) to[out=305,in=125] (n1);
        \draw [] (d2) to[out=235,in=125] (n2);
        \draw (n1) to (e2);
        \draw [] (e2) to[out=270,in=55] (n2);
        \draw [] (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (-.25,2) [map] (e1) {$\scriptstyle e$};
        \node at (0,1.5) [nabla] (n1) {};
        \node at (0,1) [delta] (d2) {};
        \node at (.25,.5) [map] (e2) {$\scriptstyle e$};
        \node at (0,0) [nabla] (n2) {};
        \node at (0,-.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (e1);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw (e1) to[out=270,in=125] (n1);
        \draw [] (n1) to (d2);
        \draw [] (d2) to[out=305,in=90] (e2);
        \draw [] (d2) to[out=235,in=125] (n2);
        \draw (e2) to[out=270,in=55] (n2);
        \draw [] (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (-.25,2) [map] (e1) {$\scriptstyle e$};
        \node at (0,1.5) [nabla] (n1) {};
        \node at (0,1) [delta] (d2) {};
        \node at (-.25,.5) [map] (e2) {$\scriptstyle e$};
        \node at (0,0) [nabla] (n2) {};
        \node at (0,-.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (e1);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw (e1) to[out=270,in=125] (n1);
        \draw [] (n1) to (d2);
        \draw [] (d2) to[out=235,in=90] (e2);
        \draw [] (d2) to[out=305,in=55] (n2);
        \draw (e2) to[out=270,in=125] (n2);
        \draw [] (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \]
      \[
      \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (-.25,2) [map] (e1) {$\scriptstyle e$};
        \node at (-.25,1.5) [delta] (d2) {};
        \node at (.25,1) [nabla] (n1) {};
        \node at (-.25,.5) [map] (e2) {$\scriptstyle e$};
        \node at (0,0) [nabla] (n2) {};
        \node at (0,-.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (e1);
        \draw (e1) to (d2);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw [] (d2) to[out=305,in=125] (n1);
        \draw [] (d2) to[out=235,in=90] (e2);
        \draw (n1) to[out=270,in=55] (n2);
        \draw [] (e2) to[out=270,in=125] (n2);
        \draw [] (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \begin{tikzpicture}
        \node at (0,2.5) (start) {};
        \node at (0,2) [delta] (d1) {};
        \node at (-.25,1.5) [delta] (d2) {};
        \node at (-.5,1) [map] (e2) {$\scriptstyle e$};
        \node at (0,1) [map] (e1) {$\scriptstyle e$};
        \node at (.25,.5) [nabla] (n1) {};
        \node at (-.25,0) [map] (e3) {$\scriptstyle e$};
        \node at (0,-0.5) [nabla] (n2) {};
        \node at (0,-1) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (d2);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw [] (d2) to[out=305,in=90] (e1);
        \draw [] (d2) to[out=235,in=90] (e2);
        \draw (e1) to[out=270,in=125] (n1);
        \draw (e2) to (e3);
        \draw (n1) to[out=270,in=55] (n2);
        \draw [] (e3) to[out=270,in=125] (n2);
        \draw [] (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}
      \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (-.25,2) [map] (e1) {$\scriptstyle e$};
        \node at (-.25,1.5) [delta] (d2) {};
        \node at (.25,1) [nabla] (n1) {};
        \node at (0,.5) [nabla] (n2) {};
        \node at (0,0) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (e1);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw (e1) to[out=270,in=90] (d2);
        \draw [] (d2) to[out=235,in=125] (n2);
        \draw [] (d2) to[out=305,in=125] (n1);
        \draw (n1) to[out=270,in=55] (n2);
        \draw [] (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}
      \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (-.25,2) [map] (e1) {$\scriptstyle e$};
        \node at (0,1.5) [nabla] (n1) {};
        \node at (0,1) [delta] (d2) {};
        \node at (0,.5) [nabla] (n2) {};
        \node at (0,0) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (e1);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw (e1) to[out=270,in=125] (n1);
        \draw [] (n1) to (d2);
        \draw [] (d2) to[out=235,in=125] (n2);
        \draw [] (d2) to[out=305,in=55] (n2);
        \draw [] (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \raisebox{15pt}{
        \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (-.25,2) [map] (e1) {$\scriptstyle e$};
        \node at (0,1.5) [nabla] (n1) {};
        \node at (0,1) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (e1);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw (e1) to[out=270,in=125] (n1);
        \draw [] (n1) to (end);
      \end{tikzpicture}
      }
      \,\raisebox{45pt}{.}
      \]
    \item[\ref{le:deltaefg}]This equality uses the previous equality, the commutativity
      of restriction idempotents (\rtwo) and the identity $\Delta\rst{\inv{\Delta}} = \Delta$.
      \[
      \raisebox{10pt}{
      \begin{tikzpicture}
        \node at (0,2) (start) {};
        \node at (0,1.5) [map] (e) {$\scriptstyle e$};
        \node at (0,1) [delta] (d2) {};
        \node at (-.25,.5) [map] (f) {$\scriptstyle f$};
        \node at (.25,.5) [map] (g) {$\scriptstyle g$};
        \node at (-.25,0) (end1) {};
        \node at (.25,0) (end2) {};
        \draw (start) to (e);
        \draw (e) to (d2);
        \draw (d2) to[out=235,in=90] (f);
        \draw (d2) to[out=305,in=90] (g);
        \draw (f) to (end1);
        \draw (g) to (end2);
      \end{tikzpicture}
      }
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (-.25,2) [map] (e1) {$\scriptstyle e$};
        \node at (0,1.5) [nabla] (n1) {};
        \node at (0,1) [delta] (d2) {};
        \node at (-.25,.5) [map] (f) {$\scriptstyle f$};
        \node at (.25,.5) [map] (g) {$\scriptstyle g$};
        \node at (-.25,0) (end1) {};
        \node at (.25,0) (end2) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (e1);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw (e1) to[out=270,in=125] (n1);
        \draw [] (n1) to (d2);
        \draw (d2) to[out=235,in=90] (f);
        \draw (d2) to[out=305,in=90] (g);
        \draw (f) to (end1);
        \draw (g) to (end2);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (-.25,2) [map] (e1) {$\scriptstyle e$};
        \node at (0,1.25) [map] (inverse-delta-r) {$\scriptstyle \rst{\inv{\Delta}}$};
        \node at (-.25,.5) [map] (f) {$\scriptstyle f$};
        \node at (.25,.5) [map] (g) {$\scriptstyle g$};
        \node at (-.25,0) (end1) {};
        \node at (.25,0) (end2) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (e1);
        \draw [] (d1) to[out=305,in=55] (inverse-delta-r);
        \draw (e1) to[out=270,in=125] (inverse-delta-r);
        \draw (inverse-delta-r) to[out=235,in=90] (f);
        \draw (inverse-delta-r) to[out=305,in=90] (g);
        \draw (f) to (end1);
        \draw (g) to (end2);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (0,2) [map] (inverse-delta-r) {$\scriptstyle \rst{\inv{\Delta}}$};
        \node at (-.25,1.25) [map] (e1) {$\scriptstyle e$};
        \node at (-.25,.5) [map] (f) {$\scriptstyle f$};
        \node at (.25,.5) [map] (g) {$\scriptstyle g$};
        \node at (-.25,0) (end1) {};
        \node at (.25,0) (end2) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=125] (inverse-delta-r);
        \draw [] (d1) to[out=305,in=55] (inverse-delta-r);
        \draw (inverse-delta-r) to[out=235,in=90] (e1);
        \draw (e1) to (f);
        \draw (inverse-delta-r) to[out=305,in=90] (g);
        \draw (f) to (end1);
        \draw (g) to (end2);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \raisebox{20pt}{
        \begin{tikzpicture}
        \node at (0,1.5) (start) {};
        \node at (0,1) [delta] (d1) {};
        \node at (-.25,.5) [map] (f_e) {$\scriptstyle e f$};
        \node at (.25,.5) [map] (g) {$\scriptstyle g$};
        \node at (-.25,0) (end1) {};
        \node at (.25,0) (end2) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (f_e);
        \draw [] (d1) to[out=305,in=90] (g);
        \draw (f_e) to (end1);
        \draw (g) to (end2);
      \end{tikzpicture}
      }
      \,\raisebox{45pt}{.}
      \]
      The second equality ($e\Delta(f\*g) = \Delta(f\*e g)$) follows by cocommutativity. The third
      equality,  ($e\Delta(f\*g) = \Delta(e f\*e g)$) follows by naturality of $\Delta$.

    \item[\ref{le:efginvdelta}] As in \ref{le:deltaefg}, details are only given for the
      first equality. This proof is obtained by reversing the diagrams of \ref{le:deltaefg}.
      \[
      \raisebox{10pt}{
      \begin{tikzpicture}
        \node at (0,0) (start) {};
        \node at (0,.5) [map] (e) {$\scriptstyle e$};
        \node at (0,1) [nabla] (d2) {};
        \node at (-.25,1.5) [map] (f) {$\scriptstyle f$};
        \node at (.25,1.5) [map] (g) {$\scriptstyle g$};
        \node at (-.25,2) (end1) {};
        \node at (.25,2) (end2) {};
        \draw (start) to (e);
        \draw (e) to (d2);
        \draw (d2) to[out=125,in=270] (f);
        \draw (d2) to[out=55,in=270] (g);
        \draw (f) to (end1);
        \draw (g) to (end2);
      \end{tikzpicture}
      }
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,0) (start) {};
        \node at (0,.5) [nabla] (d1) {};
        \node at (-.25,1) [map] (e1) {$\scriptstyle e$};
        \node at (0,1.5) [delta] (n1) {};
        \node at (0,2) [nabla] (d2) {};
        \node at (-.25,2.5) [map] (f) {$\scriptstyle f$};
        \node at (.25,2.5) [map] (g) {$\scriptstyle g$};
        \node at (-.25,3) (end1) {};
        \node at (.25,3) (end2) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=125,in=270] (e1);
        \draw [] (d1) to[out=55,in=305] (n1);
        \draw (e1) to[out=90,in=235] (n1);
        \draw [] (n1) to (d2);
        \draw (d2) to[out=125,in=270] (f);
        \draw (d2) to[out=55,in=270] (g);
        \draw (f) to (end1);
        \draw (g) to (end2);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,0) (start) {};
        \node at (0,.5) [nabla] (d1) {};
        \node at (-.25,1) [map] (e1) {$\scriptstyle e$};
        \node at (0,1.75) [map] (inverse-delta-r) {$\scriptstyle \rst{\inv{\Delta}}$};
        \node at (-.25,2.5) [map] (f) {$\scriptstyle f$};
        \node at (.25,2.5) [map] (g) {$\scriptstyle g$};
        \node at (-.25,3) (end1) {};
        \node at (.25,3) (end2) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=125,in=270] (e1);
        \draw [] (d1) to[out=55,in=305] (inverse-delta-r);
        \draw (e1) to[out=90,in=235] (inverse-delta-r);
        \draw (inverse-delta-r) to[out=125,in=270] (f);
        \draw (inverse-delta-r) to[out=55,in=270] (g);
        \draw (f) to (end1);
        \draw (g) to (end2);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \raisebox{20pt}{
        \begin{tikzpicture}
        \node at (0,0) (start) {};
        \node at (0,.5) [nabla] (d1) {};
        \node at (-.25,1) [map] (f e) {$\scriptstyle f e$};
        \node at (.25,1) [map] (g) {$\scriptstyle g$};
        \node at (-.25,1.5) (end1) {};
        \node at (.25,1.5) (end2) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=125,in=270] (f e);
        \draw [] (d1) to[out=55,in=270] (g);
        \draw (f e) to (end1);
        \draw (g) to (end2);
      \end{tikzpicture}
      }
      \,\raisebox{45pt}{.}
      \]
      The other equalities follow for the same reasons as in \ref{le:deltaefg}.

    \item[\ref{le:restfg}]Here, we start by using the fact all maps have a partial inverse,
      therefore we have:
      \[
        \restr{\Delta (f \* g) \inv{\Delta} } =\Delta (f \* g) \inv{\Delta} \Delta (\inv{f} \*
        \inv{g}) \inv{\Delta}.
     \]
     Now, we proceed with showing the rest of the equality via diagrams.

     \[
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.25,2.5) [map] (f) {$\scriptstyle f$};
        \node at (.25,2.5) [map] (g) {$\scriptstyle g$};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) [delta] (d2) {};
        \node at (-.5,1) [map] (f-inverse) {$\scriptstyle \inv{f}$};
        \node at (.5,1) [map] (g-inverse) {$\scriptstyle \inv{g}$};
        \node at (0, .5) [nabla] (n2) {};
        \node at (0,0) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (f);
        \draw [] (d1) to[out=305,in=90] (g);
        \draw (f) to[out=270,in=125] (n1);
        \draw (g) to[out=270,in=55] (n1);
        \draw (n1) to (d2);
        \draw [] (d2) to[out=235,in=90] (f-inverse);
        \draw [] (d2) to[out=305,in=90] (g-inverse);
        \draw (f-inverse) to[out=270,in=125] (n2);
        \draw (g-inverse) to[out=270,in=55] (n2);
        \draw (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (.25,2.5) [map] (f) {$\scriptstyle f$};
        \node at (-.25,2.5) [map] (g) {$\scriptstyle g$};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) [delta] (d2) {};
        \node at (.5,1) [map] (f-inverse) {$\scriptstyle \inv{f}$};
        \node at (-.5,1) [map] (g-inverse) {$\scriptstyle \inv{g}$};
        \node at (0, .5) [nabla] (n2) {};
        \node at (0,0) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (g);
        \draw [] (d1) to[out=305,in=90] (f);
        \draw (g) to[out=270,in=125] (n1);
        \draw (f) to[out=270,in=55] (n1);
        \draw (n1) to (d2);
        \draw [] (d2) to[out=235,in=90] (g-inverse);
        \draw [] (d2) to[out=305,in=90] (f-inverse);
        \draw (g-inverse) to[out=270,in=125] (n2);
        \draw (f-inverse) to[out=270,in=55] (n2);
        \draw (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (.25,2.5) [map] (f) {$\scriptstyle f$};
        \node at (-.25,2.5) [map] (g) {$\scriptstyle g$};
        \node at (-.25,2) [delta] (d2) {};
        \node at (.25, 1.5) [nabla] (n1) {};
        \node at (.5,1) [map] (f-inverse) {$\scriptstyle \inv{f}$};
        \node at (-.5,1) [map] (g-inverse) {$\scriptstyle \inv{g}$};
        \node at (0, .5) [nabla] (n2) {};
        \node at (0,0) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (g);
        \draw [] (d1) to[out=305,in=90] (f);
        \draw (g) to (d2);
        \draw (d2) to[out=305,in=125] (n1);
        \draw (f) to[out=270,in=55] (n1);
        \draw (n1) to (f-inverse);
        \draw [] (d2) to[out=235,in=90] (g-inverse);
        \draw (g-inverse) to[out=270,in=125] (n2);
        \draw (f-inverse) to[out=270,in=55] (n2);
        \draw (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.25,2.5) [delta] (d2) {};
        \node at (-.5,2) [map] (rest-g) {$\scriptstyle \rst{g}$};
        \node at (0,2) [map] (g) {$\scriptstyle g$};
        \node at (.75,1.5) [map] (rest-f) {$\scriptstyle \rst{f}$};
        \node at (0.1,1.5) [map] (f-inverse) {$\scriptstyle \inv{f}$};
        \node at (.25, 1) [nabla] (n1) {};
        \node at (0, .5) [nabla] (n2) {};
        \node at (0,0) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (d2);
        \draw [] (d1) to[out=305,in=90] (rest-f);
        \draw (d2) to[out=235,in=90] (rest-g);
        \draw (d2) to[out=305,in=90] (g);
        \draw (rest-g) to[out=270,in=125] (n2);
v        \draw (g) to (f-inverse);
        \draw (f-inverse) to[out=270,in=125] (n1);
        \draw (rest-f) to[out=270,in=55] (n1);
        \draw (n1) to[out=270,in=55] (n2);
        \draw (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
     \]
     \[
      \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.35,2.5) [delta] (d2) {};
        \node at (0,1.75) [map] (g-f-inverse) {$\scriptstyle g \inv{f}$};
        \node at (.35, 1) [nabla] (n1) {};
        \node at (0, .5) [nabla] (n2) {};
        \node at (0,0) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (d2);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw (d2) to[out=235,in=125] (n2);
        \draw (d2) to[out=305,in=90] (g-f-inverse);
        \draw (g-f-inverse) to[out=270,in=125] (n1);
        \draw (n1) to[out=270,in=55] (n2);
        \draw (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.35,2.5) [delta] (d2) {};
        \node at (.35, 2) [nabla] (n1) {};
        \node at (-.35,1.25) [map] (g-f-inverse) {$\scriptstyle g \inv{f}$};
        \node at (0, .5) [nabla] (n2) {};
        \node at (0,0) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (d2);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw (d2) to[out=305,in=125] (n1);
        \draw (d2) to[out=235,in=90] (g-f-inverse);
        \draw (g-f-inverse) to[out=270,in=125] (n2);
        \draw (n1) to[out=270,in=55] (n2);
        \draw (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,3) (start) {};
        \node at (0,2.5) [delta] (d1) {};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) [delta] (d2) {};
        \node at (-.5,1) [map] (g-f-inverse) {$\scriptstyle g\inv{f}$};
        \node at (0, .5) [nabla] (n2) {};
        \node at (0,0) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=125] (n1);
        \draw [] (d1) to[out=305,in=55] (n1);
        \draw (n1) to (d2);
        \draw [] (d2) to[out=235,in=90] (g-f-inverse);
        \draw [] (d2) to[out=305,in=55] (n2);
        \draw (g-f-inverse) to[out=270,in=125] (n2);
        \draw (n2) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \raisebox{15pt}{
       \begin{tikzpicture}
        \node at (0,2) (start) {};
        \node at (0,1.5) [delta] (d2) {};
        \node at (.5,1) [map] (g-f-inverse) {$\scriptstyle g\inv{f}$};
        \node at (0, .5) [nabla] (n2) {};
        \node at (0,0) (end) {};
        \draw [] (start) to (d2);
        \draw [] (d2) to[out=305,in=90] (g-f-inverse);
        \draw [] (d2) to[out=235,in=125] (n2);
        \draw (g-f-inverse) to[out=270,in=55] (n2);
        \draw (n2) to (end);
      \end{tikzpicture}
      }
      \,\raisebox{45pt}{.}
     \]
    \item[\ref{le:hge}]Beginning with the assumption that $\Delta (h \* g)\inv{\Delta}$ equals its
      restriction and by item \ref{le:restfg}, we have:
      \[
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.25,2.5) [map] (h1) {$\scriptstyle h$};
        \node at (.25,2.5) [map] (g) {$\scriptstyle g$};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) [map] (h) {$\scriptstyle h$};
        \node at (0,1) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (h1);
        \draw [] (d1) to[out=305,in=90] (g);
        \draw (h1) to[out=270,in=125] (n1);
        \draw (g) to[out=270,in=55] (n1);
        \draw (n1) to (h);
        \draw (h) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (.5,2.5) [map] (g-h-inverse) {$\scriptstyle g\inv{h}$};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) [map] (h) {$\scriptstyle h$};
        \node at (0,1) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=125] (n1);
        \draw [] (d1) to[out=305,in=90] (g-h-inverse);
        \draw (g-h-inverse) to[out=270,in=55] (n1);
        \draw (n1) to (h);
        \draw (h) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (.5,2.25) [map] (g-h-inverse) {$\scriptstyle g\inv{h}$};
        \node at (-.25,1.5) [map] (h1) {$\scriptstyle h$};
        \node at (.25,1.5) [map] (h2) {$\scriptstyle h$};
        \node at (0, 1) [nabla] (n1) {};
        \node at (0,.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (h1);
        \draw [] (d1) to[out=305,in=90] (g-h-inverse);
        \draw (g-h-inverse) to[out=270,in=90] (h2);
        \draw (h1) to[out=270,in=125] (n1);
        \draw (h2) to[out=270,in=55] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (.5,2.25) [map] (g-h-inverse) {$\scriptstyle g\rst{\inv{h}}$};
        \node at (-.25,1.5) [map] (h1) {$\scriptstyle h$};
        \node at (0, 1) [nabla] (n1) {};
        \node at (0,.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (h1);
        \draw [] (d1) to[out=305,in=90] (g-h-inverse);
        \draw (h1) to[out=270,in=125] (n1);
        \draw (g-h-inverse) to[out=270,in=55] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (.25,2.25) [map] (g) {$\scriptstyle g$};
        \node at (-.5,1.5) [map] (h1) {$\scriptstyle h\rst{\inv{h}}$};
        \node at (0, 1) [nabla] (n1) {};
        \node at (0,.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (h1);
        \draw [] (d1) to[out=305,in=90] (g);
        \draw (h1) to[out=270,in=125] (n1);
        \draw (g) to[out=270,in=55] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \raisebox{15pt}{
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (.25,2.5) [map] (g) {$\scriptstyle g$};
        \node at (-.25,2.5) [map] (h1) {$\scriptstyle h$};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (h1);
        \draw [] (d1) to[out=305,in=90] (g);
        \draw (h1) to[out=270,in=125] (n1);
        \draw (g) to[out=270,in=55] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      }
      \ \raisebox{45pt}{$=$}\
      \raisebox{15pt}{
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.25,2.5) [map] (g) {$\scriptstyle g$};
        \node at (.25,2.5) [map] (h1) {$\scriptstyle h$};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (h1);
        \draw [] (d1) to[out=235,in=90] (g);
        \draw (h1) to[out=270,in=55] (n1);
        \draw (g) to[out=270,in=125] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      }
      \,\raisebox{45pt}{.}
      \]

    \item[\ref{le:dfgisfg}] Our assumption is that:
      \[
        \begin{tikzpicture}
        \node at (0,1.5) (start) {};
        \node at (0,1) [delta] (d1) {};
        \node at (-.25,.5) [map] (g) {$\scriptstyle g$};
        \node at (-.25, 0) (end1) {};
        \node at (.25,0) (end2) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (end2);
        \draw [] (d1) to[out=235,in=90] (g);
        \draw (g) to (end1);
      \end{tikzpicture}
      \ \raisebox{20pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,1.5) (start) {};
        \node at (0,1) [delta] (d1) {};
        \node at (-.25,.5) [map] (f) {$\scriptstyle f$};
        \node at (-.25, 0) (end1) {};
        \node at (.25,0) (end2) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (end2);
        \draw [] (d1) to[out=235,in=90] (f);
        \draw (f) to (end1);
      \end{tikzpicture}
      \raisebox{20pt}{ and by cocommutativity, }
        \begin{tikzpicture}
        \node at (0,1.5) (start) {};
        \node at (0,1) [delta] (d1) {};
        \node at (.25,.5) [map] (g) {$\scriptstyle g$};
        \node at (.25, 0) (end1) {};
        \node at (-.25,0) (end2) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (end2);
        \draw [] (d1) to[out=305,in=90] (g);
        \draw (g) to (end1);
      \end{tikzpicture}
      \ \raisebox{20pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,1.5) (start) {};
        \node at (0,1) [delta] (d1) {};
        \node at (.25,.5) [map] (f) {$\scriptstyle f$};
        \node at (.25, 0) (end1) {};
        \node at (-.25,0) (end2) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=235,in=90] (end2);
        \draw [] (d1) to[out=305,in=90] (f);
        \draw (f) to (end1);
      \end{tikzpicture}
      \,\raisebox{20pt}{.}
      \]
      Hence,
      \[
      \ \raisebox{45pt}{$f=$}\
      \raisebox{15pt}{
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.25,2.5) [map] (f1) {$\scriptstyle f$};
        \node at (.25,2.5) [map] (f2) {$\scriptstyle f$};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (f2);
        \draw [] (d1) to[out=235,in=90] (f1);
        \draw (f2) to[out=270,in=55] (n1);
        \draw (f1) to[out=270,in=125] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      }
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.25,2.5) [map] (f1) {$\scriptstyle f$};
        \node at (.25,2) [map] (f2) {$\scriptstyle f$};
        \node at (0, 1.5) [nabla] (n1) {};
        \node at (0,1) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (f2);
        \draw [] (d1) to[out=235,in=90] (f1);
        \draw (f2) to[out=270,in=55] (n1);
        \draw (f1) to[out=270,in=125] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.25,2.5) [map] (g1) {$\scriptstyle g$};
        \node at (.25,2) [map] (f2) {$\scriptstyle f$};
        \node at (0, 1.5) [nabla] (n1) {};
        \node at (0,1) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (f2);
        \draw [] (d1) to[out=235,in=90] (g1);
        \draw (f2) to[out=270,in=55] (n1);
        \draw (g1) to[out=270,in=125] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.25,2) [map] (g1) {$\scriptstyle g$};
        \node at (.25,2.5) [map] (f2) {$\scriptstyle f$};
        \node at (0, 1.5) [nabla] (n1) {};
        \node at (0,1) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (f2);
        \draw [] (d1) to[out=235,in=90] (g1);
        \draw (f2) to[out=270,in=55] (n1);
        \draw (g1) to[out=270,in=125] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.25,2) [map] (g1) {$\scriptstyle g$};
        \node at (.25,2.5) [map] (g2) {$\scriptstyle g$};
        \node at (0, 1.5) [nabla] (n1) {};
        \node at (0,1) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (g2);
        \draw [] (d1) to[out=235,in=90] (g1);
        \draw (g2) to[out=270,in=55] (n1);
        \draw (g1) to[out=270,in=125] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$= g.$}\
      \]
    \item[\ref{le:fgisfg}] Use the same diagrammatic argument as in item \ref{le:dfgisfg}.
  \end{enumerate}
\end{proof}

\begin{proposition}\label{prop:discrete_inverse_category_has_meets}
  A discrete inverse category has meets, where $f\meet g =\Delta (f\* g) \inv{\Delta}$.
\end{proposition}
\begin{proof}
  $f\meet g \le f$:
  \[
  \raisebox{45pt}{$f\meet g =$}
      \raisebox{15pt}{
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.25,2.5) [map] (f) {$\scriptstyle f$};
        \node at (.25,2.5) [map] (g) {$\scriptstyle g$};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (g);
        \draw [] (d1) to[out=235,in=90] (f);
        \draw (g) to[out=270,in=55] (n1);
        \draw (f) to[out=270,in=125] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      }
      \raisebox{45pt}{$=$}
      \raisebox{15pt}{
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.5,2.5) [map] (f) {$\scriptstyle f\rst{\inv{f}}$};
        \node at (.25,2.5) [map] (g) {$\scriptstyle g$};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (g);
        \draw [] (d1) to[out=235,in=90] (f);
        \draw (g) to[out=270,in=55] (n1);
        \draw (f) to[out=270,in=125] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      }
      \raisebox{45pt}{$=$}
      \raisebox{15pt}{
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.25,2.5) [map] (f) {$\scriptstyle f$};
        \node at (.5,2.5) [map] (g) {$\scriptstyle g\rst{\inv{f}}$};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (g);
        \draw [] (d1) to[out=235,in=90] (f);
        \draw (g) to[out=270,in=55] (n1);
        \draw (f) to[out=270,in=125] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      }
      \raisebox{45pt}{$=$}
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (-.25,2) [map] (f) {$\scriptstyle f$};
        \node at (.5,2.5) [map] (g) {$\scriptstyle g\inv{f}$};
        \node at (.25,2) [map] (f2) {$\scriptstyle f$};
        \node at (0, 1.5) [nabla] (n1) {};
        \node at (0,1) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (g);
        \draw [] (d1) to[out=235,in=90] (f);
        \draw (g) to (f2);
        \draw (f2) to[out=270,in=55] (n1);
        \draw (f) to[out=270,in=125] (n1);
        \draw (n1) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$=$}
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (0,3) [delta] (d1) {};
        \node at (.5,2.5) [map] (g) {$\scriptstyle g\inv{f}$};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) [map] (f) {$\scriptstyle f$};
        \node at (0,1) (end) {};
        \draw [] (start) to (d1);
        \draw [] (d1) to[out=305,in=90] (g);
        \draw [] (d1) to[out=235,in=125] (n1);
        \draw (g) to[out=270,in=55] (n1);
        \draw (n1) to (f);
        \draw (f) to (end);
      \end{tikzpicture}
      \ \raisebox{45pt}{$= \rst{f\meet g}f.$}
  \]

  $f\meet f = f$:
  \begin{equation*}
    f\meet f = \Delta(f\* f) \inv{\Delta} =f \Delta \inv{\Delta} = f\Delta.
  \end{equation*}

  $h(f\meet g) = h f \meet h g$:
  \begin{align*}
    h(f\meet g) &= h \Delta(f\* g) \inv{\Delta}& \text{Definition of }\meet\\
    &= \Delta(h \* h) (f \* g) \inv{\Delta} &\Delta\text{ natural}\\
    &= \Delta(h f\* h g) \inv{\Delta} &\text{compose maps}\\
    &= h f \meet h g&\text{Definition of }\meet.
  \end{align*}
\end{proof}

% subsection discrete_inverse_categories (end)


\subsection{The inverse subcategory of a discrete restriction category } % (fold)
\label{sub:the_inverse_subcategory_of_a_discrete_restriction_category}

Given a discrete restriction category, one can pick out the maps which are partial isomorphisms.
Using results from Sub-Section~\ref{sub:discrete_inverse_categories} and from
Section~\ref{sub:discrete_restriction_categories}, we will show that these maps form a
subcategory which is a discrete inverse category.

\begin{proposition}\label{lem:inv_x_is_a_discrete_inverse_category}
  Given \X is a discrete restriction category, the partial isomorphisms of \X, together with the objects
  of \X form a sub-restriction category which is a discrete inverse category. For the restriction
  category $\X$, we denote this sub-category by \Invc{\X}.
\end{proposition}
\begin{proof}
  As shown in Lemma~\ref{lem:rcs_partial_monic_section_inverse_properties}, partial isomorphisms
  are closed under composition. The identity maps are in \Invc{\X} and restrictions of
  partial isomorphisms are also partial isomorphisms.

  The product on the discrete restriction category \X becomes the tensor product of the restriction
  category \Invc{\X}. Table~\ref{tab:structural_maps_for_the_tensor_in_invx} shows how each of the
  elements of the tensor are defined. Note that the last definition makes explicit use of the fact
  we are in a discrete restriction category and hence the $\Delta$ of \X possesses a partial
  inverse.

  \begin{table}[!htbp]
    \begin{center}
      \begin{tabular}{|ccc|}
        \hline
        \X & \Invc{\X} & Inverse map\\
        \hline\hline
        $\scriptstyle A\times B$ & $\scriptstyle A\* B$ &\\
        \hline
        $\scriptstyle \top$ & $\scriptstyle 1$ &\\
        \hline
        $\scriptstyle \pi_1:\top\times A \to A$ & $\scriptstyle \usl:1\* A \to A$ & $\scriptstyle \<!,1\>$\\
        \hline
        $\scriptstyle \pi_0:A\times\top \to A$ & $\scriptstyle \usr:A\*1 \to A$& $\scriptstyle \<1,!\>$\\
        \hline
        ${\scriptstyle a_{\X} = \<\pi_0 \pi_0,\<\pi_0 \pi_1,\pi_1\>\>:(A\times B)\times C \to A\times(B\times C)}$
          & $\scriptstyle a_{\*}:(A\*B)\*C \to A\*(B\*C)$
          & $\scriptstyle \<\<\pi_0, \pi_1 \pi_0\>,\pi_1 \pi_1\>$\\
        \hline
        $\scriptstyle c_{\X}=\< \pi_1,\pi_0\>:A\times B \to B\times A$ & $\scriptstyle c_{\*}:A\*B \to B \* A$ & $\scriptstyle \< \pi_1,\pi_0\>$\\
        \hline
        $\scriptstyle \Delta_{\X}:A\to A\times A$ & $\scriptstyle \Delta:A \to A\* A$ & $\scriptstyle  \inv{\Delta_{\X}} $\\
        \hline
      \end{tabular}

    \end{center}
    \caption{Structural maps for the tensor in \Invc{\X}}
    \label{tab:structural_maps_for_the_tensor_in_invx}
  \end{table}

  The monoid coherence diagrams follow directly from the characteristics of the product in
  \X. Similarly, $\Delta$ is total as it is total in $\X$. It remains to show cocommutativity,
  coassociativity and the Frobenius condition.

  Cocommutativity requires $\Delta c_{\*} = c_{\*}$. We have
  \[
     \Delta_{\X} \< \pi_1,\pi_0\> = \<\Delta_{\X}\pi_1, \Delta_{\X}\pi_0\> = \<1,1\> =
     \Delta_{\X},
  \]
  giving us the required cocommutativity.

  Coassociativity requires $\Delta (1 \* \Delta) = \Delta (\Delta \* 1) a_{\*}$. Expressing this
  in \X, it is the requirement that
  \[
    \Delta_{\X} (1 \times \Delta_{\X}) =
      \Delta_{\X}(\Delta_{\X} \times 1) a_{\X}.
  \]
  Recalling that $f\times g \pi_0 = \pi_0 f$ and $f\times g \pi_1 = \pi_1 g$, we have:
  \begin{align*}
    \Delta_{\X}(\Delta_{\X} \times 1) a_{\X} &=\Delta_{\X}(\Delta_{\X} \times 1)
    \<\pi_0\pi_0,\<\pi_0\pi_1,\pi_1\>\>\\
    &= \<\Delta_{\X}(\Delta_{\X} \times 1)\pi_0\pi_0,\<\Delta_{\X}(\Delta_{\X} \times 1)\pi_0\pi_1,\Delta_{\X}(\Delta_{\X} \times 1)\pi_1\>\>\\
    &= \<\Delta_{\X}\pi_0\Delta_{\X}\pi_0,\<\Delta_{\X}\pi_0\Delta_{\X}\pi_1,\Delta_{\X}\pi_1 1\>\>\\
    &= \<1, \<1,1\>\> = \Delta_{\X}(1\times\Delta_{\X})
  \end{align*}
  and shows that we have coassociativity.

  The semi-Frobenius requirement is two-fold:
  \begin{align}
    \inv{\Delta} \Delta &= (\Delta \*1) a_{\*}(1\*\inv{\Delta}), \label{eq:frobenius_righths_need_in_invx}\\
    \inv{\Delta} \Delta &= (1 \* \Delta) \inv{a_{\*}}(\inv{\Delta}\* 1) \label{eq:frobenius_lefths_need_in_invx}.
  \end{align}
  In \X, these become:
  \begin{align}
    \inv{\Delta_{\X}} \Delta_{\X}
      &= (\Delta_{\X} \times 1) \<\pi_0 \pi_0,\<\pi_0 \pi_1,\pi_1\>\>(1\times\inv{\Delta_{\X}})
      \label{eq:frobenius_righths_expressed_in_x}\\
    \inv{\Delta_{\X}}\Delta_{\X}
      &= (1 \times \Delta_{\X}) \<\<\pi_0, \pi_1 \pi_0\>,\pi_1 \pi_1\>(\inv{\Delta_{\X}}\times 1).
      \label{eq:frobenius_lefths_expressed_in_x}
  \end{align}
  We will give the details of the proof for Equation~\ref{eq:frobenius_righths_expressed_in_x}.
  Equation~\ref{eq:frobenius_lefths_expressed_in_x} may be proven similarly.

  Note first that $\Delta(1 \times !)$ (and $\Delta(!\times 1)$) is the identity. Second, we see
  that maps to a product of objects may be expressed as a pairing --- i.e.  if
  $f:A \to B \times B$, then $f = \<f(1\times !), f(!\times 1)\>$.

  Using this we see that the left hand side of Equation~\ref{eq:frobenius_righths_expressed_in_x}
  may be computed as follows:
  \begin{align*}
    \inv{\Delta_{\X}} \Delta_{\X}
      & = \<\inv{\Delta_{\X}} \Delta_{\X}(1\times !), \inv{\Delta_{\X}} \Delta_{\X} (! \times 1)\>\\
    &= \<\inv{\Delta_{\X}}, \inv{\Delta_{\X}} \>
  \end{align*}
  Similarly, removing the associativity maps, the right hand side of the same equation becomes:
  \begin{align*}
    (\Delta_{\X} \times 1) (1\times\inv{\Delta_{\X}}) &
      = \<(\Delta_{\X} \times 1) (1\times\inv{\Delta_{\X}}) (1\times !),
      (\Delta_{\X} \times 1) (1\times\inv{\Delta_{\X}}) (! \times 1 )\> \\
    &= \<(\Delta_{\X} \times 1) (1\times\inv{\Delta_{\X}}) (1\times ! ), \inv{\Delta_{\X}}\> \\
    &= \<(\Delta_{\X} \times 1) (1\times\inv{\Delta_{\X}}) (1 \times \Delta_{\X})(1\times !\times !), \inv{\Delta_{\X}}\> \\
    &= \<(\Delta_{\X} \times 1) (1\times\rst{\inv{\Delta_{\X}}}) (1\times !\times !), \inv{\Delta_{\X}}\> \\
    &= \<(\Delta_{\X} \times 1) \rst{1\times\inv{\Delta_{\X}}} (1\times !\times !), \inv{\Delta_{\X}}\> \\
    &= \<\rst{(\Delta_{\X} \times 1) (1\times\inv{\Delta_{\X}})}
      (\Delta_{\X} \times 1)(1\times !\times !), \inv{\Delta_{\X}}\> \\ %rfour
    &= \<\rst{(\Delta_{\X} \times 1) (1\times\inv{\Delta_{\X}})} (1\times !), \inv{\Delta_{\X}}\> \\
      &= \<\rst{(\Delta_{\X} \times 1) (1\times\inv{\Delta_{\X}})(! \times 1)} (1\times !),
      \inv{\Delta_{\X}}\> \\ % add total to right of rst
    &= \<\rst{\inv{\Delta_{\X}}} (1\times !), \inv{\Delta_{\X}}\> \\
    &= \<\inv{\Delta_{\X}}\Delta_{\X}(1\times !), \inv{\Delta_{\X}}\> \\
    &= \<\inv{\Delta_{\X}}, \inv{\Delta_{\X}}\>
  \end{align*}
  and therefore we see that the first equation for the Frobenius condition is satisfied. Thus,
  $Inv(\X)$ is a discrete inverse category.
\end{proof}
% subsection the_inverse_subcategory_of_a_graphic_cartesian_restriction_category (end)

% section inverse_products (end)
\section{The ``slice'' construction on a discrete inverse category}
\label{sec:slice_construction_on_discrete_inverse_category}

In an inverse category, we will be interested in a specific class of maps, which will be used in
future chapters to connect discrete inverse categories to discrete Cartesian restriction
categories. Throughout this section, we will assume $\X$ is a discrete inverse category.

In a discrete inverse category, suppose we are given a map $h:A\*B \to A\*C$. We define
$\dmap{h}:A\*B \to A\*C$ as the composite $(\Delta\*1)(1\*h)(\inv{\Delta}\*1)$. We want to consider
those maps where $h = \dmap{h}$. In our graphical language, this means
\[
      \ \raisebox{27pt}{$h=$ }
        \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (.6,3.5) (start2) {};
        \node at (0,3) [delta] (d1) {};
        \node at (.35,2.5) [map] (h) {$\scriptstyle h$};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) (end) {};
        \node at (.6,1.5) (end2) {};
        \draw [] (start) to (d1);
        \draw [] (start2) to[out=270,in=55] (h);
        \draw [] (d1) to[out=305,in=125] (h);
        \draw [] (d1) to[out=235,in=125] (n1);
        \draw (h) to[out=235,in=55] (n1);
        \draw (h) to[out=305,in=90] (end2);
        \draw (n1) to (end);
      \end{tikzpicture}
      \ \raisebox{27pt}{.}
\]
\begin{lemma}\label{lem:delta_nabla_is_idempotent}
  For any map $h$ in a discrete inverse category, $\dmap{\dmap{h}} = \dmap{h}$.
\end{lemma}
\begin{proof}
  \[
    \raisebox{42pt}{$\dmap{\dmap{h}}=$ }
    \begin{tikzpicture}
      \node at (0,3) (start) {};
      \node at (.6,3) (start2) {};
      \node at (0,2.5) [delta] (d1) {};
      \node at (.25,2) [delta] (d2) {};
      \node at (.5,1.5) [map] (h) {$\scriptstyle \,h\,$};
      \node at (.25, 1) [nabla] (n2) {};
      \node at (0, .5) [nabla] (n1) {};
      \node at (0,0) (end) {};
      \node at (.6,0) (end2) {};
      \draw [] (start) to (d1);
      \draw [] (start2) to[out=270,in=55] (h);
      \draw [] (d1) to[out=305,in=90] (d2);
      \draw [] (d1) to[out=235,in=125] (n1);
      \draw [] (d2) to[out=305,in=125] (h);
      \draw [] (d2) to[out=235,in=125] (n2);
      \draw (h) to[out=235,in=55] (n2);
      \draw (h) to[out=305,in=90] (end2);
      \draw (n2) to[out=270,in=55] (n1);
      \draw (n1) to (end);
    \end{tikzpicture}
    \ \raisebox{42pt}{$=$}\
    \begin{tikzpicture}
      \node at (0,3) (start) {};
      \node at (.6,3) (start2) {};
      \node at (0,2.5) [delta] (d1) {};
      \node at (-.25,2) [delta] (d2) {};
      \node at (.35,1.5) [map] (h) {$\scriptstyle \,h\,$};
      \node at (-.25, 1) [nabla] (n2) {};
      \node at (0, .5) [nabla] (n1) {};
      \node at (0,0) (end) {};
      \node at (.6,0) (end2) {};
      \draw [] (start) to (d1);
      \draw [] (start2) to[out=270,in=55] (h);
      \draw [] (d1) to[out=235,in=90] (d2);
      \draw [] (d1) to[out=305,in=125] (h);
      \draw [] (d2) to[out=305,in=55] (n2);
      \draw [] (d2) to[out=235,in=125] (n2);
      \draw (h) to[out=235,in=55] (n1);
      \draw (h) to[out=305,in=90] (end2);
      \draw (n2) to[out=270,in=125] (n1);
      \draw (n1) to (end);
    \end{tikzpicture}
    \ \raisebox{42pt}{=}
    \raisebox{15pt}{
      \begin{tikzpicture}
        \node at (0,3.5) (start) {};
        \node at (.6,3.5) (start2) {};
        \node at (0,3) [delta] (d1) {};
        \node at (.35,2.5) [map] (h) {$\scriptstyle h$};
        \node at (0, 2) [nabla] (n1) {};
        \node at (0,1.5) (end) {};
        \node at (.6,1.5) (end2) {};
        \draw [] (start) to (d1);
        \draw [] (start2) to[out=270,in=55] (h);
        \draw [] (d1) to[out=305,in=125] (h);
        \draw [] (d1) to[out=235,in=125] (n1);
        \draw (h) to[out=235,in=55] (n1);
        \draw (h) to[out=305,in=90] (end2);
        \draw (n1) to (end);
      \end{tikzpicture}
      }
      \raisebox{42pt}{$ = \dmap{h}$.}
  \]
\end{proof}
\begin{lemma}\label{lem:delta_nabla_maps_are_closed}
  In a discrete inverse category \X, for a fixed object $A$, the set of maps $h:A\*Y\to A\* Z$ where
  $h=\dmap{h}$ is:
  \begin{enumerate}[{(}i{)}]
  \item Closed under partial inversion;\label{lemitem:delta_nabla_1}
  \item closed under composition;\label{lemitem:delta_nabla_2}
  \item contains all maps of the form $1\*k$ where $k:Y\to Z$;\label{lemitem:delta_nabla_3}
  \item contains $\Delta:A\*B \to A\*B\*A\*B$.\label{lemitem:delta_nabla_4}
  \end{enumerate}
\end{lemma}
\begin{proof}
  For~\ref{lemitem:delta_nabla_1}, if $h = \dmap{h}$, then
  \begin{multline*}
    \inv{h} = \inv{((\Delta\*1)(1\*h)(\inv{\Delta}\*1))} =\\
      \inv{(\inv{\Delta}\*1)}\inv{(1\*h)}\inv{(\Delta\*1)} =
        (\Delta\*1)(1\*\inv{h})(\inv{\Delta}\*1).
  \end{multline*}

  To show ~\ref{lemitem:delta_nabla_2}, we compose $h$ and $g$:
  \[
    \raisebox{45pt}{$hg=$ }
        \begin{tikzpicture}
          \node at (0.25,4) (s1) {};
          \node at (.5,4) (s2) {};
          \node at (0.25,3.5) [delta] (d2) {};
          \node at (.65,3) [map] (h) {$\scriptstyle \ h\ $};
          \node at (0.25, 2.5) [nabla] (n2) {};
          \node at (0.25,2) [delta] (d3) {};
          \node at (.65,1.5) [map] (g) {$\scriptstyle \ g\ $};
          \node at (0.25, 1) [nabla] (n3) {};
          \node at (0.25,0.5) (end1) {};
          \node at (.5,0.5) (end2) {};
          \draw [] (s1) to (d2);
          \draw [] (s2) to[out=270,in=55] (h);
          \draw [] (d2) to[out=305,in=125] (h);
          \draw [] (d2) to[out=235,in=125] (n2);
          \draw (h) to[out=235,in=55] (n2);
          \draw (h) to[out=305,in=55] (g);
          \draw (n2) to (d3);
          \draw [] (d3) to[out=305,in=125] (g);
          \draw [] (d3) to[out=235,in=125] (n3);
          \draw (g) to[out=235,in=55] (n3);
          \draw (g) to[out=305,in=90] (end2);
          \draw (n3) to (end1);
        \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
          \node at (0.25,4.5) (s1) {};
          \node at (.5,4.5) (s2) {};
          \node at (0.25,4) [delta] (d1) {};
          \node at (.65,3.5) [map] (h) {$\scriptstyle \ h\ $};
          \node at (0,3) [delta] (d2) {};
          \node at (0.25, 2.5) [nabla] (n2) {};
          \node at (.65,2) [map] (g) {$\scriptstyle \ g\ $};
          \node at (0.25, 1.5) [nabla] (n1) {};
          \node at (0.25,1) (end1) {};
          \node at (.5,1) (end2) {};
          \draw [] (s1) to (d1);
          \draw (d1) to[out=235,in=90] (d2);
          \draw (d1) to[out=305,in=125] (h);
          \draw [] (s2) to[out=270,in=55] (h);
          \draw [] (d2) to[out=305,in=125] (n2);
          \draw [] (d2) to[out=235,in=125] (n1);
          \draw (h) to[out=235,in=55] (n2);
          \draw (h) to[out=305,in=55] (g);
          \draw (n2) to[out=270,in=125] (g);
          \draw (g) to[out=235,in=55] (n1);
          \draw (g) to[out=305,in=90] (end2);
          \draw (n1) to (end1);
        \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
          \node at (0.25,4.5) (s1) {};
          \node at (.5,4.5) (s2) {};
          \node at (0.25,4) [delta] (d1) {};
          \node at (0,3.5) [delta] (d2) {};
          \node at (.65,3) [map] (h) {$\scriptstyle \ h\ $};
          \node at (0.25, 2.5) [nabla] (n2) {};
          \node at (.65,2) [map] (g) {$\scriptstyle \ g\ $};
          \node at (0.25, 1.5) [nabla] (n1) {};
          \node at (0.25,1) (end1) {};
          \node at (.5,1) (end2) {};
          \draw [] (s1) to (d1);
          \draw (d1) to[out=235,in=90] (d2);
          \draw (d1) to[out=305,in=125] (h);
          \draw [] (s2) to[out=270,in=55] (h);
          \draw [] (d2) to[out=305,in=125] (n2);
          \draw [] (d2) to[out=235,in=125] (n1);
          \draw (h) to[out=235,in=55] (n2);
          \draw (h) to[out=305,in=55] (g);
          \draw (n2) to[out=270,in=125] (g);
          \draw (g) to[out=235,in=55] (n1);
          \draw (g) to[out=305,in=90] (end2);
          \draw (n1) to (end1);
        \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
        \begin{tikzpicture}
          \node at (0.25,4.5) (s1) {};
          \node at (.5,4.5) (s2) {};
          \node at (0.25,4) [delta] (d1) {};
          \node at (0.5,3.5) [delta] (d2) {};
          \node at (.85,3) [map] (h) {$\scriptstyle \ h\ $};
          \node at (0.5, 2.5) [nabla] (n2) {};
          \node at (.65,2) [map] (g) {$\scriptstyle \ g\ $};
          \node at (0.25, 1.5) [nabla] (n1) {};
          \node at (0.25,1) (end1) {};
          \node at (.5,1) (end2) {};
          \draw [] (s1) to (d1);
          \draw (d1) to[out=235,in=125] (n1);
          \draw (d1) to[out=305,in=90] (d2);
          \draw [] (s2) to[out=270,in=55] (h);
          \draw [] (d2) to[out=305,in=125] (h);
          \draw [] (d2) to[out=235,in=125] (n2);
          \draw (h) to[out=235,in=55] (n2);
          \draw (h) to[out=305,in=55] (g);
          \draw (n2) to[out=270,in=125] (g);
          \draw (g) to[out=235,in=55] (n1);
          \draw (g) to[out=305,in=90] (end2);
          \draw (n1) to (end1);
        \end{tikzpicture}
      \ \raisebox{45pt}{$=$}\
      \raisebox{15pt}{
        \begin{tikzpicture}
          \node at (0.25,4) (s1) {};
          \node at (.5,4) (s2) {};
          \node at (0.25,3.5) [delta] (d1) {};
          \node at (.65,3) [map] (h) {$\scriptstyle \ h\ $};
          \node at (.65,2.5) [map] (g) {$\scriptstyle \ g\ $};
          \node at (0.25, 2) [nabla] (n1) {};
          \node at (0.25,1.5) (end1) {};
          \node at (.5,1.5) (end2) {};
          \draw [] (s1) to (d1);
          \draw (d1) to[out=235,in=125] (n1);
          \draw (d1) to[out=305,in=125] (h);
          \draw [] (s2) to[out=270,in=55] (h);
          \draw (h) to[out=235,in=125] (g);
          \draw (h) to[out=305,in=55] (g);
          \draw (g) to[out=235,in=55] (n1);
          \draw (g) to[out=305,in=90] (end2);
          \draw (n1) to (end1);
        \end{tikzpicture}
        }
   \]

   For~\ref{lemitem:delta_nabla_3}, this follows immediately from
  \[
    \begin{tikzpicture}
      \node at (0,2) (s1) {};
      \node at (.5,2) (s2) {};
      \node at (0,1.5) [delta] (d1) {};
      \node at (.5,1) [map] (h) {$\scriptstyle h$};
      \node at (0,.5) [nabla] (n1) {};
      \node at (0,0) (end1) {};
      \node at (.5,0) (end2) {};
      \draw [] (s1) to (d1);
      \draw [] (s2) to (h);
      \draw [] (d1) to[out=305,in=55] (n1);
      \draw [] (d1) to[out=235,in=125] (n1);
      \draw (h) to (end2);
      \draw (n1) to (end1);
    \end{tikzpicture}
    \ \raisebox{28pt}{$=\ $}
    \begin{tikzpicture}
      \node at (0.25,2) (s1) {};
      \node at (.5,2) (s2) {};
      \node at (.5,1) [map] (h) {$\scriptstyle h$};
       \node at (0.25,0) (end1) {};
      \node at (.5,0) (end2) {};
      \draw [] (s1) to (end1);
      \draw [] (s2) to (h);
      \draw (h) to (end2);
    \end{tikzpicture}
    \ \raisebox{28pt}{$= 1\* h$.}
  \]

  Finally, for~\ref{lemitem:delta_nabla_4}, recalling the exchange rule, we have
\[
  \raisebox{45pt}{$\dmap{\Delta} =$ }
  \begin{tikzpicture}
    \node [style=nothing] (s1) at (-1, 3) {};
    \node [style=nothing] (s2) at (-0.25, 3) {};
    \node [style=delta] (d1) at (-1,2.5) {};
    \node [style=tensor] (t1) at (-0.5,2) {$\scriptstyle \*$};
    \node [style=delta] (d2) at (-0.5,1.5) {};
    \node [style=tensor] (t2) at (-0.75,1) {$\scriptstyle \*$};
    \node [style=nabla] (n1) at (-1,0.5) {};
    \node [style=tensor] (t3) at (-0.25,0.5) {$\scriptstyle \*$};
    \node [style=nothing] (e1) at (-1,0) {};
    \node [style=nothing] (e2) at (-0.25,0) {};
    \draw (s1) to (d1);
    \draw (s2) to[out=270,in=55] (t1);
    \draw (d1) to[out=235,in=125] (n1);
    \draw (d1) to[out=305,in=125] (t1);
    \draw (t1) to (d2);
    \draw (d2) to[out=235,in=90] (t2);
    \draw (d2) to[out=305,in=55] (t3);
    \draw (t2) to[out=235,in=55] (n1);
    \draw (t2) to[out=305,in=125] (t3);
    \draw (n1) to (e1);
    \draw (t3) to (e2);
  \end{tikzpicture}
  \raisebox{45pt}{$ =$ }
  \begin{tikzpicture}
    \node [style=nothing] (s1) at (-1, 2.5) {};
    \node [style=nothing] (s2) at (-0.25, 2.5) {};
    \node [style=delta] (d1) at (-1,2) {};
    \node [style=delta] (d2) at (-.75,1.25) {};
    \node [style=delta] (d3) at (-0.25,1.25) {};
    \node [style=nabla] (n1) at (-1,0.5) {};
    \node [style=tensor] (t3) at (-0.25,0.5) {$\scriptstyle \*$};
    \node [style=nothing] (e1) at (-1,0) {};
    \node [style=nothing] (e2) at (-0.25,0) {};
    \draw (s1) to (d1);
    \draw (s2) to (d3);
    \draw (d1) to[out=235,in=125] (n1);
    \draw (d1) to[out=305,in=90] (d2);
    \draw (d2) to[out=235,in=55] (n1);
    \draw (d2) to[out=305,in=90] (t3);
    \draw (d3) to[out=235,in=125] (t3);
    \draw (d3) to[out=305,in=55] (t3);
    \draw (n1) to (e1);
    \draw (t3) to (e2);
  \end{tikzpicture}
  \raisebox{45pt}{$ =$ }
  \begin{tikzpicture}
    \node [style=nothing] (s1) at (-1, 2.5) {};
    \node [style=nothing] (s2) at (-0.25, 2.5) {};
    \node [style=delta] (d1) at (-1,2) {};
    \node [style=delta] (d2) at (-1.25,1.25) {};
    \node [style=delta] (d3) at (-0.25,1.75) {};
    \node [style=nabla] (n1) at (-1,0.5) {};
    \node [style=tensor] (t3) at (-0.25,0.5) {$\scriptstyle \*$};
    \node [style=nothing] (e1) at (-1,0) {};
    \node [style=nothing] (e2) at (-0.25,0) {};
    \draw (s1) to (d1);
    \draw (s2) to (d3);
    \draw (d1) to[out=235,in=90] (d2);
    \draw (d1) to[out=305,in=90] (t3);
    \draw (d2) to[out=235,in=125] (n1);
    \draw (d2) to[out=305,in=55] (n1);
    \draw (d3) to[out=235,in=125] (t3);
    \draw (d3) to[out=305,in=55] (t3);
    \draw (n1) to (e1);
    \draw (t3) to (e2);
  \end{tikzpicture}
  \raisebox{45pt}{$ =$ }
  \begin{tikzpicture}
    \node [style=nothing] (s1) at (-1, 2.5) {};
    \node [style=nothing] (s2) at (-0.25, 2.5) {};
    \node [style=delta] (d1) at (-1,2) {};
    \node [style=delta] (d3) at (-0.25,2) {};
    \node [style=tensor] (t3) at (-0.25,1) {$\scriptstyle \*$};
    \node [style=nothing] (e1) at (-1,0.5) {};
    \node [style=nothing] (e2) at (-0.25,0.5) {};
    \draw (s1) to (d1);
    \draw (s2) to (d3);
    \draw (d1) to[out=235,in=90] (e1);
    \draw (d1) to[out=305,in=90] (t3);
    \draw (d3) to[out=235,in=125] (t3);
    \draw (d3) to[out=305,in=55] (t3);
    \draw (t3) to (e2);
  \end{tikzpicture}
  \raisebox{45pt}{$ =\Delta$ }
\]
\end{proof}

Because of these closure rules, rather than stating $h = \dmap{h}$ we may equivalently say $h\in
\dmap{A}$ when $h=\dmap{h}:A\*X \to A\*Y$.

From Lemma~\ref{lem:delta_nabla_maps_are_closed}, we see that we will be able to form a category
based on maps $h$ such that $h=\dmap{h}$. Of course, this category is dependent upon the choice of
the object $A$, hence we will label it $\X[A]$, as it is reminiscent of the simple slice category
over an object $A$ in a category. We make this precise in the following proposition:

\begin{proposition}\label{prop:slice-a-is-a-discrete-inverse-category}
  Given a discrete inverse category $\X$, define $\X[A]$ as  the restriction category:
  \rcategory{The objects of $\X$}{A map $h=\dmap{h}:A\*X\to A\*Y$ in \X is a map from $X$ to $Y$ in
    $\X[A]$}{Composition in \X}{$1\*1$ in \X}{$\rst{h}$ in \X is $\rst{h}$ in $\X[A]$}
  Then, $\X[A]$ is a discrete inverse category.
\end{proposition}
\begin{proof}
  Given Lemma~\ref{lem:delta_nabla_maps_are_closed}, we see immediately that $\X[A]$ is a
  category. We must show the restriction is in $\X[A]$, i.e.,
  $h=\dmap{h}$ then $\rst{h} = \dmap{\rst{h}}$ and that $\X[A]$ has a tensor and a Frobenius $\Delta$.

  Recalling that $\rst{(1\*h)} = 1\* \rst{h}$ we have
  \begin{multline*}
    (\Delta\*1) \rst{(1\*h)} (\inv{\Delta}\*1) = \rst{(\Delta\*1)(1\*h)}(\Delta\*1)
    (\inv{\Delta}\*1) = \rst{(\Delta\*1)(1\*h)} \\
      \le \rst{(\Delta\*1)(1\*h)(\inv{\Delta}\*1)} = \rst{h}.
  \end{multline*}
  Note this means there is some $k$ such that
  $\rst{k} = (\Delta\*1) \rst{(1\*h)}(\inv{\Delta}\*1)$. Next, computing $\rst{k}h$ we have:
  \begin{align*}
    \rst{k}h &= (\Delta\*1) \rst{(1\*h)} (\inv{\Delta}\*1) (\Delta\*1) (1\*h) (\inv{\Delta}\*1) \\
    & = (\Delta\*1) \rst{(1\*h)}\, \rst{(\inv{\Delta}\*1)} (1\*h) (\inv{\Delta}\*1) \\
    & = (\Delta\*1) \rst{(\inv{\Delta}\*1)}\,  \rst{(1\*h)}(1\*h) (\inv{\Delta}\*1) \\
    & = (\Delta\*1) \wrg{(\Delta\*1)}  (1\*h) (\inv{\Delta}\*1) \\
    & = (\Delta\*1) (1\*h) (\inv{\Delta}\*1) \\
    & = h.
  \end{align*}
  But by Lemma~\ref{lem:restriction_cats_are_partial_order_enriched}, if $\rst{k} h = h$, we have
  $\rst{h} \le \rst{k}$. As we already have $\rst{k}\le\rst{h}$ this means they are equal and the
  restriction is in $\X[A]$, thus, $\X[A]$ is a restriction category.

  The tensor of objects in $\X[A]$ is given by the tensor of the objects in $\X$. For two maps $h,k$
  in $\X[A]$, $h\*k$ is given by
  $(\Delta\*1\*1)(1\*c_{\*}\*1)(h\*k)(1\*c_{\*}\*1)(\inv{\Delta}\*1\*1)$ in $\X$. This is a map in
  $\X[A]$ as
  \[
    \raisebox{50pt}{$\dmap{(h\*g)}=$ }
        \begin{tikzpicture}
          \node at (0,3.5) (s1) {};
          \node at (.5,3.5) (s2) {};
          \node at (.75,3.5) (s3) {};
          \node at (0,3) [delta] (d1) {};
          \node at (.25,2.5) [delta] (d2) {};
          \node at (.25,1.75) [map] (h) {$\scriptstyle \,h\,$};
          \node at (.75,1.75) [map] (g) {$\scriptstyle \,g\,$};
          \node at (0.25, 1) [nabla] (n2) {};
          \node at (0, .5) [nabla] (n1) {};
          \node at (0,0) (end1) {};
          \node at (.5,0) (end2) {};
          \node at (.75,0) (end3) {};
          \draw [] (s1) to (d1);
          \draw [] (s2) to[out=270,in=55] (h);
          \draw [] (s3) to[out=270,in=55] (g);
          \draw [] (d1) to[out=305,in=90] (d2);
          \draw [] (d1) to[out=235,in=125] (n1);
          \draw [] (d2) to[out=305,in=125] (g);
          \draw [] (d2) to[out=235,in=125] (h);
          \draw (h) to[out=235,in=125] (n2);
          \draw (h) to[out=305,in=90] (end2);
          \draw (g) to[out=235,in=55] (n2);
          \draw (g) to[out=305,in=90] (end3);
          \draw (n2) to[out=270,in=55] (n1);
          \draw (n1) to (end1);
        \end{tikzpicture}
      \ \raisebox{50pt}{$=$}\
        \begin{tikzpicture}
          \node at (0,3.5) (s1) {};
          \node at (.5,3.5) (s2) {};
          \node at (.75,3.5) (s3) {};
          \node at (0,3) [delta] (d1) {};
          \node at (-.25,2.5) [delta] (d2) {};
          \node at (.25,1.75) [map] (h) {$\scriptstyle \,h\,$};
          \node at (.75,1.75) [map] (g) {$\scriptstyle \,g\,$};
          \node at (-0.25, 1) [nabla] (n2) {};
          \node at (0, .5) [nabla] (n1) {};
          \node at (0,0) (end1) {};
          \node at (.5,0) (end2) {};
          \node at (.75,0) (end3) {};
          \draw [] (s1) to (d1);
          \draw [] (s2) to[out=270,in=55] (h);
          \draw [] (s3) to[out=270,in=55] (g);
          \draw [] (d1) to[out=235,in=90] (d2);
          \draw [] (d1) to[out=305,in=125] (g);
          \draw [] (d2) to[out=305,in=125] (h);
          \draw [] (d2) to[out=235,in=125] (n2);
          \draw (h) to[out=235,in=55] (n2);
          \draw (h) to[out=305,in=90] (end2);
          \draw (g) to[out=235,in=55] (n1);
          \draw (g) to[out=305,in=90] (end3);
          \draw (n2) to[out=270,in=125] (n1);
          \draw (n1) to (end1);
        \end{tikzpicture}
      \ \raisebox{50pt}{$=$}\
      \raisebox{15pt}{
        \begin{tikzpicture}
          \node at (0,2.5) (s1) {};
          \node at (.5,2.5) (s2) {};
          \node at (.75,2.5) (s3) {};
          \node at (0,2) [delta] (d1) {};
          \node at (.25,1.25) [map] (h) {$\scriptstyle \,h\,$};
          \node at (.75,1.25) [map] (g) {$\scriptstyle \,g\,$};
          \node at (0, .5) [nabla] (n1) {};
          \node at (0,0) (end1) {};
          \node at (.5,0) (end2) {};
          \node at (.75,0) (end3) {};
          \draw [] (s1) to (d1);
          \draw [] (s2) to[out=270,in=55] (h);
          \draw [] (s3) to[out=270,in=55] (g);
          \draw [] (d1) to[out=235,in=125] (h);
          \draw [] (d1) to[out=305,in=125] (g);
          \draw (h) to[out=235,in=125] (n1);
          \draw (h) to[out=305,in=90] (end2);
          \draw (g) to[out=235,in=55] (n1);
          \draw (g) to[out=305,in=90] (end3);
          \draw (n1) to (end1);
        \end{tikzpicture}}
      \ \raisebox{50pt}{$= h\*g$}\
  \]

  The $\Delta$ in $\X[A]$ is given by the map $1\*\Delta$ in \X. The various identities required of
  $\Delta$ hold in $\X[A]$ as they hold in $\X$, therefore $\X[A]$ is a discrete inverse category.
\end{proof}

We note that there are functors between $\X$ and $\X[A]$, given by:
\[
  G:\X\to\X[A];\quad G:B\mapsto B;\quad G:f \mapsto 1\*f
\]
and
\[
  F:\X[A]\to\X; \quad F:B \mapsto A\*B; \quad F: f \mapsto f.
\]
However, these do not form an adjoint pair as the relation is
\[
  \infer{\X(A\*X,A\*Y)}{\X[A](X,Y)}\quad \left(\text{i.e.,}  \infer{\X(F(X),F(Y))}{\X[A](X,G(Y))}\right)
\]
rather than the required
\[
  \infer{\X(F(X),Y)}{\X[A](X,G(Y))}.
\]


% chapter inverse_categories (end)
%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../phd-thesis"
%%% End:
